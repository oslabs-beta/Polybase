<<<<<<< HEAD
!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).neo4j=t()}(function(){return function n(o,i,s){function u(e,t){if(!i[e]){if(!o[e]){var r="function"==typeof require&&require;if(!t&&r)return r(e,!0);if(a)return a(e,!0);throw(r=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",r}r=i[e]={exports:{}},o[e][0].call(r.exports,function(t){return u(o[e][1][t]||t)},r,r.exports,n,o,i,s)}return i[e].exports}for(var a="function"==typeof require&&require,t=0;t<s.length;t++)u(s[t]);return u}({1:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.assertImpersonatedUserIsEmpty=r.assertTxConfigIsEmpty=r.assertDatabaseIsEmpty=void 0;var n=t("neo4j-driver-core");r.assertTxConfigIsEmpty=function(t,e,r){if(void 0===e&&(e=function(){}),t&&!t.isEmpty()){t=(0,n.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw e(t.message),r.onError(t),t}},r.assertDatabaseIsEmpty=function(t,e,r){if(void 0===e&&(e=function(){}),t){t=(0,n.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw e(t.message),r.onError(t),t}},r.assertImpersonatedUserIsEmpty=function(t,e,r){if(void 0===e&&(e=function(){}),t){t=(0,n.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. Trying to impersonate "+t+".");throw e(t.message),r.onError(t),t}}},{"neo4j-driver-core":60}],2:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var p=t("./bolt-protocol-util"),o=t("../packstream"),h=n(t("./request-message")),d=t("./stream-observers"),n=t("neo4j-driver-core"),i=n.internal.bookmark.Bookmark,t=n.internal.constants,s=t.ACCESS_MODE_WRITE,u=t.BOLT_PROTOCOL_V1,a=(n.internal.logger.Logger,n.internal.txConfig.TxConfig),n=(Object.defineProperty(c.prototype,"version",{get:function(){return u},enumerable:!1,configurable:!0}),c.prototype.packer=function(){return this._packer},c.prototype.unpacker=function(){return this._unpacker},c.prototype.transformMetadata=function(t){return t},c.prototype.initialize=function(t){var e=this,r=void 0===t?{}:t,n=r.userAgent,t=r.authToken,o=r.onError,i=r.onComplete,r=new d.LoginObserver({onError:function(t){return e._onLoginError(t,o)},onCompleted:function(t){return e._onLoginCompleted(t,i)}});return this.write(h.default.init(n,t),r,!0),r},c.prototype.prepareToClose=function(){},c.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,r=e.bookmark,n=e.txConfig,o=e.database,i=e.mode,s=e.impersonatedUser,u=e.beforeError,a=e.afterError,t=e.beforeComplete,e=e.afterComplete;return this.run("BEGIN",r?r.asBeginTransactionParameters():{},{bookmark:r,txConfig:n,database:o,mode:i,impersonatedUser:s,beforeError:u,afterError:a,beforeComplete:t,afterComplete:e,flush:!1})},c.prototype.commitTransaction=function(t){var e=void 0===t?{}:t,r=e.beforeError,n=e.afterError,t=e.beforeComplete,e=e.afterComplete;return this.run("COMMIT",{},{bookmark:i.empty(),txConfig:a.empty(),mode:s,beforeError:r,afterError:n,beforeComplete:t,afterComplete:e})},c.prototype.rollbackTransaction=function(t){var e=void 0===t?{}:t,r=e.beforeError,n=e.afterError,t=e.beforeComplete,e=e.afterComplete;return this.run("ROLLBACK",{},{bookmark:i.empty(),txConfig:a.empty(),mode:s,beforeError:r,afterError:n,beforeComplete:t,afterComplete:e})},c.prototype.run=function(t,e,r){var n=void 0===r?{}:r,o=(n.bookmark,n.txConfig),i=n.database,s=(n.mode,n.impersonatedUser),u=n.beforeKeys,a=n.afterKeys,c=n.beforeError,l=n.afterError,f=n.beforeComplete,r=n.afterComplete,n=n.flush,n=void 0===n||n,r=new d.ResultStreamObserver({server:this._server,beforeKeys:u,afterKeys:a,beforeError:c,afterError:l,beforeComplete:f,afterComplete:r});return(0,p.assertTxConfigIsEmpty)(o,this._onProtocolError,r),(0,p.assertDatabaseIsEmpty)(i,this._onProtocolError,r),(0,p.assertImpersonatedUserIsEmpty)(s,this._onProtocolError,r),this.write(h.default.run(t,e),r,!1),this.write(h.default.pullAll(),r,n),r},Object.defineProperty(c.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),c.prototype.reset=function(t){var e=void 0===t?{}:t,t=e.onError,e=e.onComplete,e=new d.ResetObserver({onProtocolError:this._onProtocolError,onError:t,onComplete:e});return this.write(h.default.reset(),e,!0),e},c.prototype._createPacker=function(t){return new o.v1.Packer(t)},c.prototype._createUnpacker=function(t,e){return new o.v1.Unpacker(t,e)},c.prototype.write=function(t,e,r){var n=this;this.queueObserverIfProtocolIsNotBroken(e)&&(this._log.isDebugEnabled()&&this._log.debug("C: "+t),this.packer().packStruct(t.signature,t.fields.map(function(t){return n.packer().packable(t)})),this._chunker.messageBoundary(),r&&this._chunker.flush())},c.prototype.notifyFatalError=function(t){return this._fatalError=t,this._responseHandler._notifyErrorToObservers(t)},c.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},c.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},c.prototype.queueObserverIfProtocolIsNotBroken=function(t){return this.isBroken()?(this.notifyFatalErrorToObserver(t),!1):this._responseHandler._queueObserver(t)},c.prototype.isBroken=function(){return!!this._fatalError},c.prototype.notifyFatalErrorToObserver=function(t){t&&t.onError&&t.onError(this._fatalError)},c.prototype.resetFailure=function(){this._responseHandler._resetFailure()},c.prototype._onLoginCompleted=function(t,e){var r;t&&(r=t.server,this._server.version||(this._server.version=r)),e&&e(t)},c.prototype._onLoginError=function(t,e){this._onProtocolError(t.message),e&&e(t)},c);function c(t,e,r,n,o,i){var s=void 0===r?{}:r,r=s.disableLosslessIntegers,s=s.useBigInt;void 0===n&&(n=function(){return null}),this._server=t||{},this._chunker=e,this._packer=this._createPacker(e),this._unpacker=this._createUnpacker(r,s),this._responseHandler=n(this),this._log=o,this._onProtocolError=i,this._fatalError=null}r.default=n},{"../packstream":43,"./bolt-protocol-util":1,"./request-message":13,"./stream-observers":16,"neo4j-driver-core":60}],3:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s,u=i(t("./bolt-protocol-v1")),a=i(t("../packstream")),c=t("neo4j-driver-core").internal.constants.BOLT_PROTOCOL_V2,o=(s=u.default,o(l,s),l.prototype._createPacker=function(t){return new a.default.Packer(t)},l.prototype._createUnpacker=function(t,e){return new a.default.Unpacker(t,e)},Object.defineProperty(l.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),l);function l(){return null!==s&&s.apply(this,arguments)||this}r.default=o},{"../packstream":43,"./bolt-protocol-v1":2,"neo4j-driver-core":60}],4:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var u,a=s(t("./bolt-protocol-v2")),d=s(t("./request-message")),b=t("./bolt-protocol-util"),_=t("./stream-observers"),t=t("neo4j-driver-core"),c=(t.internal.bookmark.Bookmark,t.internal.constants.BOLT_PROTOCOL_V3),l=t.internal.txConfig.TxConfig,f="context",p=new _.StreamObserver,o=(u=a.default,o(h,u),Object.defineProperty(h.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),h.prototype.transformMetadata=function(t){return"t_first"in t&&(t.result_available_after=t.t_first,delete t.t_first),"t_last"in t&&(t.result_consumed_after=t.t_last,delete t.t_last),t},h.prototype.initialize=function(t){var e=this,r=void 0===t?{}:t,n=r.userAgent,t=r.authToken,o=r.onError,i=r.onComplete,r=new _.LoginObserver({onError:function(t){return e._onLoginError(t,o)},onCompleted:function(t){return e._onLoginCompleted(t,i)}});return this.write(d.default.hello(n,t),r,!0),r},h.prototype.prepareToClose=function(){this.write(d.default.goodbye(),p,!0)},h.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,r=e.bookmark,n=e.txConfig,o=e.database,i=e.impersonatedUser,s=e.mode,u=e.beforeError,a=e.afterError,t=e.beforeComplete,e=e.afterComplete,e=new _.ResultStreamObserver({server:this._server,beforeError:u,afterError:a,beforeComplete:t,afterComplete:e});return e.prepareToHandleSingleResponse(),(0,b.assertDatabaseIsEmpty)(o,this._onProtocolError,e),(0,b.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,e),this.write(d.default.begin({bookmark:r,txConfig:n,mode:s}),e,!0),e},h.prototype.commitTransaction=function(t){var e=void 0===t?{}:t,r=e.beforeError,n=e.afterError,t=e.beforeComplete,e=e.afterComplete,e=new _.ResultStreamObserver({server:this._server,beforeError:r,afterError:n,beforeComplete:t,afterComplete:e});return e.prepareToHandleSingleResponse(),this.write(d.default.commit(),e,!0),e},h.prototype.rollbackTransaction=function(t){var e=void 0===t?{}:t,r=e.beforeError,n=e.afterError,t=e.beforeComplete,e=e.afterComplete,e=new _.ResultStreamObserver({server:this._server,beforeError:r,afterError:n,beforeComplete:t,afterComplete:e});return e.prepareToHandleSingleResponse(),this.write(d.default.rollback(),e,!0),e},h.prototype.run=function(t,e,r){var n=void 0===r?{}:r,o=n.bookmark,i=n.txConfig,s=n.database,u=n.impersonatedUser,a=n.mode,c=n.beforeKeys,l=n.afterKeys,f=n.beforeError,p=n.afterError,h=n.beforeComplete,r=n.afterComplete,n=n.flush,n=void 0===n||n,r=new _.ResultStreamObserver({server:this._server,beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:h,afterComplete:r});return(0,b.assertDatabaseIsEmpty)(s,this._onProtocolError,r),(0,b.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,r),this.write(d.default.runWithMetadata(t,e,{bookmark:o,txConfig:i,mode:a}),r,!1),this.write(d.default.pullAll(),r,n),r},h.prototype.requestRoutingInformation=function(t){var e=t.routingContext,r=t.sessionContext,n=void 0===r?{}:r,o=t.onError,r=t.onCompleted,n=this.run("CALL dbms.cluster.routing.getRoutingTable($context)",((t={})[f]=void 0===e?{}:e,t),i(i({},n),{txConfig:l.empty()}));return new _.ProcedureRouteObserver({resultObserver:n,onProtocolError:this._onProtocolError,onError:o,onCompleted:r})},h);function h(){return null!==u&&u.apply(this,arguments)||this}r.default=o},{"./bolt-protocol-util":1,"./bolt-protocol-v2":3,"./request-message":13,"./stream-observers":16,"neo4j-driver-core":60}],5:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var u,a=i(t("./bolt-protocol-v3")),_=i(t("./request-message")),y=t("./bolt-protocol-util"),v=t("./stream-observers"),i=t("neo4j-driver-core"),t=(i.internal.bookmark.Bookmark,i.internal.constants),c=t.BOLT_PROTOCOL_V4_0,m=t.FETCH_ALL,l=i.internal.txConfig.TxConfig,f="context",p="database",o=(u=a.default,o(h,u),Object.defineProperty(h.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),h.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,r=e.bookmark,n=e.txConfig,o=e.database,i=e.impersonatedUser,s=e.mode,u=e.beforeError,a=e.afterError,t=e.beforeComplete,e=e.afterComplete,e=new v.ResultStreamObserver({server:this._server,beforeError:u,afterError:a,beforeComplete:t,afterComplete:e});return e.prepareToHandleSingleResponse(),(0,y.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,e),this.write(_.default.begin({bookmark:r,txConfig:n,database:o,mode:s}),e,!0),e},h.prototype.run=function(t,e,r){var n=void 0===r?{}:r,o=n.bookmark,i=n.txConfig,s=n.database,u=n.impersonatedUser,a=n.mode,c=n.beforeKeys,l=n.afterKeys,f=n.beforeError,p=n.afterError,h=n.beforeComplete,d=n.afterComplete,b=n.flush,r=void 0===b||b,b=n.reactive,b=void 0!==b&&b,n=n.fetchSize,n=void 0===n?m:n,d=new v.ResultStreamObserver({server:this._server,reactive:b,fetchSize:n,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:h,afterComplete:d});(0,y.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,d);u=b;return this.write(_.default.runWithMetadata(t,e,{bookmark:o,txConfig:i,database:s,mode:a}),d,u&&r),b||this.write(_.default.pull({n:n}),d,r),d},h.prototype._requestMore=function(t,e,r){this.write(_.default.pull({stmtId:t,n:e}),r,!0)},h.prototype._requestDiscard=function(t,e){this.write(_.default.discard({stmtId:t}),e,!0)},h.prototype._noOp=function(){},h.prototype.requestRoutingInformation=function(t){var e=t.routingContext,r=t.databaseName,n=void 0===r?null:r,o=t.sessionContext,i=void 0===o?{}:o,r=t.onError,o=t.onCompleted,i=this.run("CALL dbms.routing.getRoutingTable($context, $database)",((t={})[f]=void 0===e?{}:e,t[p]=n,t),s(s({},i),{txConfig:l.empty()}));return new v.ProcedureRouteObserver({resultObserver:i,onProtocolError:this._onProtocolError,onError:r,onCompleted:o})},h);function h(){return null!==u&&u.apply(this,arguments)||this}r.default=o},{"./bolt-protocol-util":1,"./bolt-protocol-v3":4,"./request-message":13,"./stream-observers":16,"neo4j-driver-core":60}],6:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var u,s=i(t("./bolt-protocol-v4x0")),a=i(t("./request-message")),c=t("./stream-observers"),l=t("neo4j-driver-core").internal.constants.BOLT_PROTOCOL_V4_1,o=(u=s.default,o(f,u),Object.defineProperty(f.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),f.prototype.initialize=function(t){var e=this,r=void 0===t?{}:t,n=r.userAgent,t=r.authToken,o=r.onError,i=r.onComplete,r=new c.LoginObserver({onError:function(t){return e._onLoginError(t,o)},onCompleted:function(t){return e._onLoginCompleted(t,i)}});return this.write(a.default.hello(n,t,this._serversideRouting),r,!0),r},f);function f(t,e,r,n,o,i,s){i=u.call(this,t,e,r,n=void 0===n?function(){return null}:n,o,i)||this;return i._serversideRouting=s,i}r.default=o},{"./bolt-protocol-v4x0":5,"./request-message":13,"./stream-observers":16,"neo4j-driver-core":60}],7:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s,i=i(t("./bolt-protocol-v4x1")),u=t("neo4j-driver-core").internal.constants.BOLT_PROTOCOL_V4_2,o=(s=i.default,o(a,s),Object.defineProperty(a.prototype,"version",{get:function(){return u},enumerable:!1,configurable:!0}),a);function a(){return null!==s&&s.apply(this,arguments)||this}r.default=o},{"./bolt-protocol-v4x1":6,"neo4j-driver-core":60}],8:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s,u=i(t("./bolt-protocol-v4x2")),a=i(t("./request-message")),c=t("./stream-observers"),l=t("./stream-observers"),t=t("neo4j-driver-core"),f=t.internal.bookmark.Bookmark,p=t.internal.constants.BOLT_PROTOCOL_V4_3,o=(s=u.default,o(h,s),Object.defineProperty(h.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),h.prototype.requestRoutingInformation=function(t){var e=t.routingContext,r=void 0===e?{}:e,n=t.databaseName,o=void 0===n?null:n,e=t.sessionContext,n=void 0===e?{}:e,e=t.onError,t=t.onCompleted,t=new c.RouteObserver({onProtocolError:this._onProtocolError,onError:e,onCompleted:t}),n=n.bookmark||f.empty();return this.write(a.default.route(r,n.values(),o),t,!0),t},h.prototype.initialize=function(t){var e=this,r=void 0===t?{}:t,n=r.userAgent,t=r.authToken,o=r.onError,i=r.onComplete,r=new l.LoginObserver({onError:function(t){return e._onLoginError(t,o)},onCompleted:function(t){return void 0!==t.patch_bolt&&e._applyPatches(t.patch_bolt),e._onLoginCompleted(t,i)}});return this.write(a.default.hello(n,t,this._serversideRouting,["utc"]),r,!0),r},h.prototype._applyPatches=function(t){t.includes("utc")&&this._applyUtcPatch()},h.prototype._applyUtcPatch=function(){this._packer.useUtc=!0,this._unpacker.useUtc=!0},h);function h(){return null!==s&&s.apply(this,arguments)||this}r.default=o},{"./bolt-protocol-v4x2":7,"./request-message":13,"./stream-observers":16,"neo4j-driver-core":60}],9:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s,u=i(t("./bolt-protocol-v4x3")),a=t("neo4j-driver-core"),_=i(t("./request-message")),y=t("./stream-observers"),t=a.internal.constants,c=t.BOLT_PROTOCOL_V4_4,v=t.FETCH_ALL,l=a.internal.bookmark.Bookmark,o=(s=u.default,o(f,s),Object.defineProperty(f.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),f.prototype.requestRoutingInformation=function(t){var e=t.routingContext,r=void 0===e?{}:e,n=t.databaseName,o=void 0===n?null:n,i=t.impersonatedUser,e=void 0===i?null:i,n=t.sessionContext,i=void 0===n?{}:n,n=t.onError,t=t.onCompleted,t=new y.RouteObserver({onProtocolError:this._onProtocolError,onError:n,onCompleted:t}),i=i.bookmark||l.empty();return this.write(_.default.routeV4x4(r,i.values(),{databaseName:o,impersonatedUser:e}),t,!0),t},f.prototype.run=function(t,e,r){var n=void 0===r?{}:r,o=n.bookmark,i=n.txConfig,s=n.database,u=n.mode,a=n.impersonatedUser,c=n.beforeKeys,l=n.afterKeys,f=n.beforeError,p=n.afterError,h=n.beforeComplete,d=n.afterComplete,b=n.flush,r=void 0===b||b,b=n.reactive,b=void 0!==b&&b,n=n.fetchSize,n=void 0===n?v:n,h=new y.ResultStreamObserver({server:this._server,reactive:b,fetchSize:n,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:h,afterComplete:d}),d=b;return this.write(_.default.runWithMetadata(t,e,{bookmark:o,txConfig:i,database:s,mode:u,impersonatedUser:a}),h,d&&r),b||this.write(_.default.pull({n:n}),h,r),h},f.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,r=e.bookmark,n=e.txConfig,o=e.database,i=e.mode,s=e.impersonatedUser,u=e.beforeError,a=e.afterError,t=e.beforeComplete,e=e.afterComplete,e=new y.ResultStreamObserver({server:this._server,beforeError:u,afterError:a,beforeComplete:t,afterComplete:e});return e.prepareToHandleSingleResponse(),this.write(_.default.begin({bookmark:r,txConfig:n,database:o,mode:i,impersonatedUser:s}),e,!0),e},f);function f(){return null!==s&&s.apply(this,arguments)||this}r.default=o},{"./bolt-protocol-v4x3":8,"./request-message":13,"./stream-observers":16,"neo4j-driver-core":60}],10:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var f=t("neo4j-driver-core"),p=n(t("./bolt-protocol-v1")),h=n(t("./bolt-protocol-v2")),d=n(t("./bolt-protocol-v3")),b=n(t("./bolt-protocol-v4x0")),_=n(t("./bolt-protocol-v4x1")),y=n(t("./bolt-protocol-v4x2")),v=n(t("./bolt-protocol-v4x3")),m=n(t("./bolt-protocol-v4x4")),g=n(t("./response-handler"));r.default=function(t){var e=void 0===t?{}:t,r=e.version,n=e.chunker,o=e.dechunker,i=e.channel,s=e.disableLosslessIntegers,u=e.useBigInt,a=e.serversideRouting,t=e.server,c=e.log,l=e.observer;return function(t,e,r,n,o,i,s,u){switch(t){case 1:return new p.default(e,r,n,i,u,s);case 2:return new h.default(e,r,n,i,u,s);case 3:return new d.default(e,r,n,i,u,s);case 4:return new b.default(e,r,n,i,u,s);case 4.1:return new _.default(e,r,n,i,u,s,o);case 4.2:return new y.default(e,r,n,i,u,s,o);case 4.3:return new v.default(e,r,n,i,u,s,o);case 4.4:return new m.default(e,r,n,i,u,s,o);default:throw(0,f.newError)("Unknown Bolt protocol version: "+t)}}(r,t,n,{disableLosslessIntegers:s,useBigInt:u},a,function(e){var r=new g.default({transformMetadata:e.transformMetadata.bind(e),log:c,observer:l});return i.onerror=l.onError.bind(l),i.onmessage=function(t){return o.write(t)},o.onmessage=function(t){try{r.handleResponse(e.unpacker().unpack(t))}catch(t){return l.onError(t)}},r},l.onProtocolError.bind(l),c)}},{"./bolt-protocol-v1":2,"./bolt-protocol-v2":3,"./bolt-protocol-v3":4,"./bolt-protocol-v4x0":5,"./bolt-protocol-v4x1":6,"./bolt-protocol-v4x2":7,"./bolt-protocol-v4x3":8,"./bolt-protocol-v4x4":9,"./response-handler":14,"neo4j-driver-core":60}],11:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../channel"),i=t("neo4j-driver-core"),s=1616949271;function o(t,e){return{major:t,minor:e}}function u(){return function(t){if(4<t.length)throw(0,i.newError)("It should not have more than 4 versions of the protocol");var o=(0,n.alloc)(20);return o.writeInt32(s),t.forEach(function(t){var e,r,n;t instanceof Array?(r=(e=t[0]).major,n=e.minor,e=t[1].minor,o.writeInt32(n-e<<16|n<<8|r)):(r=t.major,n=t.minor,o.writeInt32(n<<8|r))}),o.reset(),o}([[o(4,4),o(4,2)],o(4,1),o(4,0),o(3,0)])}r.default=function(e){var o=this;return new Promise(function(r,n){function t(t){n(t)}e.onerror=t.bind(o),e._error&&t(e._error),e.onmessage=function(e){try{var t=function(t){if(72===(t=[t.readUInt8(),t.readUInt8(),t.readUInt8(),t.readUInt8()])[0]&&84===t[1]&&84===t[2]&&80===t[3])throw(0,i.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(t[3]+"."+t[2])}(e);r({protocolVersion:t,consumeRemainingBuffer:function(t){e.hasRemaining()&&t(e.readSlice(e.remaining()))}})}catch(t){n(t)}},e.write(u())})}},{"../channel":26,"neo4j-driver-core":60}],12:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RawRoutingTable=r.BoltProtocol=void 0;var s=i(t("./handshake")),u=i(t("./create")),a=i(t("./bolt-protocol-v4x3")),i=i(t("./routing-table-raw"));o(t("./stream-observers"),r),r.BoltProtocol=a.default,r.RawRoutingTable=i.default,r.default={handshake:s.default,create:u.default}},{"./bolt-protocol-v4x3":8,"./create":10,"./handshake":11,"./routing-table-raw":15,"./stream-observers":16}],13:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("neo4j-driver-core"),t=o.internal.constants,s=t.ACCESS_MODE_READ,n=t.FETCH_ALL,u=o.internal.util.assertString,t=(i.init=function(t,e){return new i(1,[t,e],function(){return"INIT "+t+" {...}"})},i.run=function(t,e){return new i(16,[t,e],function(){return"RUN "+t+" "+o.json.stringify(e)})},i.pullAll=function(){return l},i.reset=function(){return f},i.hello=function(t,e,r,n){void 0===r&&(r=null),void 0===n&&(n=null);e=Object.assign({user_agent:t},e);return r&&(e.routing=r),n&&(e.patch_bolt=n),new i(1,[e],function(){return"HELLO {user_agent: '"+t+"', ...}"})},i.begin=function(t){var t=void 0===t?{}:t,e=a(t.bookmark,t.txConfig,t.database,t.mode,t.impersonatedUser);return new i(17,[e],function(){return"BEGIN "+o.json.stringify(e)})},i.commit=function(){return p},i.rollback=function(){return h},i.runWithMetadata=function(t,e,r){var r=void 0===r?{}:r,n=a(r.bookmark,r.txConfig,r.database,r.mode,r.impersonatedUser);return new i(16,[t,e,n],function(){return"RUN "+t+" "+o.json.stringify(e)+" "+o.json.stringify(n)})},i.goodbye=function(){return d},i.pull=function(t){var e=void 0===t?{}:t,t=e.stmtId,t=void 0===t?-1:t,e=e.n,r=c(null==t?-1:t,(void 0===e?n:e)||n);return new i(63,[r],function(){return"PULL "+o.json.stringify(r)})},i.discard=function(t){var e=void 0===t?{}:t,t=e.stmtId,t=void 0===t?-1:t,e=e.n,r=c(null==t?-1:t,(void 0===e?n:e)||n);return new i(47,[r],function(){return"DISCARD "+o.json.stringify(r)})},i.route=function(t,e,r){return new i(102,[t=void 0===t?{}:t,e=void 0===e?[]:e,r=void 0===r?null:r],function(){return"ROUTE "+o.json.stringify(t)+" "+o.json.stringify(e)+" "+r})},i.routeV4x4=function(t,e,r){void 0===t&&(t={}),void 0===e&&(e=[]);var n={};return(r=void 0===r?{}:r).databaseName&&(n.db=r.databaseName),r.impersonatedUser&&(n.imp_user=r.impersonatedUser),new i(102,[t,e,n],function(){return"ROUTE "+o.json.stringify(t)+" "+o.json.stringify(e)+" "+o.json.stringify(n)})},i);function i(t,e,r){this.signature=t,this.fields=e,this.toString=r}function a(t,e,r,n,o){var i={};return t.isEmpty()||(i.bookmarks=t.values()),e.timeout&&(i.tx_timeout=e.timeout),e.metadata&&(i.tx_metadata=e.metadata),r&&(i.db=u(r,"database")),o&&(i.imp_user=u(o,"impersonatedUser")),n===s&&(i.mode="r"),i}function c(t,e){e={n:(0,o.int)(e)};return-1!==t&&(e.qid=(0,o.int)(t)),e}var l=new(r.default=t)(63,[],function(){return"PULL_ALL"}),f=new t(15,[],function(){return"RESET"}),p=new t(18,[],function(){return"COMMIT"}),h=new t(19,[],function(){return"ROLLBACK"}),d=new t(2,[],function(){return"GOODBYE"})},{"neo4j-driver-core":60}],14:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("neo4j-driver-core");function n(){}function i(t){return t}var s={onNext:n,onCompleted:n,onError:n},t=(Object.defineProperty(u.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),u.prototype.handleResponse=function(t){var e=t.fields[0];switch(t.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD "+o.json.stringify(t)),this._currentObserver.onNext(e);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS "+o.json.stringify(t));try{var r=this._transformMetadata(e);this._currentObserver.onCompleted(r)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE "+o.json.stringify(t));try{var n=(0,o.newError)(e.message,e.code);this._currentFailure=this._observer.onErrorApplyTransformation(n),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED "+o.json.stringify(t));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,o.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,o.newError)("Unknown Bolt protocol message: "+t))}},u.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onPendingObserversChange(this._pendingObservers.length)},u.prototype._queueObserver=function(t){return(t=t||s).onCompleted=t.onCompleted||n,t.onError=t.onError||n,t.onNext=t.onNext||n,void 0===this._currentObserver?this._currentObserver=t:this._pendingObservers.push(t),this._observer.onPendingObserversChange(this._pendingObservers.length),!0},u.prototype._notifyErrorToObservers=function(t){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(t);0<this._pendingObservers.length;){var e=this._pendingObservers.shift();e&&e.onError&&e.onError(t)}},u.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||0<this._pendingObservers.length},u.prototype._resetFailure=function(){this._currentFailure=null},u);function u(t){var e=void 0===t?{}:t,r=e.transformMetadata,t=e.log,e=e.observer;this._pendingObservers=[],this._log=t,this._transformMetadata=r||i,this._observer=Object.assign({onPendingObserversChange:n,onError:n,onFailure:n,onErrorApplyTransformation:i},e)}r.default=t},{"neo4j-driver-core":60}],15:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=(s.ofRecord=function(t){return null===t?s.ofNull():new d(t)},s.ofMessageResponse=function(t){return null===t?s.ofNull():new a(t)},s.ofNull=function(){return new f},Object.defineProperty(s.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),s);function s(){}r.default=i;var u,a=(o(c,u=i),Object.defineProperty(c.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0}),c);function c(t){var e=u.call(this)||this;return e._response=t,e}var l,f=(o(p,l=i),Object.defineProperty(p.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),p);function p(){return null!==l&&l.apply(this,arguments)||this}var h,d=(o(b,h=i),Object.defineProperty(b.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0}),b);function b(t){var e=h.call(this)||this;return e._record=t,e}},{}],16:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ProcedureRouteObserver=r.RouteObserver=r.CompletedObserver=r.FailedObserver=r.ResetObserver=r.LoginObserver=r.ResultStreamObserver=r.StreamObserver=void 0;var s=t("neo4j-driver-core"),u=i(t("./routing-table-raw")),p=s.internal.constants.FETCH_ALL,a=s.error.PROTOCOL_ERROR,c=(l.prototype.onNext=function(t){},l.prototype.onError=function(t){},l.prototype.onCompleted=function(t){},l);function l(){}r.StreamObserver=c;var h,i=(o(f,h=c),f.prototype.onNext=function(t){var e=new s.Record(this._fieldKeys,t,this._fieldLookup);this._observers.some(function(t){return t.onNext})?this._observers.forEach(function(t){t.onNext&&t.onNext(e)}):(this._queuedRecords.push(e),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},f.prototype.onCompleted=function(t){this._state.onSuccess(this,t)},f.prototype.onError=function(t){this._state.onError(this,t)},f.prototype.cancel=function(){this._discard=!0},f.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(j.STREAMING)},f.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(j.SUCCEEDED)},f.prototype.subscribe=function(t){if(this._error)t.onError(this._error);else{if(this._head&&t.onKeys&&t.onKeys(this._head),0<this._queuedRecords.length&&t.onNext)for(var e=0;e<this._queuedRecords.length;e++)t.onNext(this._queuedRecords[e]),this._queuedRecords.length-e-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===j.READY&&this._handleStreaming());this._tail&&t.onCompleted&&t.onCompleted(this._tail),this._observers.push(t),this._state===j.READY&&this._handleStreaming()}},f.prototype._handleHasMore=function(t){this._setState(j.READY),this._handleStreaming(),delete t.has_more},f.prototype._handlePullSuccess=function(t){var e=this;this._setState(j.SUCCEEDED);var r=Object.assign(this._server?{server:this._server}:{},this._meta,t),n=null;this._beforeComplete&&(n=this._beforeComplete(r));t=function(){e._tail=r,e._observers.some(function(t){return t.onCompleted})&&e._observers.forEach(function(t){t.onCompleted&&t.onCompleted(r)}),e._afterComplete&&e._afterComplete(r)};n?Promise.resolve(n).then(t):t()},f.prototype._handleRunSuccess=function(t,e){var r=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},t.fields&&0<t.fields.length){this._fieldKeys=t.fields;for(var n=0;n<t.fields.length;n++)this._fieldLookup[t.fields[n]]=n;delete t.fields}null!==t.qid&&void 0!==t.qid&&(this._queryId=t.qid,delete t.qid),this._storeMetadataForCompletion(t);var o=null;this._beforeKeys&&(o=this._beforeKeys(this._fieldKeys));var i=function(){r._head=r._fieldKeys,r._observers.some(function(t){return t.onKeys})&&r._observers.forEach(function(t){t.onKeys&&t.onKeys(r._fieldKeys)}),r._afterKeys&&r._afterKeys(r._fieldKeys),e()};o?Promise.resolve(o).then(i):i()}},f.prototype._handleError=function(e){var t=this;this._setState(j.FAILED),this._error=e;var r=null;this._beforeError&&(r=this._beforeError(e));function n(){t._observers.some(function(t){return t.onError})&&t._observers.forEach(function(t){t.onError&&t.onError(e)}),t._afterError&&t._afterError(e)}r?Promise.resolve(r).then(n):n()},f.prototype._handleStreaming=function(){this._head&&this._observers.some(function(t){return t.onNext||t.onCompleted})&&(this._discard?(this._discardFunction(this._queryId,this),this._setState(j.STREAMING)):this._autoPull&&(this._moreFunction(this._queryId,this._fetchSize,this),this._setState(j.STREAMING)))},f.prototype._storeMetadataForCompletion=function(t){for(var e,r=Object.keys(t),n=r.length;n--;)e=r[n],this._meta[e]=t[e]},f.prototype._setState=function(t){this._state=t},f.prototype._setupAuoPull=function(t){this._autoPull=!0,t===p?(this._lowRecordWatermark=Number.MAX_VALUE,this._highRecordWatermark=Number.MAX_VALUE):(this._lowRecordWatermark=.3*t,this._highRecordWatermark=.7*t)},f);function f(t){var e=void 0===t?{}:t,r=e.reactive,n=void 0!==r&&r,o=e.moreFunction,i=e.discardFunction,s=e.fetchSize,u=void 0===s?p:s,a=e.beforeError,c=e.afterError,l=e.beforeKeys,f=e.afterKeys,t=e.beforeComplete,r=e.afterComplete,s=e.server,e=h.call(this)||this;return e._fieldKeys=null,e._fieldLookup=null,e._head=null,e._queuedRecords=[],e._tail=null,e._error=null,e._observers=[],e._meta={},e._server=s,e._beforeError=a,e._afterError=c,e._beforeKeys=l,e._afterKeys=f,e._beforeComplete=t,e._afterComplete=r,e._queryId=null,e._moreFunction=o,e._discardFunction=i,e._discard=!1,e._fetchSize=u,e._setState(n?j.READY:j.READY_STREAMING),e._setupAuoPull(u),e}r.ResultStreamObserver=i;var d,t=(o(b,d=c),b.prototype.onNext=function(t){this.onError((0,s.newError)("Received RECORD when initializing "+s.json.stringify(t)))},b.prototype.onError=function(t){this._onError&&this._onError(t)},b.prototype.onCompleted=function(t){this._onCompleted&&this._onCompleted(t)},b);function b(t){var e=void 0===t?{}:t,r=e.onError,t=e.onCompleted,e=d.call(this)||this;return e._onError=r,e._onCompleted=t,e}r.LoginObserver=t;var _,t=(o(y,_=c),y.prototype.onNext=function(t){this.onError((0,s.newError)("Received RECORD when resetting: received record is: "+s.json.stringify(t),a))},y.prototype.onError=function(t){t.code===a&&this._onProtocolError&&this._onProtocolError(t.message),this._onError&&this._onError(t)},y.prototype.onCompleted=function(t){this._onComplete&&this._onComplete(t)},y);function y(t){var e=void 0===t?{}:t,r=e.onProtocolError,n=e.onError,t=e.onComplete,e=_.call(this)||this;return e._onProtocolError=r,e._onError=n,e._onComplete=t,e}r.ResetObserver=t;var v,t=(o(m,v=i),m);function m(t){var e=t.error,t=t.onError,t=v.call(this,{beforeError:t})||this;return t.onError(e),t}r.FailedObserver=t;var g,i=(o(O,g=i),O);function O(){var t=g.call(this)||this;return g.prototype.markCompleted.call(t),t}r.CompletedObserver=i;var w,i=(o(S,w=c),S.prototype.onNext=function(t){this._records.push(t)},S.prototype.onError=function(t){t.code===a&&this._onProtocolError&&this._onProtocolError(t.message),this._onError&&this._onError(t)},S.prototype.onCompleted=function(){null===this._records||1===this._records.length?this._onCompleted&&this._onCompleted(u.default.ofRecord(this._records[0])):this.onError((0,s.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+s.json.stringify(this._records),a))},S);function S(t){var e=t.resultObserver,r=t.onProtocolError,n=t.onError,o=t.onCompleted,t=w.call(this)||this;return t._resultObserver=e,t._onError=n,t._onCompleted=o,t._records=[],t._onProtocolError=r,e.subscribe(t),t}r.ProcedureRouteObserver=i;var E,c=(o(P,E=c),P.prototype.onNext=function(t){this.onError((0,s.newError)("Received RECORD when resetting: received record is: "+s.json.stringify(t),a))},P.prototype.onError=function(t){t.code===a&&this._onProtocolError&&this._onProtocolError(t.message),this._onError&&this._onError(t)},P.prototype.onCompleted=function(t){this._onCompleted&&this._onCompleted(u.default.ofMessageResponse(t))},P);function P(t){var e=void 0===t?{}:t,r=e.onProtocolError,n=e.onError,t=e.onCompleted,e=E.call(this)||this;return e._onProtocolError=r,e._onError=n,e._onCompleted=t,e}r.RouteObserver=c;var j={READY_STREAMING:{onSuccess:function(t,e){t._handleRunSuccess(e,function(){t._setState(j.STREAMING)})},onError:function(t,e){t._handleError(e)},name:function(){return"READY_STREAMING"}},READY:{onSuccess:function(t,e){t._handleRunSuccess(e,function(){return t._handleStreaming()})},onError:function(t,e){t._handleError(e)},name:function(){return"READY"}},STREAMING:{onSuccess:function(t,e){e.has_more?t._handleHasMore(e):t._handlePullSuccess(e)},onError:function(t,e){t._handleError(e)},name:function(){return"STREAMING"}},FAILED:{onError:function(t){},name:function(){return"FAILED"}},SUCCEEDED:{name:function(){return"SUCCEEDED"}}}},{"./routing-table-raw":15,"neo4j-driver-core":60}],17:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=(s.prototype.getUInt8=function(t){throw new Error("Not implemented")},s.prototype.getInt8=function(t){throw new Error("Not implemented")},s.prototype.getFloat64=function(t){throw new Error("Not implemented")},s.prototype.putUInt8=function(t,e){throw new Error("Not implemented")},s.prototype.putInt8=function(t,e){throw new Error("Not implemented")},s.prototype.putFloat64=function(t,e){throw new Error("Not implemented")},s.prototype.getInt16=function(t){return this.getInt8(t)<<8|this.getUInt8(t+1)},s.prototype.getUInt16=function(t){return this.getUInt8(t)<<8|this.getUInt8(t+1)},s.prototype.getInt32=function(t){return this.getInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},s.prototype.getUInt32=function(t){return this.getUInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},s.prototype.getInt64=function(t){return this.getInt8(t)<<56|this.getUInt8(t+1)<<48|this.getUInt8(t+2)<<40|this.getUInt8(t+3)<<32|this.getUInt8(t+4)<<24|this.getUInt8(t+5)<<16|this.getUInt8(t+6)<<8|this.getUInt8(t+7)},s.prototype.getSlice=function(t,e){return new a(t,e,this)},s.prototype.putInt16=function(t,e){this.putInt8(t,e>>8),this.putUInt8(t+1,255&e)},s.prototype.putUInt16=function(t,e){this.putUInt8(t,e>>8&255),this.putUInt8(t+1,255&e)},s.prototype.putInt32=function(t,e){this.putInt8(t,e>>24),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,255&e)},s.prototype.putUInt32=function(t,e){this.putUInt8(t,e>>24&255),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,255&e)},s.prototype.putInt64=function(t,e){this.putInt8(t,e>>48),this.putUInt8(t+1,e>>42&255),this.putUInt8(t+2,e>>36&255),this.putUInt8(t+3,e>>30&255),this.putUInt8(t+4,e>>24&255),this.putUInt8(t+5,e>>16&255),this.putUInt8(t+6,e>>8&255),this.putUInt8(t+7,255&e)},s.prototype.putBytes=function(t,e){for(var r=0,n=e.remaining();r<n;r++)this.putUInt8(t+r,e.readUInt8())},s.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},s.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},s.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},s.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},s.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},s.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},s.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},s.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},s.prototype.writeUInt8=function(t){this.putUInt8(this._updatePos(1),t)},s.prototype.writeInt8=function(t){this.putInt8(this._updatePos(1),t)},s.prototype.writeInt16=function(t){this.putInt16(this._updatePos(2),t)},s.prototype.writeInt32=function(t){this.putInt32(this._updatePos(4),t)},s.prototype.writeUInt32=function(t){this.putUInt32(this._updatePos(4),t)},s.prototype.writeInt64=function(t){this.putInt64(this._updatePos(8),t)},s.prototype.writeFloat64=function(t){this.putFloat64(this._updatePos(8),t)},s.prototype.writeBytes=function(t){this.putBytes(this._updatePos(t.remaining()),t)},s.prototype.readSlice=function(t){return this.getSlice(this._updatePos(t),t)},s.prototype._updatePos=function(t){var e=this.position;return this.position+=t,e},s.prototype.remaining=function(){return this.length-this.position},s.prototype.hasRemaining=function(){return 0<this.remaining()},s.prototype.reset=function(){this.position=0},s.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},s.prototype.toHex=function(){for(var t="",e=0;e<this.length;e++){var r=this.getUInt8(e).toString(16);t+=r=1===r.length?"0"+r:r,e!==this.length-1&&(t+=" ")}return t},s);function s(t){this.position=0,this.length=t}r.default=i;var u,a=(o(c,u=i),c.prototype.putUInt8=function(t,e){this._inner.putUInt8(this._start+t,e)},c.prototype.getUInt8=function(t){return this._inner.getUInt8(this._start+t)},c.prototype.putInt8=function(t,e){this._inner.putInt8(this._start+t,e)},c.prototype.putFloat64=function(t,e){this._inner.putFloat64(this._start+t,e)},c.prototype.getInt8=function(t){return this._inner.getInt8(this._start+t)},c.prototype.getFloat64=function(t){return this._inner.getFloat64(this._start+t)},c);function c(t,e,r){e=u.call(this,e)||this;return e._start=t,e._inner=r,e}},{}],18:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.BaseBuffer=void 0;t=n(t("./base-buf"));r.BaseBuffer=t.default,r.default=t.default},{"./base-buf":17}],19:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var i=n(t("../channel-buf")),s=t("neo4j-driver-core"),t=s.internal.util,u=t.ENCRYPTION_OFF,a=t.ENCRYPTION_ON,t=(o.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,s.newError)("Failed to establish connection in "+this._config.connectionTimeout+"ms",this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&(this._error=(0,s.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},o.prototype.write=function(t){if(null!==this._pending)this._pending.push(t);else{if(!(t instanceof i.default))throw(0,s.newError)("Don't know how to send buffer: "+t);try{this._ws.send(t._buffer)}catch(t){if(1===this._ws.readyState)throw t;this._handleConnectionError()}}},o.prototype.close=function(){var r=this;return new Promise(function(t,e){r._ws&&3!==r._ws.readyState?(r._open=!1,r._clearConnectionTimeout(),r._ws.onclose=function(){return t()},r._ws.close()):t()})},o.prototype.setupReceiveTimeout=function(t){},o.prototype.stopReceiveTimeout=function(){},o.prototype.startReceiveTimeout=function(){},o.prototype._setupConnectionTimeout=function(){var t=this,e=this._config.connectionTimeout;if(e){var r=this._ws;return setTimeout(function(){1!==r.readyState&&(t._connectionTimeoutFired=!0,r.close())},e)}return null},o.prototype._clearConnectionTimeout=function(){var t=this._connectionTimeoutId;!t&&0!==t||(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(t))},o);function o(t,e,r){void 0===e&&(e=c),void 0===r&&(r=function(t){return new WebSocket(t)}),this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this);var n,o=function(t,e){var r=function(t){return!0===t.encrypted||t.encrypted===a}(t),n=function(t){return!1===t.encrypted||t.encrypted===u}(t),t=t.trust,e=function(t){t="function"==typeof t?t():"";return t&&0<=t.toLowerCase().indexOf("https")}(e);if(function(t,e,r){null===r||(t&&!r?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):e&&r&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(r,n,e),n)return{scheme:"ws",error:null};if(e)return{scheme:"wss",error:null};if(r)return t&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==t?{scheme:null,error:(0,s.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+t+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u+'"` in the driver configuration.')}:{scheme:"wss",error:null};return{scheme:"ws",error:null}}(this._config=t,e),e=o.scheme,o=o.error;o?this._error=o:(this._ws=function(e,r,n){var t=e+"://"+r.asHostPort();try{return n(t)}catch(t){if(function(t,e){return"SyntaxError"===t.name&&function(t){return"["===t.charAt(0)&&-1!==t.indexOf("]")}(e.asHostPort())}(t,r)){r=function(t,e){var r=e.host().replace(new RegExp(":","g"),"-").replace("%","s");return t+"://"+r+".ipv6-literal.net:"+e.port()}(e,r);return n(r)}throw t}}(e,t.address,r),this._ws.binaryType="arraybuffer",(n=this)._ws.onclose=function(t){t&&!t.wasClean&&n._handleConnectionError(),n._open=!1},this._ws.onopen=function(){n._clearConnectionTimeout();var t=n._pending;n._pending=null;for(var e=0;e<t.length;e++)n.write(t[e])},this._ws.onmessage=function(t){n.onmessage&&(t=new i.default(t.data),n.onmessage(t))},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout())}function c(){return"undefined"!=typeof window&&window.location?window.location.protocol:null}r.default=t},{"../channel-buf":22,"neo4j-driver-core":60}],20:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("neo4j-driver-core").internal.resolver.BaseHostNameResolver,t=(o(s,i=t),s.prototype.resolve=function(t){return this._resolveToItself(t)},s);function s(){return null!==i&&i.apply(this,arguments)||this}r.default=t},{"neo4j-driver-core":60}],21:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.HostNameResolver=r.Channel=void 0;var o=n(t("./browser-channel")),t=n(t("./browser-host-name-resolver"));r.Channel=o.default,r.HostNameResolver=t.default},{"./browser-channel":19,"./browser-host-name-resolver":20}],22:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.alloc=void 0;var s,u=i(t("buffer")),t=i(t("../buf")),a=(s=t.default,o(c,s),c.prototype.getUInt8=function(t){return this._buffer.readUInt8(t)},c.prototype.getInt8=function(t){return this._buffer.readInt8(t)},c.prototype.getFloat64=function(t){return this._buffer.readDoubleBE(t)},c.prototype.putUInt8=function(t,e){this._buffer.writeUInt8(e,t)},c.prototype.putInt8=function(t,e){this._buffer.writeInt8(e,t)},c.prototype.putFloat64=function(t,e){this._buffer.writeDoubleBE(e,t)},c.prototype.putBytes=function(t,e){var r;e instanceof c?(r=Math.min(e.length-e.position,this.length-t),e._buffer.copy(this._buffer,t,e.position,e.position+r),e.position+=r):s.prototype.putBytes.call(this,t,e)},c.prototype.getSlice=function(t,e){return new c(this._buffer.slice(t,t+e))},c);function c(t){var e=this,t=(t=t)instanceof u.default.Buffer?t:"number"==typeof t&&"function"==typeof u.default.Buffer.alloc?u.default.Buffer.alloc(t):new u.default.Buffer(t);return(e=s.call(this,t.length)||this)._buffer=t,e}r.default=a,r.alloc=function(t){return new a(t)}},{"../buf":18,buffer:99}],23:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("neo4j-driver-core"),o=n.internal.util,t=o.ENCRYPTION_OFF,o=o.ENCRYPTION_ON,i=n.error.SERVICE_UNAVAILABLE,s=3e4,u=[null,void 0,!0,!1,o,t],a=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];r.default=function(t,e,r){this.address=t,this.encrypted=function(t){t=t.encrypted;if(-1!==u.indexOf(t))return t;throw(0,n.newError)("Illegal value of the encrypted setting "+t+". Expected one of "+u)}(e),this.trust=function(t){t=t.trust;if(-1!==a.indexOf(t))return t;throw(0,n.newError)("Illegal value of the trust setting "+t+". Expected one of "+a)}(e),this.trustedCertificates=e.trustedCertificates||[],this.knownHostsPath=e.knownHosts||null,this.connectionErrorCode=r||i,this.connectionTimeout=function(t){t=parseInt(t.connectionTimeout,10);return 0===t||t&&t<0?null:t||s}(e)}},{"neo4j-driver-core":60}],24:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.Dechunker=r.Chunker=void 0;var s,u=i(t("../buf/base-buf")),a=t("./channel-buf"),c=i(t("./combined-buf")),o=(s=u.default,o(l,s),l.prototype.putUInt8=function(t,e){this._ensure(1),this._buffer.writeUInt8(e)},l.prototype.putInt8=function(t,e){this._ensure(1),this._buffer.writeInt8(e)},l.prototype.putFloat64=function(t,e){this._ensure(8),this._buffer.writeFloat64(e)},l.prototype.putBytes=function(t,e){for(;0<e.remaining();)this._ensure(1),this._buffer.remaining()>e.remaining()?this._buffer.writeBytes(e):this._buffer.writeBytes(e.readSlice(this._buffer.remaining()));return this},l.prototype.flush=function(){var t;return 0<this._buffer.position&&(this._closeChunkIfOpen(),t=this._buffer,this._buffer=null,this._ch.write(t.getSlice(0,t.position)),this._buffer=(0,a.alloc)(this._bufferSize),this._chunkOpen=!1),this},l.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},l.prototype._ensure=function(t){t=this._chunkOpen?t:t+2;this._buffer.remaining()<t&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},l.prototype._closeChunkIfOpen=function(){var t;this._chunkOpen&&(t=this._buffer.position-(this._currentChunkStart+2),this._buffer.putUInt16(this._currentChunkStart,t),this._chunkOpen=!1)},l);function l(t,e){var r=s.call(this,0)||this;return r._bufferSize=e||1400,r._ch=t,r._buffer=(0,a.alloc)(r._bufferSize),r._currentChunkStart=0,r._chunkOpen=!1,r}r.Chunker=o;f.prototype.AWAITING_CHUNK=function(t){return 2<=t.remaining()?this._onHeader(t.readUInt16()):(this._partialChunkHeader=t.readUInt8()<<8,this.IN_HEADER)},f.prototype.IN_HEADER=function(t){return this._onHeader(65535&(this._partialChunkHeader|t.readUInt8()))},f.prototype.IN_CHUNK=function(t){return this._chunkSize<=t.remaining()?(this._currentMessage.push(t.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=t.remaining(),this._currentMessage.push(t.readSlice(t.remaining())),this.IN_CHUNK)},f.prototype.CLOSED=function(t){},f.prototype._onHeader=function(t){if(0!==t)return this._chunkSize=t,this.IN_CHUNK;var e=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:e=this._currentMessage[0];break;default:e=new c.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(e),this.AWAITING_CHUNK},f.prototype.write=function(t){for(;t.hasRemaining();)this._state=this._state(t)},o=f;function f(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}r.Dechunker=o},{"../buf/base-buf":17,"./channel-buf":22,"./combined-buf":25}],25:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("../buf"),u=t("./channel-buf"),o=(i=s.BaseBuffer,o(a,i),a.prototype.getUInt8=function(t){for(var e=0;e<this._buffers.length;e++){var r=this._buffers[e];if(!(t>=r.length))return r.getUInt8(t);t-=r.length}},a.prototype.getInt8=function(t){for(var e=0;e<this._buffers.length;e++){var r=this._buffers[e];if(!(t>=r.length))return r.getInt8(t);t-=r.length}},a.prototype.getFloat64=function(t){for(var e=(0,u.alloc)(8),r=0;r<8;r++)e.putUInt8(r,this.getUInt8(t+r));return e.getFloat64(0)},a);function a(t){for(var e=this,r=0,n=0;n<t.length;n++)r+=t[n].length;return(e=i.call(this,r)||this)._buffers=t,e}r.default=o},{"../buf":18,"./channel-buf":22}],26:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.utf8=r.alloc=r.ChannelConfig=void 0,o(t("./node"),r),o(t("./chunking"),r);var s=t("./channel-config");Object.defineProperty(r,"ChannelConfig",{enumerable:!0,get:function(){return i(s).default}});var u=t("./channel-buf");Object.defineProperty(r,"alloc",{enumerable:!0,get:function(){return u.alloc}});var a=t("./utf8");Object.defineProperty(r,"utf8",{enumerable:!0,get:function(){return i(a).default}})},{"./channel-buf":22,"./channel-config":23,"./chunking":24,"./node":21,"./utf8":27}],27:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var o=n(t("./channel-buf")),i=t("neo4j-driver-core"),s=n(t("buffer")),u=new(t("string_decoder").StringDecoder)("utf8");r.default={encode:function(t){return new o.default((t=t,"function"==typeof s.default.Buffer.from?s.default.Buffer.from(t,"utf8"):new s.default.Buffer(t,"utf8")))},decode:function(t,e){if(Object.prototype.hasOwnProperty.call(t,"_buffer"))return n=e,o=(r=t).position,n=o+n,r.position=Math.min(n,r.length),r._buffer.toString("utf8",o,n);if(Object.prototype.hasOwnProperty.call(t,"_buffers"))return function(t,e,o,r){var i=e,s=t.position;return t._updatePos(Math.min(e,t.length-s)),t._buffers.reduce(function(t,e){if(i<=0)return t;if(s>=e.length)return s-=e.length,"";e._updatePos(s-e.position);var r=Math.min(e.length-s,i),n=e.readSlice(r);return e._updatePos(r),i=Math.max(i-n.length,0),s=0,t+o(n)},"")+r()}(t,e,function(t){return u.write(t._buffer)},function(){return u.end()});throw(0,i.newError)("Don't know how to decode strings from '"+t+"'");var r,n,o}}},{"./channel-buf":22,buffer:99,"neo4j-driver-core":60,string_decoder:301}],28:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__awaiter||function(t,s,u,a){return new(u=u||Promise)(function(r,e){function n(t){try{i(a.next(t))}catch(t){e(t)}}function o(t){try{i(a.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,o)}i((a=a.apply(t,s||[])).next())})},s=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var a,c=u(t("./connection-provider-pooled")),l=t("../connection"),u=t("neo4j-driver-core"),t=u.internal.constants,f=t.BOLT_PROTOCOL_V3,p=t.BOLT_PROTOCOL_V4_0,h=t.BOLT_PROTOCOL_V4_4,d=u.error.SERVICE_UNAVAILABLE,o=(u.error.newError,a=c.default,o(b,a),b.prototype.acquireConnection=function(t){var r=this,t=void 0===t?{}:t,n=(t.accessMode,t.database),e=(t.bookmarks,l.ConnectionErrorHandler.create({errorCode:d,handleAuthorizationExpired:function(t,e){return r._handleAuthorizationExpired(t,e,n)}}));return this._connectionPool.acquire(this._address).then(function(t){return new l.DelegateConnection(t,e)})},b.prototype._handleAuthorizationExpired=function(t,e,r){return this._log.warn("Direct driver "+this._id+" will close connection to "+e+" for database '"+r+"' because of an error "+t.code+" '"+t.message+"'"),this._connectionPool.purge(e).catch(function(){}),t},b.prototype._hasProtocolVersion=function(n){return i(this,void 0,void 0,function(){var e,r;return s(this,function(t){switch(t.label){case 0:return[4,(0,l.createChannelConnection)(this._address,this._config,this._createConnectionErrorHandler(),this._log)];case 1:return e=t.sent(),r=e.protocol()?e.protocol().version:null,[4,e.close()];case 2:return t.sent(),r?[2,n(r)]:[2,!1]}})})},b.prototype.supportsMultiDb=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return p<=t})];case 1:return[2,t.sent()]}})})},b.prototype.supportsTransactionConfig=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return f<=t})];case 1:return[2,t.sent()]}})})},b.prototype.supportsUserImpersonation=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return h<=t})];case 1:return[2,t.sent()]}})})},b);function b(t){var e=t.id,r=t.config,n=t.log,o=t.address,i=t.userAgent,t=t.authToken,t=a.call(this,{id:e,config:r,log:n,userAgent:i,authToken:t})||this;return t._address=o,t}r.default=o},{"../connection":37,"./connection-provider-pooled":29,"neo4j-driver-core":60}],29:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},a=this&&this.__awaiter||function(t,s,u,a){return new(u=u||Promise)(function(r,e){function n(t){try{i(a.next(t))}catch(t){e(t)}}function o(t){try{i(a.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,o)}i((a=a.apply(t,s||[])).next())})},c=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(r,"__esModule",{value:!0});var l,f=t("../connection"),p=u(t("../pool")),t=t("neo4j-driver-core"),h=t.error.SERVICE_UNAVAILABLE,o=(l=t.ConnectionProvider,o(d,l),d.prototype._createConnectionErrorHandler=function(){return new f.ConnectionErrorHandler(h)},d.prototype._createConnection=function(t,r){var n=this;return this._createChannelConnection(t).then(function(e){return e._release=function(){return r(t,e)},(n._openConnections[e.id]=e).connect(n._userAgent,n._authToken).catch(function(t){throw n._destroyConnection(e),t})})},d.prototype._validateConnection=function(t){if(!t.isOpen())return!1;var e=this._config.maxConnectionLifetime;return Date.now()-t.creationTimestamp<=e},d.prototype._destroyConnection=function(t){return delete this._openConnections[t.id],t.close()},d.prototype.close=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,this._connectionPool.close()];case 1:return t.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(t){return t.close()}))];case 2:return t.sent(),[2]}})})},d._installIdleObserverOnConnection=function(t,e){t._queueObserver(e)},d._removeIdleObserverOnConnection=function(t){t._updateCurrentObserver()},d);function d(t,e){var r=t.id,n=t.config,o=t.log,i=t.userAgent,t=t.authToken;void 0===e&&(e=null);var s=l.call(this)||this;return s._id=r,s._config=n,s._log=o,s._userAgent=i,s._authToken=t,s._createChannelConnection=e||function(t){return(0,f.createChannelConnection)(t,s._config,s._createConnectionErrorHandler(),s._log)},s._connectionPool=new p.default({create:s._createConnection.bind(s),destroy:s._destroyConnection.bind(s),validate:s._validateConnection.bind(s),installIdleObserver:d._installIdleObserverOnConnection.bind(s),removeIdleObserver:d._removeIdleObserverOnConnection.bind(s),config:p.PoolConfig.fromDriverConfig(n),log:s._log}),s._openConnections={},s}r.default=o},{"../connection":37,"../pool":48,"neo4j-driver-core":60}],30:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),l=this&&this.__assign||function(){return(l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},h=this&&this.__awaiter||function(t,s,u,a){return new(u=u||Promise)(function(r,e){function n(t){try{i(a.next(t))}catch(t){e(t)}}function o(t){try{i(a.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,o)}i((a=a.apply(t,s||[])).next())})},d=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},a=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var p,b=t("neo4j-driver-core"),_=u(t("../rediscovery")),y=t("../channel"),v=f(t("./connection-provider-single")),f=f(t("./connection-provider-pooled")),m=t("../load-balancing"),g=t("../connection"),O=b.error.SERVICE_UNAVAILABLE,w=b.error.SESSION_EXPIRED,S=b.internal.bookmark.Bookmark,t=b.internal.constants,E=t.ACCESS_MODE_READ,P=t.ACCESS_MODE_WRITE,j=t.BOLT_PROTOCOL_V3,T=t.BOLT_PROTOCOL_V4_0,C=t.BOLT_PROTOCOL_V4_4,x=null,I=(0,b.int)(3e4),o=(p=f.default,o(A,p),A.prototype._createConnectionErrorHandler=function(){return new g.ConnectionErrorHandler(w)},A.prototype._handleUnavailability=function(t,e,r){return this._log.warn("Routing driver "+this._id+" will forget "+e+" for database '"+r+"' because of an error "+t.code+" '"+t.message+"'"),this.forget(e,r||x),t},A.prototype._handleAuthorizationExpired=function(t,e,r){return this._log.warn("Routing driver "+this._id+" will close connections to "+e+" for database '"+r+"' because of an error "+t.code+" '"+t.message+"'"),this._connectionPool.purge(e).catch(function(){}),t},A.prototype._handleWriteFailure=function(t,e,r){return this._log.warn("Routing driver "+this._id+" will forget writer "+e+" for database '"+r+"' because of an error "+t.code+" '"+t.message+"'"),this.forgetWriter(e,r||x),(0,b.newError)("No longer possible to write to server at "+e,w)},A.prototype.acquireConnection=function(t){var t=void 0===t?{}:t,a=t.accessMode,c=t.database,l=t.bookmarks,f=t.impersonatedUser,p=t.onDatabaseNameResolved;return h(this,void 0,void 0,function(){var e,r,n,o,i,s,u=this;return d(this,function(t){switch(t.label){case 0:return n={database:c||x},o=new g.ConnectionErrorHandler(w,function(t,e){return u._handleUnavailability(t,e,n.database)},function(t,e){return u._handleWriteFailure(t,e,n.database)},function(t,e){return u._handleAuthorizationExpired(t,e,n.database)}),[4,this._freshRoutingTable({accessMode:a,database:n.database,bookmark:l,impersonatedUser:f,onDatabaseNameResolved:function(t){n.database=n.database||t,p&&p(t)}})];case 1:if(i=t.sent(),a===E)r=this._loadBalancingStrategy.selectReader(i.readers),e="read";else{if(a!==P)throw(0,b.newError)("Illegal mode "+a);r=this._loadBalancingStrategy.selectWriter(i.writers),e="write"}if(!r)throw(0,b.newError)("Failed to obtain connection towards "+e+" server. Known routing table is: "+i,w);t.label=2;case 2:return t.trys.push([2,4,,5]),[4,this._acquireConnectionToServer(r,e,i)];case 3:return s=t.sent(),[2,new g.DelegateConnection(s,o)];case 4:throw s=t.sent(),o.handleAndTransformError(s,r);case 5:return[2]}})})},A.prototype._hasProtocolVersion=function(i){return h(this,void 0,void 0,function(){var e,r,n,o;return d(this,function(t){switch(t.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:r=t.sent(),e=0,t.label=2;case 2:if(!(e<r.length))return[3,8];t.label=3;case 3:return t.trys.push([3,6,,7]),[4,(0,g.createChannelConnection)(r[e],this._config,this._createConnectionErrorHandler(),this._log)];case 4:return r=t.sent(),n=r.protocol()?r.protocol().version:null,[4,r.close()];case 5:return t.sent(),n?[2,i(n)]:[2,!1];case 6:return o=t.sent(),o=o,[3,7];case 7:return e++,[3,2];case 8:if(o)throw o;return[2,!1]}})})},A.prototype.supportsMultiDb=function(){return h(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return T<=t})];case 1:return[2,t.sent()]}})})},A.prototype.supportsTransactionConfig=function(){return h(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return j<=t})];case 1:return[2,t.sent()]}})})},A.prototype.supportsUserImpersonation=function(){return h(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return C<=t})];case 1:return[2,t.sent()]}})})},A.prototype.forget=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forget(e)}}),this._connectionPool.purge(e).catch(function(){})},A.prototype.forgetWriter=function(e,t){this._routingTableRegistry.apply(t,{applyWhenExists:function(t){return t.forgetWriter(e)}})},A.prototype._acquireConnectionToServer=function(t,e,r){return this._connectionPool.acquire(t)},A.prototype._freshRoutingTable=function(t){var e=void 0===t?{}:t,r=e.accessMode,n=e.database,o=e.bookmark,i=e.impersonatedUser,t=e.onDatabaseNameResolved,e=this._routingTableRegistry.get(n,function(){return new _.RoutingTable({database:n})});return e.isStaleFor(r)?(this._log.info('Routing table is stale for database: "'+n+'" and access mode: "'+r+'": '+e),this._refreshRoutingTable(e,o,i,t)):e},A.prototype._refreshRoutingTable=function(t,e,r,n){var o=t.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(o,t,e,r,n):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(o,t,e,r,n)},A.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(n,o,i,s,u){return h(this,void 0,void 0,function(){var e,r;return d(this,function(t){switch(t.label){case 0:return e=[],[4,this._fetchRoutingTableUsingSeedRouter(e,this._seedRouter,o,i,s)];case 1:return(r=t.sent())?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(n,o,i,s)];case 3:r=t.sent(),t.label=4;case 4:return[4,this._applyRoutingTableIfPossible(o,r,u)];case 5:return[2,t.sent()]}})})},A.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(r,n,o,i,s){return h(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(r,n,o,i)];case 1:return(e=t.sent())?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(r,this._seedRouter,n,o,i)];case 2:e=t.sent(),t.label=3;case 3:return[4,this._applyRoutingTableIfPossible(n,e,s)];case 4:return[2,t.sent()]}})})},A.prototype._fetchRoutingTableUsingKnownRouters=function(r,n,o,i){return h(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return[4,this._fetchRoutingTable(r,n,o,i)];case 1:return(e=t.sent())?[2,e]:(e=r.length-1,A._forgetRouter(n,r,e),[2,null])}})})},A.prototype._fetchRoutingTableUsingSeedRouter=function(r,n,o,i,s){return h(this,void 0,void 0,function(){var e;return d(this,function(t){switch(t.label){case 0:return[4,this._resolveSeedRouter(n)];case 1:return e=t.sent(),e=e.filter(function(t){return r.indexOf(t)<0}),[4,this._fetchRoutingTable(e,o,i,s)];case 2:return[2,t.sent()]}})})},A.prototype._resolveSeedRouter=function(n){return h(this,void 0,void 0,function(){var e,r=this;return d(this,function(t){switch(t.label){case 0:return[4,this._hostNameResolver.resolve(n)];case 1:return e=t.sent(),[4,Promise.all(e.map(function(t){return r._dnsResolver.resolve(t)}))];case 2:return e=t.sent(),[2,[].concat.apply([],e)]}})})},A.prototype._fetchRoutingTable=function(s,u,a,c){var t=this;return s.reduce(function(n,o,i){return h(t,void 0,void 0,function(){var e,r;return d(this,function(t){switch(t.label){case 0:return[4,n];case 1:return(r=t.sent())?[2,r]:(A._forgetRouter(u,s,i-1),[4,this._createSessionForRediscovery(o,a,c)]);case 2:if(!(e=t.sent()))return[3,8];t.label=3;case 3:return t.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(e,u.database,o,c)];case 4:return[2,t.sent()];case 5:if((r=t.sent())&&"Neo.ClientError.Database.DatabaseNotFound"===r.code)throw r;return this._log.warn("unable to fetch routing table because of an error "+r),[2,null];case 6:return e.close(),[7];case 7:return[3,9];case 8:return[2,null];case 9:return[2]}})})},Promise.resolve(null))},A.prototype._createSessionForRediscovery=function(o,i,s){return h(this,void 0,void 0,function(){var e,r,n=this;return d(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this._connectionPool.acquire(o)];case 1:return e=t.sent(),r=g.ConnectionErrorHandler.create({errorCode:w,handleAuthorizationExpired:function(t,e){return n._handleAuthorizationExpired(t,e)}}),r=new v.default(new g.DelegateConnection(e,r)),e.protocol().version<4?[2,new b.Session({mode:P,bookmark:S.empty(),connectionProvider:r})]:[2,new b.Session({mode:E,database:"system",bookmark:i,connectionProvider:r,impersonatedUser:s})];case 2:if((r=t.sent())&&"Neo.ClientError.Security.Unauthorized"===r.code)throw r;return[2,null];case 3:return[2]}})})},A.prototype._applyRoutingTableIfPossible=function(e,r,n){return h(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:if(!r)throw(0,b.newError)("Could not perform discovery. No routing servers available. Known routing table: "+e,O);return 0===r.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(r,n)];case 1:return t.sent(),[2,r]}})})},A.prototype._updateRoutingTable=function(e,r){return h(this,void 0,void 0,function(){return d(this,function(t){switch(t.label){case 0:return[4,this._connectionPool.keepAll(e.allServers())];case 1:return t.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(e),r(e.database),this._log.info("Updated routing table "+e),[2]}})})},A._forgetRouter=function(t,e,r){r=e[r];t&&r&&t.forgetRouter(r)},A);function A(t){var e=t.id,r=t.address,n=t.routingContext,o=t.hostNameResolver,i=t.config,s=t.log,u=t.userAgent,a=t.authToken,t=t.routingTablePurgeDelay,c=p.call(this,{id:e,config:i,log:s,userAgent:u,authToken:a},function(t){return(0,g.createChannelConnection)(t,c._config,c._createConnectionErrorHandler(),c._log,c._routingContext)})||this;return c._routingContext=l(l({},n),{address:r.toString()}),c._seedRouter=r,c._rediscovery=new _.default(c._routingContext),c._loadBalancingStrategy=new m.LeastConnectedLoadBalancingStrategy(c._connectionPool),c._hostNameResolver=o,c._dnsResolver=new y.HostNameResolver,c._log=s,c._useSeedRouter=!0,c._routingTableRegistry=new R(t?(0,b.int)(t):I),c}r.default=o;var R=(k.prototype.register=function(t){return this._tables.set(t.database,t),this},k.prototype.apply=function(t,e){var r=void 0===e?{}:e,e=r.applyWhenExists,r=r.applyWhenDontExists,r=void 0===r?function(){}:r;return this._tables.has(t)?e(this._tables.get(t)):"string"==typeof t||null===t?r():this._forEach(e),this},k.prototype.get=function(t,e){return this._tables.has(t)?this._tables.get(t):"function"==typeof e?e():e},k.prototype.removeExpired=function(){var e=this;return this._removeIf(function(t){return t.isExpiredFor(e._routingTablePurgeDelay)})},k.prototype._forEach=function(t){var e,r;try{for(var n=a(this._tables),o=n.next();!o.done;o=n.next())t(c(o.value,2)[1])}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},k.prototype._remove=function(t){return this._tables.delete(t),this},k.prototype._removeIf=function(t){var e,r;try{for(var n=a(this._tables),o=n.next();!o.done;o=n.next()){var i=c(o.value,2),s=i[0];t(i[1])&&this._remove(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return this},k);function k(t){this._tables=new Map,this._routingTablePurgeDelay=t}},{"../channel":26,"../connection":37,"../load-balancing":39,"../rediscovery":51,"./connection-provider-pooled":29,"./connection-provider-single":31,"neo4j-driver-core":60}],31:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("neo4j-driver-core"),o=(i=t.ConnectionProvider,o(s,i),s.prototype.acquireConnection=function(t){t=void 0===t?{}:t,t.accessMode,t.database,t.bookmarks,t=this._connection;return this._connection=null,Promise.resolve(t)},s);function s(t){var e=i.call(this)||this;return e._connection=t,e}r.default=o},{"neo4j-driver-core":60}],32:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RoutingConnectionProvider=r.DirectConnectionProvider=r.PooledConnectionProvider=r.SingleConnectionProvider=void 0;var o=t("./connection-provider-single");Object.defineProperty(r,"SingleConnectionProvider",{enumerable:!0,get:function(){return n(o).default}});var i=t("./connection-provider-pooled");Object.defineProperty(r,"PooledConnectionProvider",{enumerable:!0,get:function(){return n(i).default}});var s=t("./connection-provider-direct");Object.defineProperty(r,"DirectConnectionProvider",{enumerable:!0,get:function(){return n(s).default}});var u=t("./connection-provider-routing");Object.defineProperty(r,"RoutingConnectionProvider",{enumerable:!0,get:function(){return n(u).default}})},{"./connection-provider-direct":28,"./connection-provider-pooled":29,"./connection-provider-routing":30,"./connection-provider-single":31}],33:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__awaiter||function(t,s,u,a){return new(u=u||Promise)(function(r,e){function n(t){try{i(a.next(t))}catch(t){e(t)}}function o(t){try{i(a.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,o)}i((a=a.apply(t,s||[])).next())})},s=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.createChannelConnection=void 0;var f=t("../channel"),a=t("neo4j-driver-core"),c=u(t("./connection")),p=u(t("../bolt")),l=a.error.PROTOCOL_ERROR,h=a.internal.logger.Logger,d=0;r.createChannelConnection=function(i,s,u,a,c,t){void 0===c&&(c=null);var l=(t=void 0===t?function(t){return new f.Channel(t)}:t)(new f.ChannelConfig(i,s,u.errorCode()));return p.default.handshake(l).then(function(t){var r=t.protocolVersion,e=t.consumeRemainingBuffer,n=new f.Chunker(l),o=new f.Dechunker,t=new _(l,u,i,a,s.disableLosslessIntegers,c,n,function(e){return p.default.create({version:r,channel:l,chunker:n,dechunker:o,disableLosslessIntegers:s.disableLosslessIntegers,useBigInt:s.useBigInt,serversideRouting:c,server:e.server,log:e.logger,observer:{onPendingObserversChange:e._handleOngoingRequestsNumberChange.bind(e),onError:e._handleFatalError.bind(e),onFailure:e._resetOnFailure.bind(e),onProtocolError:e._handleProtocolError.bind(e),onErrorApplyTransformation:function(t){return e.handleAndTransformError(t,e._address)}}})});return e(function(t){return o.write(t)}),t}).catch(function(t){return l.close().then(function(){throw t})})};var b,_=(b=c.default,o(y,b),Object.defineProperty(y.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(t){this._dbConnectionId=t},enumerable:!1,configurable:!0}),y.prototype.connect=function(t,e){return this._initialize(t,e)},y.prototype._initialize=function(t,n){var o=this,i=this;return new Promise(function(r,e){o._protocol.initialize({userAgent:t,authToken:n,onError:function(t){return e(t)},onComplete:function(t){var e;t&&(e=t.server,o.version&&!e||(o.version=e),e=t.connection_id,o.databaseId||(o.databaseId=e),!t.hints||null!=(t=t.hints["connection.recv_timeout_seconds"])&&(t=(0,a.toNumber)(t),Number.isInteger(t)&&0<t?o._ch.setupReceiveTimeout(1e3*t):o._log.info("Server located at "+o._address+" supplied an invalid connection receive timeout value ("+t+"). Please, verify the server configuration and status because this can be the symptom of a bigger issue."))),r(i)}})})},y.prototype.protocol=function(){return this._protocol},Object.defineProperty(y.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"version",{get:function(){return this._server.version},set:function(t){this._server.version=t},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),y.prototype._handleFatalError=function(t){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||t,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by "+this._error+" ("+a.json.stringify(this._error)+")"),this._protocol.notifyFatalError(this._error)},y.prototype._queueObserver=function(t){return this._protocol.queueObserverIfProtocolIsNotBroken(t)},y.prototype.hasOngoingObservableRequests=function(){return this._protocol.hasOngoingObservableRequests()},y.prototype.resetAndFlush=function(){var r=this;return new Promise(function(t,e){r._protocol.reset({onError:function(t){r._isBroken?e(t):(t=r._handleProtocolError("Received FAILURE as a response for RESET: "+t),e(t))},onComplete:function(){t()}})})},y.prototype._resetOnFailure=function(){var t=this;this.isOpen()&&this._protocol.reset({onError:function(){t._protocol.resetFailure()},onComplete:function(){t._protocol.resetFailure()}})},y.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},y.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},y.prototype._handleOngoingRequestsNumberChange=function(t){0===t?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout()},y.prototype.close=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return t.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},y.prototype.toString=function(){return"Connection ["+this.id+"]["+(this.databaseId||"")+"]"},y.prototype._handleProtocolError=function(t){this._protocol.resetFailure(),this._updateCurrentObserver();t=(0,a.newError)(t,l);return this._handleFatalError(t),t},y);function y(t,e,r,n,o,i,s,u){void 0===o&&(o=!1),void 0===i&&(i=null);var a,c,e=b.call(this,e)||this;return e._id=d++,e._address=r,e._server={address:r.asHostPort()},e.creationTimestamp=Date.now(),e._disableLosslessIntegers=o,e._ch=t,e._chunker=s,e._log=(a=e,new h((c=n)._level,function(t,e){return c._loggerFunction(t,a+" "+e)})),e._serversideRouting=i,e._dbConnectionId=null,e._protocol=u(e),e._isBroken=!1,e._log.isDebugEnabled()&&e._log.debug("created towards "+r),e}r.default=_},{"../bolt":12,"../channel":26,"./connection":36,"neo4j-driver-core":60}],34:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s,t=i(t("./connection")),o=(s=t.default,o(u,s),Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(t){this._delegate.databaseId=t},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._delegate.version},set:function(t){this._delegate.version=t},enumerable:!1,configurable:!0}),u.prototype.isOpen=function(){return this._delegate.isOpen()},u.prototype.protocol=function(){return this._delegate.protocol()},u.prototype.connect=function(t,e){return this._delegate.connect(t,e)},u.prototype.write=function(t,e,r){return this._delegate.write(t,e,r)},u.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},u.prototype.close=function(){return this._delegate.close()},u.prototype._release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()},u);function u(t,e){var r=s.call(this,e)||this;return e&&(r._originalErrorHandler=t._errorHandler,t._errorHandler=r._errorHandler),r._delegate=t,r}r.default=o},{"./connection":36}],35:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=t("neo4j-driver-core"),n=t.error.SERVICE_UNAVAILABLE,o=t.error.SESSION_EXPIRED,t=(i.create=function(t){return new i(t.errorCode,t.handleUnavailability,t.handleWriteFailure,t.handleAuthorizationExpired)},i.prototype.errorCode=function(){return this._errorCode},i.prototype.handleAndTransformError=function(t,e){return!(r=t)||"Neo.ClientError.Security.AuthorizationExpired"!==r.code&&"Neo.ClientError.Security.TokenExpired"!==r.code?function(t){if(t)return t.code===o||t.code===n||"Neo.TransientError.General.DatabaseUnavailable"===t.code;return!1}(t)?this._handleUnavailability(t,e):function(t){if(t)return"Neo.ClientError.Cluster.NotALeader"===t.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===t.code;return!1}(t)?this._handleWriteFailure(t,e):t:this._handleAuthorizationExpired(t,e);var r},i);function i(t,e,r,n){this._errorCode=t,this._handleUnavailability=e||s,this._handleWriteFailure=r||s,this._handleAuthorizationExpired=n||s}function s(t){return t}r.default=t},{"neo4j-driver-core":60}],36:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(Object.defineProperty(o.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")},enumerable:!1,configurable:!0}),o.prototype.isOpen=function(){throw new Error("not implemented")},o.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(o.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(t){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),o.prototype.connect=function(t,e){throw new Error("not implemented")},o.prototype.write=function(t,e,r){throw new Error("not implemented")},o.prototype.resetAndFlush=function(){throw new Error("not implemented")},o.prototype.close=function(){throw new Error("not implemented")},o.prototype.handleAndTransformError=function(t,e){return this._errorHandler?this._errorHandler.handleAndTransformError(t,e):t},o);function o(t){this._errorHandler=t}r.default=n},{}],37:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.createChannelConnection=r.ConnectionErrorHandler=r.DelegateConnection=r.ChannelConnection=r.Connection=void 0;var u=s(t("./connection"));r.Connection=u.default;var a=i(t("./connection-channel"));r.ChannelConnection=a.default,Object.defineProperty(r,"createChannelConnection",{enumerable:!0,get:function(){return a.createChannelConnection}});i=s(t("./connection-delegate"));r.DelegateConnection=i.default;t=s(t("./connection-error-handler"));r.ConnectionErrorHandler=t.default,r.default=u.default},{"./connection":36,"./connection-channel":33,"./connection-delegate":34,"./connection-error-handler":35}],38:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},s=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(r,"__esModule",{value:!0}),r.pool=r.packstream=r.channel=r.buf=r.bolt=r.loadBalancing=void 0,r.loadBalancing=i(t("./load-balancing")),r.bolt=i(t("./bolt")),r.buf=i(t("./buf")),r.channel=i(t("./channel")),r.packstream=i(t("./packstream")),r.pool=i(t("./pool")),s(t("./connection-provider"),r)},{"./bolt":12,"./buf":18,"./channel":26,"./connection-provider":32,"./load-balancing":39,"./packstream":43,"./pool":48}],39:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.LeastConnectedLoadBalancingStrategy=r.LoadBalancingStrategy=void 0;var o=n(t("./load-balancing-strategy"));r.LoadBalancingStrategy=o.default;t=n(t("./least-connected-load-balancing-strategy"));r.LeastConnectedLoadBalancingStrategy=t.default,r.default=t.default},{"./least-connected-load-balancing-strategy":40,"./load-balancing-strategy":41}],40:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s,u=i(t("./round-robin-array-index")),t=i(t("./load-balancing-strategy")),o=(s=t.default,o(a,s),a.prototype.selectReader=function(t){return this._select(t,this._readersIndex)},a.prototype.selectWriter=function(t){return this._select(t,this._writersIndex)},a.prototype._select=function(t,e){var r=t.length;if(0===r)return null;var n=e.next(r),o=n,i=null,s=Number.MAX_SAFE_INTEGER;do{var u=t[o],a=this._connectionPool.activeResourceCount(u)}while(a<s&&(i=u,s=a),o===r-1?o=0:o++,o!==n);return i},a);function a(t){var e=s.call(this)||this;return e._readersIndex=new u.default,e._writersIndex=new u.default,e._connectionPool=t,e}r.default=o},{"./load-balancing-strategy":41,"./round-robin-array-index":42}],41:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype.selectReader=function(t){throw new Error("Abstract function")},o.prototype.selectWriter=function(t){throw new Error("Abstract function")},o);function o(){}r.default=n},{}],42:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype.next=function(t){if(0===t)return-1;var e=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),e%t},o);function o(t){this._offset=t||0}r.default=n},{}],43:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.v2=r.v1=void 0;var s=i(t("./packstream-v1"));r.v1=s;t=i(t("./packstream-v2"));r.v2=t,r.default=t},{"./packstream-v1":45,"./packstream-v2":46}],44:[function(t,e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.packDateTime=s.unpackDateTimeWithZoneId=s.unpackDateTimeWithZoneOffset=s.DATE_TIME_WITH_ZONE_ID=s.DATE_TIME_WITH_ZONE_OFFSET=void 0;var u=t("neo4j-driver-core"),a=t("./temporal-factory"),c=u.internal.temporalUtil.localDateTimeToEpochSecond;s.DATE_TIME_WITH_ZONE_OFFSET=73;s.DATE_TIME_WITH_ZONE_ID=105;function l(t,e,r){t=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),r=(0,u.int)(e).multiply(1e3).add((0,u.int)(r).div(1e6)).toNumber(),t=t.formatToParts(r).reduce(function(t,e){return"era"===e.type?t.adjustEra="B"===e.value.toUpperCase()?function(t){return t.subtract(1).negate()}:function(t){return t}:"hour"===e.type?t.hour=(0,u.int)(e.value).modulo(24):"literal"!==e.type&&(t[e.type]=(0,u.int)(e.value)),t},{});t.year=t.adjustEra(t.year);r=c(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond);return t.timeZoneOffsetSeconds=r.subtract(e),t.hour=t.hour.modulo(24),t}function f(t,e,r){if(!e&&!r)return t;var n,o,i,s=Object.create(Object.getPrototypeOf(t));for(n in t)!0===Object.prototype.hasOwnProperty.call(t,n)&&(o=t[n],s[n]=(0,u.isInt)(o)?(i=o,r?i.toBigInt():i.toNumberOrInfinity()):o);return Object.freeze(s),s}s.unpackDateTimeWithZoneOffset=function(t,e,r,n,o){t._verifyStructSize("DateTimeWithZoneOffset",3,e);var i=t.unpackInteger(r),e=t.unpackInteger(r),r=t.unpackInteger(r),i=(0,u.int)(i).add(r),e=(0,a.epochSecondAndNanoToLocalDateTime)(i,e);return f(new u.DateTime(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond,r,null),n,o)},s.unpackDateTimeWithZoneId=function(t,e,r,n,o){t._verifyStructSize("DateTimeWithZoneId",3,e);var i=t.unpackInteger(r),e=t.unpackInteger(r),i=l(r=t.unpack(r),i,e);return f(new u.DateTime(i.year,i.month,i.day,i.hour,i.minute,i.second,(0,u.int)(e),i.timeZoneOffsetSeconds,r),n,o)},s.packDateTime=function(t,e){var r,n,o,i;t.timeZoneId?(n=e,o=c((r=t).year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond),i=null!=r.timeZoneOffsetSeconds?r.timeZoneOffsetSeconds:function(t,e,r){var n=l(t,e,r),n=c(n.year,n.month,n.day,n.hour,n.minute,n.second,r).subtract(e),n=e.subtract(n),t=l(t,n,r);return c(t.year,t.month,t.day,t.hour,t.minute,t.second,r).subtract(n)}(r.timeZoneId,o,r.nanosecond),o=o.subtract(i),i=(0,u.int)(r.nanosecond),r=r.timeZoneId,r=[n.packable(o),n.packable(i),n.packable(r)],n.packStruct(s.DATE_TIME_WITH_ZONE_ID,r)):(n=e,e=c((r=t).year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond),t=(0,u.int)(r.nanosecond),r=(0,u.int)(r.timeZoneOffsetSeconds),e=e.subtract(r),r=[n.packable(e),n.packable(t),n.packable(r)],n.packStruct(s.DATE_TIME_WITH_ZONE_OFFSET,r))}},{"./temporal-factory":47,"neo4j-driver-core":60}],45:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Structure=r.Unpacker=r.Packer=void 0;var o=t("../channel"),f=t("neo4j-driver-core"),i=f.internal.objectUtil,n=f.error.PROTOCOL_ERROR,u=(s.prototype.toString=function(){for(var t="",e=0;e<this.fields.length;e++)0<e&&(t+=", "),t+=this.fields[e];return"Structure("+this.signature+", ["+t+"])"},s);function s(t,e){this.signature=t,this.fields=e}r.Structure=u;a.prototype.packable=function(i){var t,s=this;if(null===i)return function(){return s._ch.writeUInt8(192)};if(!0===i)return function(){return s._ch.writeUInt8(195)};if(!1===i)return function(){return s._ch.writeUInt8(194)};if("number"==typeof i)return function(){return s.packFloat(i)};if("string"==typeof i)return function(){return s.packString(i)};if("bigint"==typeof i)return function(){return s.packInteger((0,f.int)(i))};if((0,f.isInt)(i))return function(){return s.packInteger(i)};if(i instanceof Int8Array)return function(){return s.packBytes(i)};if(i instanceof Array)return function(){s.packListHeader(i.length);for(var t=0;t<i.length;t++)s.packable(void 0===i[t]?null:i[t])()};if(null!=(t=i)&&"function"==typeof t[Symbol.iterator])return this.packableIterable(i);if(i instanceof f.Node)return this._nonPackableValue("It is not allowed to pass nodes in query parameters, given: "+i);if(i instanceof f.Relationship)return this._nonPackableValue("It is not allowed to pass relationships in query parameters, given: "+i);if(i instanceof f.Path)return this._nonPackableValue("It is not allowed to pass paths in query parameters, given: "+i);if(i instanceof u){for(var e=[],r=0;r<i.fields.length;r++)e[r]=this.packable(i.fields[r]);return function(){return s.packStruct(i.signature,e)}}return"object"==typeof i?function(){for(var t=Object.keys(i),e=0,r=0;r<t.length;r++)void 0!==i[t[r]]&&e++;s.packMapHeader(e);for(var n=0;n<t.length;n++){var o=t[n];void 0!==i[o]&&(s.packString(o),s.packable(i[o])())}}:this._nonPackableValue("Unable to pack the given value: "+i)},a.prototype.packableIterable=function(e){try{var t=Array.from(e);return this.packable(t)}catch(t){throw(0,f.newError)("Cannot pack given iterable, "+t.message+": "+e)}},a.prototype.packStruct=function(t,e){this.packStructHeader((e=e||[]).length,t);for(var r=0;r<e.length;r++)e[r]()},a.prototype.packInteger=function(t){var e=t.high,r=t.low;t.greaterThanOrEqual(-16)&&t.lessThan(128)?this._ch.writeInt8(r):t.greaterThanOrEqual(-128)&&t.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(r)):t.greaterThanOrEqual(-32768)&&t.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(r)):(t.greaterThanOrEqual(-2147483648)&&t.lessThan(2147483648)?this._ch.writeUInt8(202):(this._ch.writeUInt8(203),this._ch.writeInt32(e)),this._ch.writeInt32(r))},a.prototype.packFloat=function(t){this._ch.writeUInt8(193),this._ch.writeFloat64(t)},a.prototype.packString=function(t){var e=o.utf8.encode(t),t=e.length;if(t<16)this._ch.writeUInt8(128|t),this._ch.writeBytes(e);else if(t<256)this._ch.writeUInt8(208),this._ch.writeUInt8(t),this._ch.writeBytes(e);else if(t<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256),this._ch.writeBytes(e);else{if(!(t<4294967296))throw(0,f.newError)("UTF-8 strings of size "+t+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256),this._ch.writeBytes(e)}},a.prototype.packListHeader=function(t){if(t<16)this._ch.writeUInt8(144|t);else if(t<256)this._ch.writeUInt8(212),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else{if(!(t<4294967296))throw(0,f.newError)("Lists of size "+t+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256)}},a.prototype.packBytes=function(t){if(!this._byteArraysSupported)throw(0,f.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(t.length);for(var e=0;e<t.length;e++)this._ch.writeInt8(t[e])},a.prototype.packBytesHeader=function(t){if(t<256)this._ch.writeUInt8(204),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256);else{if(!(t<4294967296))throw(0,f.newError)("Byte arrays of size "+t+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256)}},a.prototype.packMapHeader=function(t){if(t<16)this._ch.writeUInt8(160|t);else if(t<256)this._ch.writeUInt8(216),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256);else{if(!(t<4294967296))throw(0,f.newError)("Maps of size "+t+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256)}},a.prototype.packStructHeader=function(t,e){if(t<16)this._ch.writeUInt8(176|t),this._ch.writeUInt8(e);else if(t<256)this._ch.writeUInt8(220),this._ch.writeUInt8(t),this._ch.writeUInt8(e);else{if(!(t<65536))throw(0,f.newError)("Structures of size "+t+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256)}},a.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},a.prototype._nonPackableValue=function(t){return function(){throw(0,f.newError)(t,n)}},t=a;function a(t){this._ch=t,this._byteArraysSupported=!0}r.Packer=t;c.prototype.unpack=function(t){var e=t.readUInt8(),r=240&e,n=15&e;if(192===e)return null;var o=this._unpackBoolean(e);if(null!==o)return o;o=this._unpackNumberOrInteger(e,t);if(null!==o){if((0,f.isInt)(o)){if(this._useBigInt)return o.toBigInt();if(this._disableLosslessIntegers)return o.toNumberOrInfinity()}return o}o=this._unpackString(e,r,n,t);if(null!==o)return o;o=this._unpackList(e,r,n,t);if(null!==o)return o;o=this._unpackByteArray(e,t);if(null!==o)return o;o=this._unpackMap(e,r,n,t);if(null!==o)return o;t=this._unpackStruct(e,r,n,t);if(null!==t)return t;throw(0,f.newError)("Unknown packed value with marker "+e.toString(16))},c.prototype.unpackInteger=function(t){var e=t.readUInt8(),t=this._unpackInteger(e,t);if(null==t)throw(0,f.newError)("Unable to unpack integer value with marker "+e.toString(16));return t},c.prototype._unpackBoolean=function(t){return 195===t||194!==t&&null},c.prototype._unpackNumberOrInteger=function(t,e){return 193===t?e.readFloat64():this._unpackInteger(t,e)},c.prototype._unpackInteger=function(t,e){if(0<=t&&t<128)return(0,f.int)(t);if(240<=t&&t<256)return(0,f.int)(t-256);if(200===t)return(0,f.int)(e.readInt8());if(201===t)return(0,f.int)(e.readInt16());if(202===t){var r=e.readInt32();return(0,f.int)(r)}if(203!==t)return null;t=e.readInt32(),e=e.readInt32();return new f.Integer(e,t)},c.prototype._unpackString=function(t,e,r,n){return 128===e?o.utf8.decode(n,r):208===t?o.utf8.decode(n,n.readUInt8()):209===t?o.utf8.decode(n,n.readUInt16()):210===t?o.utf8.decode(n,n.readUInt32()):null},c.prototype._unpackList=function(t,e,r,n){return 144===e?this._unpackListWithSize(r,n):212===t?this._unpackListWithSize(n.readUInt8(),n):213===t?this._unpackListWithSize(n.readUInt16(),n):214===t?this._unpackListWithSize(n.readUInt32(),n):null},c.prototype._unpackListWithSize=function(t,e){for(var r=[],n=0;n<t;n++)r.push(this.unpack(e));return r},c.prototype._unpackByteArray=function(t,e){return 204===t?this._unpackByteArrayWithSize(e.readUInt8(),e):205===t?this._unpackByteArrayWithSize(e.readUInt16(),e):206===t?this._unpackByteArrayWithSize(e.readUInt32(),e):null},c.prototype._unpackByteArrayWithSize=function(t,e){for(var r=new Int8Array(t),n=0;n<t;n++)r[n]=e.readInt8();return r},c.prototype._unpackMap=function(t,e,r,n){return 160===e?this._unpackMapWithSize(r,n):216===t?this._unpackMapWithSize(n.readUInt8(),n):217===t?this._unpackMapWithSize(n.readUInt16(),n):218===t?this._unpackMapWithSize(n.readUInt32(),n):null},c.prototype._unpackMapWithSize=function(t,e){for(var r={},n=0;n<t;n++)r[this.unpack(e)]=this.unpack(e);return r},c.prototype._unpackStruct=function(t,e,r,n){try{return 176===e?this._unpackStructWithSize(r,n):220===t?this._unpackStructWithSize(n.readUInt8(),n):221===t?this._unpackStructWithSize(n.readUInt16(),n):null}catch(t){return i.createBrokenObject(t)}},c.prototype._unpackStructWithSize=function(t,e){var r=e.readUInt8();return 78===r?this._unpackNode(t,e):82===r?this._unpackRelationship(t,e):114===r?this._unpackUnboundRelationship(t,e):80===r?this._unpackPath(t,e):this._unpackUnknownStruct(r,t,e)},c.prototype._unpackNode=function(t,e){return this._verifyStructSize("Node",3,t),new f.Node(this.unpack(e),this.unpack(e),this.unpack(e))},c.prototype._unpackRelationship=function(t,e){return this._verifyStructSize("Relationship",5,t),new f.Relationship(this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e))},c.prototype._unpackUnboundRelationship=function(t,e){return this._verifyStructSize("UnboundRelationship",3,t),new f.UnboundRelationship(this.unpack(e),this.unpack(e),this.unpack(e))},c.prototype._unpackPath=function(t,e){this._verifyStructSize("Path",3,t);for(var r=this.unpack(e),n=this.unpack(e),o=this.unpack(e),i=[],s=r[0],u=0;u<o.length;u+=2){var a=r[o[u+1]],c=(0,f.toNumber)(o[u]),l=void 0;0<c?(l=n[c-1])instanceof f.UnboundRelationship&&(n[c-1]=l=l.bind(s.identity,a.identity)):(l=n[-c-1])instanceof f.UnboundRelationship&&(n[-c-1]=l=l.bind(a.identity,s.identity)),i.push(new f.PathSegment(s,l,a)),s=a}return new f.Path(r[0],r[r.length-1],i)},c.prototype._unpackUnknownStruct=function(t,e,r){for(var n=new u(t,[]),o=0;o<e;o++)n.fields.push(this.unpack(r));return n},c.prototype._verifyStructSize=function(t,e,r){if(e!==r)throw(0,f.newError)("Wrong struct size for "+t+", expected "+e+" but was "+r,n)},t=c;function c(t,e){void 0===e&&(e=!1),this._disableLosslessIntegers=t=void 0===t?!1:t,this._useBigInt=e}r.Unpacker=t},{"../channel":26,"neo4j-driver-core":60}],46:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.Unpacker=r.Packer=void 0;var a,c=u(t("./packstream-v1")),l=u(t("./packstream-utc")),f=t("neo4j-driver-core"),p=t("./temporal-factory"),t=f.internal.temporalUtil,h=t.dateToEpochDay,d=t.localDateTimeToEpochSecond,b=t.localTimeToNanoOfDay,_=88,y=3,v=89,m=4,g=69,O=4,w=116,S=1,E=84,P=2,j=68,T=1,C=100,x=2,I=70,A=3,R=102,k=3,t=(a=c.Packer,o(N,a),N.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},N.prototype.packable=function(i){var s=this;return(0,f.isPoint)(i)?function(){var t,e;e=s,(null===(t=i).z||void 0===t.z?function(t,e){t=[e.packable((0,f.int)(t.srid)),e.packable(t.x),e.packable(t.y)];e.packStruct(_,t)}:function(t,e){t=[e.packable((0,f.int)(t.srid)),e.packable(t.x),e.packable(t.y),e.packable(t.z)];e.packStruct(v,t)})(t,e)}:(0,f.isDuration)(i)?function(){var t,e,r,n,o;t=i,e=s,r=(0,f.int)(t.months),n=(0,f.int)(t.days),o=(0,f.int)(t.seconds),t=(0,f.int)(t.nanoseconds),t=[e.packable(r),e.packable(n),e.packable(o),e.packable(t)],e.packStruct(g,t)}:(0,f.isLocalTime)(i)?function(){return function(t,e){t=b(t.hour,t.minute,t.second,t.nanosecond),t=[e.packable(t)];e.packStruct(w,t)}(i,s)}:(0,f.isTime)(i)?function(){var t,e,r;e=s,r=b((t=i).hour,t.minute,t.second,t.nanosecond),t=(0,f.int)(t.timeZoneOffsetSeconds),t=[e.packable(r),e.packable(t)],e.packStruct(E,t)}:(0,f.isDate)(i)?function(){return function(t,e){t=h(t.year,t.month,t.day),t=[e.packable(t)];e.packStruct(j,t)}(i,s)}:(0,f.isLocalDateTime)(i)?function(){var t,e,r;e=s,r=d((t=i).year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond),t=(0,f.int)(t.nanosecond),t=[e.packable(r),e.packable(t)],e.packStruct(C,t)}:(0,f.isDateTime)(i)&&this.useUtc?function(){return l.packDateTime(i,s)}:(0,f.isDateTime)(i)&&!this.useUtc?function(){var t,e;e=s,((t=i).timeZoneId?function(t,e){var r=d(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond),n=(0,f.int)(t.nanosecond),t=t.timeZoneId,t=[e.packable(r),e.packable(n),e.packable(t)];e.packStruct(R,t)}:function(t,e){var r=d(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond),n=(0,f.int)(t.nanosecond),t=(0,f.int)(t.timeZoneOffsetSeconds),t=[e.packable(r),e.packable(n),e.packable(t)];e.packStruct(I,t)})(t,e)}:a.prototype.packable.call(this,i)},N);function N(){return null!==a&&a.apply(this,arguments)||this}r.Packer=t;var M,o=(M=c.Unpacker,o(D,M),D.prototype._unpackUnknownStruct=function(t,e,r){return t===_?(o=e,i=r,(n=this)._verifyStructSize("Point2D",y,o),new f.Point(n.unpack(i),n.unpack(i),n.unpack(i),void 0)):t===v?(o=e,n=r,(i=this)._verifyStructSize("Point3D",m,o),new f.Point(i.unpack(n),i.unpack(n),i.unpack(n),i.unpack(n))):t===g?function(t,e,r){t._verifyStructSize("Duration",O,e);var n=t.unpack(r),o=t.unpack(r),e=t.unpack(r),r=t.unpack(r);return new f.Duration(n,o,e,r)}(this,e,r):t===w?function(t,e,r,n){t._verifyStructSize("LocalTime",S,e);r=t.unpackInteger(r);return U((0,p.nanoOfDayToLocalTime)(r),n)}(this,e,r,this._disableLosslessIntegers,this._useBigInt):t===E?function(t,e,r,n,o){t._verifyStructSize("Time",P,e);e=t.unpackInteger(r),r=t.unpackInteger(r),e=(0,p.nanoOfDayToLocalTime)(e);return U(new f.Time(e.hour,e.minute,e.second,e.nanosecond,r),n,o)}(this,e,r,this._disableLosslessIntegers,this._useBigInt):t===j?function(t,e,r,n,o){t._verifyStructSize("Date",T,e);r=t.unpackInteger(r);return U((0,p.epochDayToDate)(r),n,o)}(this,e,r,this._disableLosslessIntegers,this._useBigInt):t===C?function(t,e,r,n,o){t._verifyStructSize("LocalDateTime",x,e);e=t.unpackInteger(r),r=t.unpackInteger(r);return U((0,p.epochSecondAndNanoToLocalDateTime)(e,r),n,o)}(this,e,r,this._disableLosslessIntegers,this._useBigInt):t===l.DATE_TIME_WITH_ZONE_OFFSET&&this.useUtc?l.unpackDateTimeWithZoneOffset(this,e,r,this._disableLosslessIntegers,this._useBigInt):t!==I||this.useUtc?t===l.DATE_TIME_WITH_ZONE_ID&&this.useUtc?l.unpackDateTimeWithZoneId(this,e,r,this._disableLosslessIntegers,this._useBigInt):t!==R||this.useUtc?M.prototype._unpackUnknownStruct.call(this,t,e,r,this._disableLosslessIntegers,this._useBigInt):function(t,e,r,n,o){t._verifyStructSize("DateTimeWithZoneId",k,e);var i=t.unpackInteger(r),e=t.unpackInteger(r),r=t.unpack(r),e=(0,p.epochSecondAndNanoToLocalDateTime)(i,e);return U(new f.DateTime(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond,null,r),n,o)}(this,e,r,this._disableLosslessIntegers,this._useBigInt):function(t,e,r,n,o){t._verifyStructSize("DateTimeWithZoneOffset",A,e);var i=t.unpackInteger(r),e=t.unpackInteger(r),r=t.unpackInteger(r),e=(0,p.epochSecondAndNanoToLocalDateTime)(i,e);return U(new f.DateTime(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond,r,null),n,o)}(this,e,r,this._disableLosslessIntegers,this._useBigInt);var n,o,i},D);function D(t,e){return M.call(this,t=void 0===t?!1:t,e=void 0===e?!1:e)||this}function U(t,e,r){if(!e&&!r)return t;var n,o,i,s=Object.create(Object.getPrototypeOf(t));for(n in t)t.hasOwnProperty(n)&&(o=t[n],s[n]=(0,f.isInt)(o)?(i=o,r?i.toBigInt():i.toNumberOrInfinity()):o);return Object.freeze(s),s}r.Unpacker=o},{"./packstream-utc":44,"./packstream-v1":45,"./temporal-factory":47,"neo4j-driver-core":60}],47:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.epochSecondAndNanoToLocalDateTime=r.nanoOfDayToLocalTime=r.epochDayToDate=void 0;var o=t("neo4j-driver-core"),t=o.internal.temporalUtil,i=t.DAYS_0000_TO_1970,s=t.DAYS_PER_400_YEAR_CYCLE,u=t.NANOS_PER_HOUR,a=t.NANOS_PER_MINUTE,c=t.NANOS_PER_SECOND,n=t.SECONDS_PER_DAY,l=t.floorDiv,f=t.floorMod;function p(t){var e=(t=(0,o.int)(t)).add(i).subtract(60),r=(0,o.int)(0);e.lessThan(0)&&(r=(n=e.add(1).div(s).subtract(1)).multiply(400),e=e.add(n.multiply(-s)));var t=e.multiply(400).add(591).div(s),n=e.subtract(t.multiply(365).add(t.div(4)).subtract(t.div(100)).add(t.div(400)));n.lessThan(0)&&(t=t.subtract(1),n=e.subtract(t.multiply(365).add(t.div(4)).subtract(t.div(100)).add(t.div(400))));t=t.add(r),e=n,r=e.multiply(5).add(2).div(153),n=r.add(2).modulo(12).add(1),e=e.subtract(r.multiply(306).add(5).div(10)).add(1);return t=t.add(r.div(10)),new o.Date(t,n,e)}function h(t){var e=(t=(0,o.int)(t)).div(u),r=(t=t.subtract(e.multiply(u))).div(a),n=(t=t.subtract(r.multiply(a))).div(c),t=t.subtract(n.multiply(c));return new o.LocalTime(e,r,n,t)}r.epochDayToDate=p,r.nanoOfDayToLocalTime=h,r.epochSecondAndNanoToLocalDateTime=function(t,e){var r=l(t,n),e=f(t,n).multiply(c).add(e),r=p(r),e=h(e);return new o.LocalDateTime(r.year,r.month,r.day,e.hour,e.minute,e.second,e.nanosecond)}},{"neo4j-driver-core":60}],48:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_MAX_SIZE=r.DEFAULT_ACQUISITION_TIMEOUT=r.PoolConfig=r.Pool=void 0;var u=i(t("./pool-config"));r.PoolConfig=u.default,Object.defineProperty(r,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return u.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(r,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return u.DEFAULT_MAX_SIZE}});t=s(t("./pool"));r.Pool=t.default,r.default=t.default},{"./pool":50,"./pool-config":49}],49:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_ACQUISITION_TIMEOUT=r.DEFAULT_MAX_SIZE=void 0;r.DEFAULT_MAX_SIZE=100;r.DEFAULT_ACQUISITION_TIMEOUT=6e4;var n=(o.defaultConfig=function(){return new o(100,6e4)},o.fromDriverConfig=function(t){return new o(s(t.maxConnectionPoolSize)?t.maxConnectionPoolSize:100,s(t.connectionAcquisitionTimeout)?t.connectionAcquisitionTimeout:6e4)},o);function o(t,e){this.maxSize=i(t,100),this.acquisitionTimeout=i(e,6e4)}function i(t,e){return 0===t||t?t:e}function s(t){return 0===t||t}r.default=n},{}],50:[function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,s,u,a){return new(u=u||Promise)(function(r,e){function n(t){try{i(a.next(t))}catch(t){e(t)}}function o(t){try{i(a.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,o)}i((a=a.apply(t,s||[])).next())})},l=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var u=o(t("./pool-config")),a=t("neo4j-driver-core"),c=a.internal.logger.Logger,t=(i.prototype.acquire=function(s){var u=this;return this._acquire(s).then(function(t){var o=s.asKey();if(t)return t;var i=u._acquireRequests;return i[o]||(i[o]=[]),new Promise(function(t,e){var r=setTimeout(function(){var t,e=i[o];e&&(i[o]=e.filter(function(t){return t!==n})),n.isCompleted()||(t=u.activeResourceCount(s),e=u.has(s)?u._pools[o].length:0,n.reject((0,a.newError)("Connection acquisition timed out in "+u._acquisitionTimeout+" ms. Pool status: Active conn count = "+t+", Idle conn count = "+e+".")))},u._acquisitionTimeout),n=new p(o,t,e,r,u._log);i[o].push(n)})})},i.prototype.purge=function(t){return this._purgeKey(t.asKey())},i.prototype.close=function(){return n(this,void 0,void 0,function(){var e=this;return l(this,function(t){switch(t.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(t){return e._purgeKey(t)}))];case 1:return[2,t.sent()]}})})},i.prototype.keepAll=function(t){var e=this,r=t.map(function(t){return t.asKey()}),t=Object.keys(this._pools).filter(function(t){return-1===r.indexOf(t)});return Promise.all(t.map(function(t){return e._purgeKey(t)}))},i.prototype.has=function(t){return t.asKey()in this._pools},i.prototype.activeResourceCount=function(t){return this._activeResourceCounts[t.asKey()]||0},i.prototype._acquire=function(u){return n(this,void 0,void 0,function(){var e,r,n,o,i,s=this;return l(this,function(t){switch(t.label){case 0:if(this._closed)throw(0,a.newError)("Pool is closed, it is no more able to serve requests.");e=u.asKey(),r=this._pools[e],n=this._poolState[e],r||(r=[],n=new h,this._pools[e]=r,this._pendingCreates[e]=0,this._poolState[e]=n),t.label=1;case 1:return r.length?(o=r.pop(),this._validate(o)?(this._removeIdleObserver&&this._removeIdleObserver(o),f(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug(o+" acquired from the pool "+e),[2,o]):[3,2]):[3,5];case 2:return[4,this._destroy(o)];case 3:t.sent(),t.label=4;case 4:return[3,1];case 5:if(0<this._maxSize&&this.activeResourceCount(u)+this._pendingCreates[e]>=this._maxSize)return[2,null];this._pendingCreates[e]=this._pendingCreates[e]+1,t.label=6;case 6:return t.trys.push([6,,8,9]),[4,this._create(u,function(t,e){return s._release(n,t,e)})];case 7:return i=t.sent(),f(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug(i+" created for the pool "+e),[3,9];case 8:return this._pendingCreates[e]=this._pendingCreates[e]-1,[7];case 9:return[2,i]}})})},i.prototype._release=function(u,a,c){return n(this,void 0,void 0,function(){var o,i,s=this;return l(this,function(t){switch(t.label){case 0:return(o=a.asKey(),(i=this._pools[o])&&u&&u.isActive())?this._validate(c)?[3,2]:(this._log.isDebugEnabled()&&this._log.debug(c+" destroyed and can't be released to the pool "+o+" because it is not functional"),[4,this._destroy(c)]):[3,4];case 1:return t.sent(),[3,3];case 2:this._installIdleObserver&&this._installIdleObserver(c,{onError:function(t){s._log.debug("Idle connection "+c+" destroyed because of error: "+t);t=s._pools[o];t&&(s._pools[o]=t.filter(function(t){return t!==c})),s._destroy(c).catch(function(){})}}),i.push(c),this._log.isDebugEnabled()&&this._log.debug(c+" released to the pool "+o),t.label=3;case 3:return[3,6];case 4:return this._log.isDebugEnabled()&&this._log.debug(c+" destroyed and can't be released to the pool "+o+" because pool has been purged"),[4,this._destroy(c)];case 5:t.sent(),t.label=6;case 6:return e=o,r=this._activeResourceCounts,0<(n=(r[e]||0)-1)?r[e]=n:delete r[e],this._processPendingAcquireRequests(a),[2]}var e,r,n})})},i.prototype._purgeKey=function(i){return n(this,void 0,void 0,function(){var e,r,n,o;return l(this,function(t){switch(t.label){case 0:for(e=this._pools[i]||[],r=this._poolState[i]||new h,n=[];e.length;)o=e.pop(),this._removeIdleObserver&&this._removeIdleObserver(o),n.push(this._destroy(o));return r.close(),delete this._pools[i],delete this._poolState[i],[4,Promise.all(n)];case 1:return t.sent(),[2]}})})},i.prototype._processPendingAcquireRequests=function(e){var r,n=this,t=e.asKey(),o=this._acquireRequests[t],i=this._poolState[t];o&&((r=o.shift())?this._acquire(e).catch(function(t){return r.reject(t),null}).then(function(t){t&&(r.isCompleted()?n._release(i,e,t):r.resolve(t))}):delete this._acquireRequests[t])},i);function i(t){var e=void 0===t?{}:t,r=e.create,n=void 0===r?function(t,e){return Promise.resolve()}:r,o=e.destroy,i=void 0===o?function(t){return Promise.resolve()}:o,s=e.validate,t=void 0===s?function(t){return!0}:s,r=e.installIdleObserver,o=void 0===r?function(t,e){}:r,s=e.removeIdleObserver,r=void 0===s?function(t){}:s,s=e.config,s=void 0===s?u.default.defaultConfig():s,e=e.log,e=void 0===e?c.noOp():e;this._create=n,this._destroy=i,this._validate=t,this._installIdleObserver=o,this._removeIdleObserver=r,this._maxSize=s.maxSize,this._acquisitionTimeout=s.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._poolState={},this._release=this._release.bind(this),this._log=e,this._closed=!1}function f(t,e){var r=e[t]||0;e[t]=r+1}var p=(s.prototype.isCompleted=function(){return this._completed},s.prototype.resolve=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug(t+" acquired from the pool "+this._key),this._resolve(t))},s.prototype.reject=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(t))},s);function s(t,e,r,n,o){this._key=t,this._resolve=e,this._reject=r,this._timeoutId=n,this._log=o,this._completed=!1}var h=(d.prototype.isActive=function(){return this._active},d.prototype.close=function(){this._active=!1},d);function d(){this._active=!0}r.default=t},{"./pool-config":49,"neo4j-driver-core":60}],51:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.RoutingTable=r.Rediscovery=void 0;var o=n(t("./rediscovery"));r.Rediscovery=o.default;t=n(t("./routing-table"));r.RoutingTable=t.default,r.default=o.default},{"./rediscovery":52,"./routing-table":53}],52:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s=n(t("./routing-table")),a=t("../bolt"),c=t("neo4j-driver-core"),l=c.error.SERVICE_UNAVAILABLE,t=(o.prototype.lookupRoutingTableOnRouter=function(e,r,n,o){var i=this;return e._acquireConnection(function(t){return i._requestRawRoutingTable(t,e,r,n,o).then(function(t){return t.isNull?null:s.default.fromRawRoutingTable(r,n,t)})})},o.prototype._requestRawRoutingTable=function(t,n,o,i,s){var u=this;return new Promise(function(e,r){t.protocol().requestRoutingInformation({routingContext:u._routingContext,databaseName:o,impersonatedUser:s,sessionContext:{bookmark:n._lastBookmark,mode:n._mode,database:n._database,afterComplete:n._onComplete},onCompleted:e,onError:function(t){"Neo.ClientError.Database.DatabaseNotFound"===t.code?r(t):"Neo.ClientError.Procedure.ProcedureNotFound"===t.code?r((0,c.newError)("Server at "+i.asHostPort()+" can't perform routing. Make sure you are connecting to a causal cluster",l)):e(a.RawRoutingTable.ofNull())}})})},o);function o(t){this._routingContext=t}r.default=t},{"../bolt":12,"./routing-table":53,"neo4j-driver-core":60}],53:[function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||((n=n||Array.prototype.slice.call(e,0,o))[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(r,"__esModule",{value:!0}),r.createValidRoutingTable=void 0;var a=t("neo4j-driver-core"),t=a.internal.constants,i=t.ACCESS_MODE_WRITE,s=t.ACCESS_MODE_READ,c=a.internal.serverAddress.ServerAddress,l=a.error.PROTOCOL_ERROR,f=(u.fromRawRoutingTable=h,u.prototype.forget=function(t){this.readers=p(this.readers,t),this.writers=p(this.writers,t)},u.prototype.forgetRouter=function(t){this.routers=p(this.routers,t)},u.prototype.forgetWriter=function(t){this.writers=p(this.writers,t)},u.prototype.isStaleFor=function(t){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||t===s&&0===this.readers.length||t===i&&0===this.writers.length},u.prototype.isExpiredFor=function(t){return this.expirationTime.add(t).lessThan(Date.now())},u.prototype.allServers=function(){return o(o(o([],n(this.routers),!1),n(this.readers),!1),n(this.writers),!1)},u.prototype.toString=function(){return"RoutingTable[database="+this.databaseName+", expirationTime="+this.expirationTime+", currentTime="+Date.now()+", routers=["+this.routers+"], readers=["+this.readers+"], writers=["+this.writers+"]]"},u);function u(t){var e=void 0===t?{}:t,r=e.database,n=e.routers,o=e.readers,i=e.writers,t=e.expirationTime,e=e.ttl;this.database=r||null,this.databaseName=r||"default database",this.routers=n||[],this.readers=o||[],this.writers=i||[],this.expirationTime=t||(0,a.int)(0),this.ttl=e}function p(t,e){return t.filter(function(t){return t.asKey()!==e.asKey()})}function h(t,e,r){var n=r.ttl,o=function(e,r){try{var t=(0,a.int)(Date.now()),n=(0,a.int)(e.ttl).multiply(1e3).add(t);return n.lessThan(t)?a.Integer.MAX_VALUE:n}catch(t){throw(0,a.newError)("Unable to parse TTL entry from router "+r+" from raw routing table:\n"+a.json.stringify(e)+"\nError message: "+t.message,l)}}(r,e),i=function(e,r){try{var n=[],o=[],i=[];return e.servers.forEach(function(t){var e=t.role,t=t.addresses;"ROUTE"===e?n=b(t).map(function(t){return c.fromUrl(t)}):"WRITE"===e?i=b(t).map(function(t){return c.fromUrl(t)}):"READ"===e&&(o=b(t).map(function(t){return c.fromUrl(t)}))}),{routers:n,readers:o,writers:i}}catch(t){throw(0,a.newError)("Unable to parse servers entry from router "+r+" from addresses:\n"+a.json.stringify(e.servers)+"\nError message: "+t.message,l)}}(r,e),s=i.routers,u=i.readers,i=i.writers;return d(s,"routers",e),d(u,"readers",e),new f({database:t||r.db,routers:s,readers:u,writers:i,expirationTime:o,ttl:n})}function d(t,e,r){if(0===t.length)throw(0,a.newError)("Received no "+e+" from router "+r,l)}function b(t){if(!Array.isArray(t))throw new TypeError("Array expected but got: "+t);return Array.from(t)}r.default=f,r.createValidRoutingTable=h},{"neo4j-driver-core":60}],54:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default={basic:function(t,e,r){return r?{scheme:"basic",principal:t,credentials:e,realm:r}:{scheme:"basic",principal:t,credentials:e}},kerberos:function(t){return{scheme:"kerberos",principal:"",credentials:t}},bearer:function(t){return{scheme:"bearer",credentials:t}},custom:function(t,e,r,n,o){return o?{scheme:n,principal:t,credentials:e,realm:r,parameters:o}:{scheme:n,principal:t,credentials:e,realm:r}}}},{}],55:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype.acquireConnection=function(t){throw Error("Not implemented")},o.prototype.supportsMultiDb=function(){throw Error("Not implemented")},o.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},o.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},o.prototype.close=function(){throw Error("Not implemented")},o);function o(){}r.default=n},{}],56:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype.isOpen=function(){return!1},o.prototype.protocol=function(){throw Error("Not implemented")},o.prototype.connect=function(t,e){throw Error("Not implemented")},o.prototype.write=function(t,e,r){throw Error("Not implemented")},o.prototype.resetAndFlush=function(){throw Error("Not implemented")},o.prototype.close=function(){throw Error("Not implemented")},o.prototype._release=function(){return Promise.resolve()},o);function o(){this.id="",this.databaseId=""}r.default=n},{}],57:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.WRITE=r.READ=r.Driver=void 0;var u=t("./internal/bookmark"),o=t("./internal/connectivity-verifier"),i=n(t("./internal/resolver/configured-custom-resolver")),s=t("./internal/constants"),a=t("./internal/logger"),c=n(t("./session")),l=t("./internal/util"),f=36e5,p=1e3,t=s.ACCESS_MODE_READ;r.READ=t;var h=s.ACCESS_MODE_WRITE;r.WRITE=h;var d=0,t=(b.prototype.verifyConnectivity=function(t){var e=(void 0===t?{}:t).database,t=void 0===e?"":e,e=this._getOrCreateConnectionProvider();return new o.ConnectivityVerifier(e).verify({database:t})},b.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},b.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},b.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},b.prototype._supportsRouting=function(){return this._meta.routing},b.prototype._isEncrypted=function(){return this._config.encrypted===l.ENCRYPTION_ON},b.prototype._getTrust=function(){return this._config.trust},b.prototype.session=function(t){var e=void 0===t?{}:t,r=e.defaultAccessMode,n=e.bookmarks,o=e.database,t=e.impersonatedUser,e=e.fetchSize;return this._newSession({defaultAccessMode:void 0===r?h:r,bookmarkOrBookmarks:n,database:void 0===o?"":o,reactive:!1,impersonatedUser:t,fetchSize:y(e,this._config.fetchSize)})},b.prototype.close=function(){return this._log.info("Driver "+this._id+" closing"),this._connectionProvider?this._connectionProvider.close():Promise.resolve()},b.prototype._afterConstruction=function(){this._log.info(this._meta.typename+" driver "+this._id+" created for server address "+this._meta.address)},b.prototype._newSession=function(t){var e=t.defaultAccessMode,r=t.bookmarkOrBookmarks,n=t.database,o=t.reactive,i=t.impersonatedUser,s=t.fetchSize,t=c.default._validateSessionMode(e),e=this._getOrCreateConnectionProvider(),r=r?new u.Bookmark(r):u.Bookmark.empty();return this._createSession({mode:t,database:n||"",connectionProvider:e,bookmark:r,config:this._config,reactive:o,impersonatedUser:i,fetchSize:s})},b.prototype._getOrCreateConnectionProvider=function(){var t;return this._connectionProvider||(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(t=this._config,new i.default(t.resolver)))),this._connectionProvider},b);function b(t,e,r,n){var o;void 0===n&&(n=function(t){return new c.default(t)}),(o=e=void 0===e?{}:e).maxConnectionLifetime=_(o.maxConnectionLifetime,f),o.maxConnectionPoolSize=_(o.maxConnectionPoolSize,s.DEFAULT_POOL_MAX_SIZE),o.connectionAcquisitionTimeout=_(o.connectionAcquisitionTimeout,s.DEFAULT_POOL_ACQUISITION_TIMEOUT),o.fetchSize=y(o.fetchSize,p),function(t){var e=t.resolver;if(e&&"function"!=typeof e)throw new TypeError("Configured resolver should be a function. Got: "+e)}(e),this._id=d++,this._meta=t,this._config=e,this._log=a.Logger.create(e),this._createConnectionProvider=r,this._createSession=n,this._connectionProvider=null,this._afterConstruction()}function _(t,e){t=parseInt(t,10);return 0<t||0===t?t:t<0?Number.MAX_SAFE_INTEGER:e}function y(t,e){t=parseInt(t,10);if(0<t||t===s.FETCH_ALL)return t;if(0===t||t<0)throw new Error("The fetch size can only be a positive value or "+s.FETCH_ALL+" for ALL. However fetchSize = "+t);return e}r.Driver=t,r.default=t},{"./internal/bookmark":62,"./internal/connectivity-verifier":64,"./internal/constants":65,"./internal/logger":67,"./internal/resolver/configured-custom-resolver":71,"./internal/util":79,"./session":84}],58:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.PROTOCOL_ERROR=r.SESSION_EXPIRED=r.SERVICE_UNAVAILABLE=r.Neo4jError=r.newError=void 0;r.SERVICE_UNAVAILABLE="ServiceUnavailable";r.SESSION_EXPIRED="SessionExpired";r.PROTOCOL_ERROR="ProtocolError";var i,s="N/A",u=(i=Error,o(a,i),a);function a(t,e){t=i.call(this,t)||this;return t.constructor=a,t.__proto__=a.prototype,t.code=e,t.name="Neo4jError",t}r.Neo4jError=u,r.newError=function(t,e){return new u(t,null!=e?e:s)}},{}],59:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPathSegment=r.PathSegment=r.isPath=r.Path=r.isUnboundRelationship=r.UnboundRelationship=r.isRelationship=r.Relationship=r.isNode=r.Node=void 0;var n=t("./json"),o={value:!0,enumerable:!1,configurable:!1,writable:!1},i="__isNode__",s="__isRelationship__",u="__isUnboundRelationship__",a="__isPath__",c="__isPathSegment__";function l(t,e){return!0===(t&&t[e])}f.prototype.toString=function(){for(var t="("+this.identity,e=0;e<this.labels.length;e++)t+=":"+this.labels[e];var r=Object.keys(this.properties);if(0<r.length){t+=" {";for(e=0;e<r.length;e++)0<e&&(t+=","),t+=r[e]+":"+(0,n.stringify)(this.properties[r[e]]);t+="}"}return t+=")"},t=f;function f(t,e,r){this.identity=t,this.labels=e,this.properties=r}r.Node=t,Object.defineProperty(t.prototype,i,o),r.isNode=function(t){return l(t,i)};var p=(h.prototype.toString=function(){var t="("+this.start+")-[:"+this.type,e=Object.keys(this.properties);if(0<e.length){t+=" {";for(var r=0;r<e.length;r++)0<r&&(t+=","),t+=e[r]+":"+(0,n.stringify)(this.properties[e[r]]);t+="}"}return t+="]->("+this.end+")"},h);function h(t,e,r,n,o){this.identity=t,this.start=e,this.end=r,this.type=n,this.properties=o}r.Relationship=p,Object.defineProperty(p.prototype,s,o),r.isRelationship=function(t){return l(t,s)};d.prototype.bind=function(t,e){return new p(this.identity,t,e,this.type,this.properties)},d.prototype.toString=function(){var t="-[:"+this.type,e=Object.keys(this.properties);if(0<e.length){t+=" {";for(var r=0;r<e.length;r++)0<r&&(t+=","),t+=e[r]+":"+(0,n.stringify)(this.properties[e[r]]);t+="}"}return t+="]->"},t=d;function d(t,e,r){this.identity=t,this.type=e,this.properties=r}r.UnboundRelationship=t,Object.defineProperty(t.prototype,u,o),r.isUnboundRelationship=function(t){return l(t,u)};t=function(t,e,r){this.start=t,this.relationship=e,this.end=r};r.PathSegment=t,Object.defineProperty(t.prototype,c,o),r.isPathSegment=function(t){return l(t,c)};t=function(t,e,r){this.start=t,this.end=e,this.segments=r,this.length=r.length};r.Path=t,Object.defineProperty(t.prototype,a,o),r.isPath=function(t){return l(t,a)}},{"./json":80}],60:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.types=r.Driver=r.Session=r.Transaction=r.Connection=r.ConnectionProvider=r.Result=r.Stats=r.QueryStatistics=r.ProfiledPlan=r.Plan=r.Notification=r.ServerInfo=r.queryType=r.ResultSummary=r.Record=r.isPathSegment=r.PathSegment=r.isPath=r.Path=r.isUnboundRelationship=r.UnboundRelationship=r.isRelationship=r.Relationship=r.isNode=r.Node=r.Time=r.LocalTime=r.LocalDateTime=r.isTime=r.isLocalTime=r.isLocalDateTime=r.isDuration=r.isDateTime=r.isDate=r.Duration=r.DateTime=r.Date=r.Point=r.isPoint=r.internal=r.toString=r.toNumber=r.inSafeRange=r.isInt=r.int=r.Integer=r.error=r.Neo4jError=r.newError=void 0,r.auth=r.json=r.driver=void 0;var u=t("./error");Object.defineProperty(r,"newError",{enumerable:!0,get:function(){return u.newError}}),Object.defineProperty(r,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}});var a=i(t("./integer"));r.Integer=a.default,Object.defineProperty(r,"int",{enumerable:!0,get:function(){return a.int}}),Object.defineProperty(r,"isInt",{enumerable:!0,get:function(){return a.isInt}}),Object.defineProperty(r,"inSafeRange",{enumerable:!0,get:function(){return a.inSafeRange}}),Object.defineProperty(r,"toNumber",{enumerable:!0,get:function(){return a.toNumber}}),Object.defineProperty(r,"toString",{enumerable:!0,get:function(){return a.toString}});var c=t("./temporal-types");Object.defineProperty(r,"Date",{enumerable:!0,get:function(){return c.Date}}),Object.defineProperty(r,"DateTime",{enumerable:!0,get:function(){return c.DateTime}}),Object.defineProperty(r,"Duration",{enumerable:!0,get:function(){return c.Duration}}),Object.defineProperty(r,"isDate",{enumerable:!0,get:function(){return c.isDate}}),Object.defineProperty(r,"isDateTime",{enumerable:!0,get:function(){return c.isDateTime}}),Object.defineProperty(r,"isDuration",{enumerable:!0,get:function(){return c.isDuration}}),Object.defineProperty(r,"isLocalDateTime",{enumerable:!0,get:function(){return c.isLocalDateTime}}),Object.defineProperty(r,"isLocalTime",{enumerable:!0,get:function(){return c.isLocalTime}}),Object.defineProperty(r,"isTime",{enumerable:!0,get:function(){return c.isTime}}),Object.defineProperty(r,"LocalDateTime",{enumerable:!0,get:function(){return c.LocalDateTime}}),Object.defineProperty(r,"LocalTime",{enumerable:!0,get:function(){return c.LocalTime}}),Object.defineProperty(r,"Time",{enumerable:!0,get:function(){return c.Time}});var l=t("./graph-types");Object.defineProperty(r,"Node",{enumerable:!0,get:function(){return l.Node}}),Object.defineProperty(r,"isNode",{enumerable:!0,get:function(){return l.isNode}}),Object.defineProperty(r,"Relationship",{enumerable:!0,get:function(){return l.Relationship}}),Object.defineProperty(r,"isRelationship",{enumerable:!0,get:function(){return l.isRelationship}}),Object.defineProperty(r,"UnboundRelationship",{enumerable:!0,get:function(){return l.UnboundRelationship}}),Object.defineProperty(r,"isUnboundRelationship",{enumerable:!0,get:function(){return l.isUnboundRelationship}}),Object.defineProperty(r,"Path",{enumerable:!0,get:function(){return l.Path}}),Object.defineProperty(r,"isPath",{enumerable:!0,get:function(){return l.isPath}}),Object.defineProperty(r,"PathSegment",{enumerable:!0,get:function(){return l.PathSegment}}),Object.defineProperty(r,"isPathSegment",{enumerable:!0,get:function(){return l.isPathSegment}});var f=s(t("./record"));r.Record=f.default;var p=t("./spatial-types");Object.defineProperty(r,"isPoint",{enumerable:!0,get:function(){return p.isPoint}}),Object.defineProperty(r,"Point",{enumerable:!0,get:function(){return p.Point}});var h=i(t("./result-summary"));r.ResultSummary=h.default,Object.defineProperty(r,"queryType",{enumerable:!0,get:function(){return h.queryType}}),Object.defineProperty(r,"ServerInfo",{enumerable:!0,get:function(){return h.ServerInfo}}),Object.defineProperty(r,"Notification",{enumerable:!0,get:function(){return h.Notification}}),Object.defineProperty(r,"Plan",{enumerable:!0,get:function(){return h.Plan}}),Object.defineProperty(r,"ProfiledPlan",{enumerable:!0,get:function(){return h.ProfiledPlan}}),Object.defineProperty(r,"QueryStatistics",{enumerable:!0,get:function(){return h.QueryStatistics}}),Object.defineProperty(r,"Stats",{enumerable:!0,get:function(){return h.Stats}});var d=s(t("./result"));r.Result=d.default;var b=s(t("./connection-provider"));r.ConnectionProvider=b.default;var _=s(t("./connection"));r.Connection=_.default;var y=s(t("./transaction"));r.Transaction=y.default;var v=s(t("./session"));r.Session=v.default;var m=i(t("./driver")),g=m;r.Driver=m.default,r.driver=g;var O=s(t("./auth"));r.auth=O.default;b=i(t("./types"));r.types=b;s=i(t("./json"));r.json=s;i=i(t("./internal"));r.internal=i;t={SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SESSION_EXPIRED:u.SESSION_EXPIRED,PROTOCOL_ERROR:u.PROTOCOL_ERROR};r.error=t;O={newError:u.newError,Neo4jError:u.Neo4jError,error:t,Integer:a.default,int:a.int,isInt:a.isInt,inSafeRange:a.inSafeRange,toNumber:a.toNumber,toString:a.toString,internal:i,isPoint:p.isPoint,Point:p.Point,Date:c.Date,DateTime:c.DateTime,Duration:c.Duration,isDate:c.isDate,isDateTime:c.isDateTime,isDuration:c.isDuration,isLocalDateTime:c.isLocalDateTime,isLocalTime:c.isLocalTime,isTime:c.isTime,LocalDateTime:c.LocalDateTime,LocalTime:c.LocalTime,Time:c.Time,Node:l.Node,isNode:l.isNode,Relationship:l.Relationship,isRelationship:l.isRelationship,UnboundRelationship:l.UnboundRelationship,isUnboundRelationship:l.isUnboundRelationship,Path:l.Path,isPath:l.isPath,PathSegment:l.PathSegment,isPathSegment:l.isPathSegment,Record:f.default,ResultSummary:h.default,queryType:h.queryType,ServerInfo:h.ServerInfo,Notification:h.Notification,Plan:h.Plan,ProfiledPlan:h.ProfiledPlan,QueryStatistics:h.QueryStatistics,Stats:h.Stats,Result:d.default,Transaction:y.default,Session:v.default,Driver:m.default,Connection:_.default,types:b,driver:g,json:s,auth:O.default};r.default=O},{"./auth":54,"./connection":56,"./connection-provider":55,"./driver":57,"./error":58,"./graph-types":59,"./integer":61,"./internal":66,"./json":80,"./record":81,"./result":83,"./result-summary":82,"./session":84,"./spatial-types":85,"./temporal-types":86,"./transaction":87,"./types":88}],61:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toString=r.toNumber=r.inSafeRange=r.isInt=r.int=void 0;var h=t("./error"),n=new Map,o=(d.prototype.inSafeRange=function(){return this.greaterThanOrEqual(d.MIN_SAFE_VALUE)&&this.lessThanOrEqual(d.MAX_SAFE_VALUE)},d.prototype.toInt=function(){return this.low},d.prototype.toNumber=function(){return this.high*i+(this.low>>>0)},d.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(i)+BigInt(this.low>>>0);var t=this.negate();return BigInt(-1)*(BigInt(t.high>>>0)*BigInt(i)+BigInt(t.low>>>0))},d.prototype.toNumberOrInfinity=function(){return this.lessThan(d.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(d.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},d.prototype.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(d.MIN_VALUE)){var e=d.fromNumber(t),r=this.div(e),n=r.multiply(e).subtract(this);return r.toString(t)+n.toInt().toString(t)}return"-"+this.negate().toString(t)}var o=d.fromNumber(Math.pow(t,6));n=this;for(var i="";;){var s=n.div(o),u=(n.subtract(s.multiply(o)).toInt()>>>0).toString(t);if((n=s).isZero())return u+i;for(;u.length<6;)u="0"+u;i=""+u+i}},d.prototype.getHighBits=function(){return this.high},d.prototype.getLowBits=function(){return this.low},d.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(d.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var t=0!==this.high?this.high:this.low,e=31;0<e&&0==(t&1<<e);e--);return 0!==this.high?e+33:e+1},d.prototype.isZero=function(){return 0===this.high&&0===this.low},d.prototype.isNegative=function(){return this.high<0},d.prototype.isPositive=function(){return 0<=this.high},d.prototype.isOdd=function(){return 1==(1&this.low)},d.prototype.isEven=function(){return 0==(1&this.low)},d.prototype.equals=function(t){t=d.fromValue(t);return this.high===t.high&&this.low===t.low},d.prototype.notEquals=function(t){return!this.equals(t)},d.prototype.lessThan=function(t){return this.compare(t)<0},d.prototype.lessThanOrEqual=function(t){return this.compare(t)<=0},d.prototype.greaterThan=function(t){return 0<this.compare(t)},d.prototype.greaterThanOrEqual=function(t){return 0<=this.compare(t)},d.prototype.compare=function(t){var e=d.fromValue(t);if(this.equals(e))return 0;var r=this.isNegative(),t=e.isNegative();return r&&!t||(r||!t)&&this.subtract(e).isNegative()?-1:1},d.prototype.negate=function(){return this.equals(d.MIN_VALUE)?d.MIN_VALUE:this.not().add(d.ONE)},d.prototype.add=function(t){var e=d.fromValue(t),r=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,s=e.high>>>16,u=65535&e.high,a=e.low>>>16,c=0,l=0,f=0,t=0;return f+=(t+=i+(65535&e.low))>>>16,l+=(f+=o+a)>>>16,c+=(l+=n+u)>>>16,c+=r+s,d.fromBits((f&=65535)<<16|(t&=65535),(c&=65535)<<16|(l&=65535))},d.prototype.subtract=function(t){t=d.fromValue(t);return this.add(t.negate())},d.prototype.multiply=function(t){if(this.isZero())return d.ZERO;var e=d.fromValue(t);if(e.isZero())return d.ZERO;if(this.equals(d.MIN_VALUE))return e.isOdd()?d.MIN_VALUE:d.ZERO;if(e.equals(d.MIN_VALUE))return this.isOdd()?d.MIN_VALUE:d.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(p)&&e.lessThan(p))return d.fromNumber(this.toNumber()*e.toNumber());var r=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,s=e.high>>>16,u=65535&e.high,a=e.low>>>16,c=65535&e.low,l=0,f=0,t=0,e=0;return t+=(e+=i*c)>>>16,f+=(t+=o*c)>>>16,t&=65535,f+=(t+=i*a)>>>16,l+=(f+=n*c)>>>16,f&=65535,l+=(f+=o*a)>>>16,f&=65535,l+=(f+=i*u)>>>16,l+=r*c+n*a+o*u+i*s,d.fromBits((t&=65535)<<16|(e&=65535),(l&=65535)<<16|(f&=65535))},d.prototype.div=function(t){var e,r,n,o=d.fromValue(t);if(o.isZero())throw(0,h.newError)("division by zero");if(this.isZero())return d.ZERO;{if(this.equals(d.MIN_VALUE))return o.equals(d.ONE)||o.equals(d.NEG_ONE)?d.MIN_VALUE:o.equals(d.MIN_VALUE)?d.ONE:(n=this.shiftRight(1).div(o).shiftLeft(1)).equals(d.ZERO)?o.isNegative()?d.ONE:d.NEG_ONE:(e=this.subtract(o.multiply(n)),r=n.add(e.div(o)));if(o.equals(d.MIN_VALUE))return d.ZERO}if(this.isNegative())return o.isNegative()?this.negate().div(o.negate()):this.negate().div(o).negate();if(o.isNegative())return this.div(o.negate()).negate();for(r=d.ZERO,e=this;e.greaterThanOrEqual(o);){n=Math.max(1,Math.floor(e.toNumber()/o.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),s=i<=48?1:Math.pow(2,i-48),u=d.fromNumber(n),a=u.multiply(o);a.isNegative()||a.greaterThan(e);)a=(u=d.fromNumber(n-=s)).multiply(o);u.isZero()&&(u=d.ONE),r=r.add(u),e=e.subtract(a)}return r},d.prototype.modulo=function(t){t=d.fromValue(t);return this.subtract(this.div(t).multiply(t))},d.prototype.not=function(){return d.fromBits(~this.low,~this.high)},d.prototype.and=function(t){t=d.fromValue(t);return d.fromBits(this.low&t.low,this.high&t.high)},d.prototype.or=function(t){t=d.fromValue(t);return d.fromBits(this.low|t.low,this.high|t.high)},d.prototype.xor=function(t){t=d.fromValue(t);return d.fromBits(this.low^t.low,this.high^t.high)},d.prototype.shiftLeft=function(t){t=d.toNumber(t);return 0==(t&=63)?d.ZERO:t<32?d.fromBits(this.low<<t,this.high<<t|this.low>>>32-t):d.fromBits(0,this.low<<t-32)},d.prototype.shiftRight=function(t){var e=d.toNumber(t);return 0==(e&=63)?d.ZERO:t<32?d.fromBits(this.low>>>e|this.high<<32-e,this.high>>e):d.fromBits(this.high>>e-32,0<=this.high?0:-1)},d.isInteger=function(t){return!0===(t&&t.__isInteger__)},d.fromInt=function(t){var e;return-128<=(t|=0)&&t<128&&(e=n.get(t))||(e=new d(t,t<0?-1:0),-128<=t&&t<128&&n.set(t,e)),e},d.fromBits=function(t,e){return new d(t,e)},d.fromNumber=function(t){return isNaN(t)||!isFinite(t)?d.ZERO:t<=-s?d.MIN_VALUE:s<=t+1?d.MAX_VALUE:t<0?d.fromNumber(-t).negate():new d(t%i|0,t/i|0)},d.fromString=function(t,e,r){var n=(void 0===r?{}:r).strictStringValidation;if(0===t.length)throw(0,h.newError)("number format error: empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return d.ZERO;if((e=e||10)<2||36<e)throw(0,h.newError)("radix out of range: "+e);if(0<(r=t.indexOf("-")))throw(0,h.newError)('number format error: interior "-" character: '+t);if(0===r)return d.fromString(t.substring(1),e).negate();for(var o,i,s,u=d.fromNumber(Math.pow(e,8)),a=d.ZERO,c=0;c<t.length;c+=8){var l=Math.min(8,t.length-c),f=t.substring(c,c+l),p=parseInt(f,e);if(!0===n&&(o=f,i=p,s=e,Number.isNaN(o)||Number.isNaN(i)||function(t,e,r){e=t.toString(e),r=Math.max(r-e.length,0);return""+"0".repeat(r)+e}(i,s,o.length)!==o.toLowerCase()))throw(0,h.newError)('number format error: "'+f+'" is NaN in radix '+e+": "+t);a=l<8?(l=d.fromNumber(Math.pow(e,l)),a.multiply(l).add(d.fromNumber(p))):(a=a.multiply(u)).add(d.fromNumber(p))}return a},d.fromValue=function(t,e){return void 0===e&&(e={}),t instanceof d?t:"number"==typeof t?d.fromNumber(t):"string"==typeof t?d.fromString(t,void 0,e):"bigint"==typeof t?d.fromString(t.toString()):new d(t.low,t.high)},d.toNumber=function(t){switch(typeof t){case"number":return t;case"bigint":return Number(t);default:return d.fromValue(t).toNumber()}},d.toString=function(t,e){return d.fromValue(t).toString(e)},d.inSafeRange=function(t){return d.fromValue(t).inSafeRange()},d.ZERO=d.fromInt(0),d.ONE=d.fromInt(1),d.NEG_ONE=d.fromInt(-1),d.MAX_VALUE=d.fromBits(-1,2147483647),d.MIN_VALUE=d.fromBits(0,-2147483648),d.MIN_SAFE_VALUE=d.fromBits(1,-2097152),d.MAX_SAFE_VALUE=d.fromBits(-1,2097151),d.__isInteger__=!0,d);function d(t,e){this.low=t||0,this.high=e||0}Object.defineProperty(o.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var i=4294967296,s=i*i/2,p=o.fromInt(1<<24),t=o.fromValue;r.int=t;t=o.isInteger;r.isInt=t;t=o.inSafeRange;r.inSafeRange=t;t=o.toNumber;r.toNumber=t;t=o.toString;r.toString=t,r.default=o},{"./error":58}],62:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.Bookmark=void 0;var s=i(t("./util")),t=(u.empty=function(){return a},u.prototype.isEmpty=function(){return 0===this._values.length},u.prototype.values=function(){return this._values},u.prototype.asBeginTransactionParameters=function(){var t;return this.isEmpty()?{}:((t={}).bookmarks=this._values,t)},u);function u(t){this._values=function(t){if(!t)return[];if(s.isString(t))return[t];if(Array.isArray(t)){for(var e=[],r=function r(t){return t.reduce(function(t,e){return Array.isArray(e)?t.concat(r(e)):t.concat(e)},[])}(t),n=0;n<r.length;n++){var o=r[n];if(null!=o){if(!s.isString(o))throw new TypeError("Bookmark value should be a string, given: '"+o+"'");e.push(o)}}return e}throw new TypeError("Bookmark should either be a string or a string array, given: '"+t+"'")}(t)}var a=new(r.Bookmark=t)(null)},{"./util":79}],63:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.EMPTY_CONNECTION_HOLDER=r.ReadOnlyConnectionHolder=r.ConnectionHolder=void 0;var i=t("../error"),s=t("./util"),u=t("./constants"),a=t("./bookmark"),c=(l.prototype.mode=function(){return this._mode},l.prototype.database=function(){return this._database},l.prototype.setDatabase=function(t){this._database=t},l.prototype.bookmark=function(){return this._bookmark},l.prototype.connectionProvider=function(){return this._connectionProvider},l.prototype.referenceCount=function(){return this._referenceCount},l.prototype.initializeConnection=function(){return 0===this._referenceCount&&this._connectionProvider?(this._connectionPromise=this._connectionProvider.acquireConnection({accessMode:this._mode,database:this._database,bookmarks:this._bookmark,impersonatedUser:this._impersonatedUser,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._referenceCount++,!0):(this._referenceCount++,!1)},l.prototype.getConnection=function(){return this._connectionPromise},l.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)},l.prototype.close=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection())},l.prototype._releaseConnection=function(){return this._connectionPromise=this._connectionPromise.then(function(t){return t?t.isOpen()?t.resetAndFlush().catch(b).then(function(){return t._release()}):t._release():Promise.resolve()}).catch(b),this._connectionPromise},l);function l(t){var e=void 0===t?{}:t,r=e.mode,n=void 0===r?u.ACCESS_MODE_WRITE:r,o=e.database,i=void 0===o?"":o,t=e.bookmark,r=e.connectionProvider,o=e.impersonatedUser,e=e.onDatabaseNameResolved;this._mode=n,this._database=i?(0,s.assertString)(i,"database"):"",this._bookmark=t||a.Bookmark.empty(),this._connectionProvider=r,this._impersonatedUser=o,this._referenceCount=0,this._connectionPromise=Promise.resolve(),this._onDatabaseNameResolved=e}r.ConnectionHolder=c;var f,p,t=(o(h,f=c),h.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},h.prototype.getConnection=function(){return this._connectionHolder.getConnection()},h.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve()})},h.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve()})},h);function h(t){var e=f.call(this,{mode:t.mode(),database:t.database(),bookmark:t.bookmark(),connectionProvider:t.connectionProvider()})||this;return e._connectionHolder=t,e}function d(){return null!==p&&p.apply(this,arguments)||this}r.ReadOnlyConnectionHolder=t,r.default=t;c=new(o(d,p=c),d.prototype.mode=function(){},d.prototype.database=function(){},d.prototype.initializeConnection=function(){return!0},d.prototype.getConnection=function(){return Promise.reject((0,i.newError)("This connection holder does not serve connections"))},d.prototype.releaseConnection=function(){return Promise.resolve()},d.prototype.close=function(){return Promise.resolve()},d);function b(t){}r.EMPTY_CONNECTION_HOLDER=c},{"../error":58,"./bookmark":62,"./constants":65,"./util":79}],64:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ConnectivityVerifier=void 0;var n=t("./connection-holder"),o=t("./constants"),i=t("../error"),t=(s.prototype.verify=function(t){var e,r=(void 0===t?{}:t).database;return t=this._connectionProvider,r=void 0===r?"":r,(e=new n.ConnectionHolder({mode:o.ACCESS_MODE_READ,database:r,connectionProvider:t})).initializeConnection(),e.getConnection().then(function(t){if(!t)throw(0,i.newError)("Unexpected error acquiring transaction");return e.close().then(function(){return t.server})}).catch(function(t){return e.close().catch(function(t){}).then(function(){return Promise.reject(t)})})},s);function s(t){this._connectionProvider=t}r.ConnectivityVerifier=t},{"../error":58,"./connection-holder":63,"./constants":65}],65:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BOLT_PROTOCOL_V4_4=r.BOLT_PROTOCOL_V4_3=r.BOLT_PROTOCOL_V4_2=r.BOLT_PROTOCOL_V4_1=r.BOLT_PROTOCOL_V4_0=r.BOLT_PROTOCOL_V3=r.BOLT_PROTOCOL_V2=r.BOLT_PROTOCOL_V1=r.DEFAULT_POOL_MAX_SIZE=r.DEFAULT_POOL_ACQUISITION_TIMEOUT=r.ACCESS_MODE_WRITE=r.ACCESS_MODE_READ=r.FETCH_ALL=void 0;r.FETCH_ALL=-1;r.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4;r.DEFAULT_POOL_MAX_SIZE=100;r.ACCESS_MODE_READ="READ";r.ACCESS_MODE_WRITE="WRITE";r.BOLT_PROTOCOL_V1=1;r.BOLT_PROTOCOL_V2=2;r.BOLT_PROTOCOL_V3=3;r.BOLT_PROTOCOL_V4_0=4;r.BOLT_PROTOCOL_V4_1=4.1;r.BOLT_PROTOCOL_V4_2=4.2;r.BOLT_PROTOCOL_V4_3=4.3;r.BOLT_PROTOCOL_V4_4=4.4},{}],66:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.objectUtil=r.retryStrategy=r.resolver=r.serverAddress=r.urlUtil=r.logger=r.connectivityVerifier=r.transactionExecutor=r.txConfig=r.connectionHolder=r.constants=r.bookmark=r.observer=r.temporalUtil=r.util=void 0;var s=i(t("./util"));r.util=s;s=i(t("./temporal-util"));r.temporalUtil=s;s=i(t("./observers"));r.observer=s;s=i(t("./bookmark"));r.bookmark=s;s=i(t("./constants"));r.constants=s;s=i(t("./connection-holder"));r.connectionHolder=s;s=i(t("./tx-config"));r.txConfig=s;s=i(t("./transaction-executor"));r.transactionExecutor=s;s=i(t("./connectivity-verifier"));r.connectivityVerifier=s;s=i(t("./logger"));r.logger=s;s=i(t("./url-util"));r.urlUtil=s;s=i(t("./server-address"));r.serverAddress=s;s=i(t("./resolver"));r.resolver=s;s=i(t("./retry-strategy"));r.retryStrategy=s;t=i(t("./object-util"));r.objectUtil=t},{"./bookmark":62,"./connection-holder":63,"./connectivity-verifier":64,"./constants":65,"./logger":67,"./object-util":68,"./observers":69,"./resolver":72,"./retry-strategy":73,"./server-address":74,"./temporal-util":75,"./transaction-executor":76,"./tx-config":77,"./url-util":78,"./util":79}],67:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=void 0;var i,s=t("../error"),u="info",a=u,c=((t={}).error=0,t.warn=1,t.info=2,t.debug=3,t),t=(l.create=function(t){if(t&&t.logging){t=t.logging;return new l(function(t){if(t&&t.level){var e=t.level,t=c[e];if(!t&&0!==t)throw(0,s.newError)("Illegal logging level: "+e+". Supported levels are: "+Object.keys(c));return e}return a}(t),function(t){if(t&&t.logger){var e=t.logger;if(e&&"function"==typeof e)return e}throw(0,s.newError)("Illegal logger function: "+t.logger)}(t))}return this.noOp()},l.noOp=function(){return p},l.prototype.isErrorEnabled=function(){return h(this._level,"error")},l.prototype.error=function(t){this.isErrorEnabled()&&this._loggerFunction("error",t)},l.prototype.isWarnEnabled=function(){return h(this._level,"warn")},l.prototype.warn=function(t){this.isWarnEnabled()&&this._loggerFunction("warn",t)},l.prototype.isInfoEnabled=function(){return h(this._level,u)},l.prototype.info=function(t){this.isInfoEnabled()&&this._loggerFunction(u,t)},l.prototype.isDebugEnabled=function(){return h(this._level,"debug")},l.prototype.debug=function(t){this.isDebugEnabled()&&this._loggerFunction("debug",t)},l);function l(t,e){this._level=t,this._loggerFunction=e}function f(){return i.call(this,u,function(t,e){})||this}r.Logger=t;var p=new(o(f,i=t),f.prototype.isErrorEnabled=function(){return!1},f.prototype.error=function(t){},f.prototype.isWarnEnabled=function(){return!1},f.prototype.warn=function(t){},f.prototype.isInfoEnabled=function(){return!1},f.prototype.info=function(t){},f.prototype.isDebugEnabled=function(){return!1},f.prototype.debug=function(t){},f);function h(t,e){return c[t]>=c[e]}},{"../error":58}],68:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getBrokenObjectReason=r.isBrokenObject=r.createBrokenObject=void 0;var o="__isBrokenObject__",i="__reason__";r.createBrokenObject=function(r,t){function n(){throw r}return void 0===t&&(t={}),new Proxy(t,{get:function(t,e){return e===o||(e===i?r:void("toJSON"!==e&&n()))},set:n,apply:n,construct:n,defineProperty:n,deleteProperty:n,getOwnPropertyDescriptor:n,getPrototypeOf:n,has:n,isExtensible:n,ownKeys:n,preventExtensions:n,setPrototypeOf:n})},r.isBrokenObject=function(t){return null!==t&&"object"==typeof t&&!0===t[o]},r.getBrokenObjectReason=function(t){return t[i]}},{}],69:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FailedObserver=r.CompletedObserver=void 0;var n=(o.prototype.subscribe=function(t){s(t,t.onKeys,[]),s(t,t.onCompleted,{})},o.prototype.cancel=function(){},o.prototype.prepareToHandleSingleResponse=function(){},o.prototype.markCompleted=function(){},o.prototype.onError=function(t){throw Error("CompletedObserver not supposed to call onError")},o);function o(){}r.CompletedObserver=n;i.prototype.subscribe=function(t){s(t,t.onError,this._error),this._observers.push(t)},i.prototype.onError=function(e){var t=this;Promise.resolve(s(this,this._beforeError,e)).then(function(){return t._observers.forEach(function(t){return s(t,t.onError,e)})})},i.prototype.cancel=function(){},i.prototype.prepareToHandleSingleResponse=function(){},i.prototype.markCompleted=function(){},n=i;function i(t){var e=t.error,t=t.onError;this._error=e,this._beforeError=t,this._observers=[],this.onError(e)}function s(t,e,r){e&&e.bind(t)(r)}r.FailedObserver=n},{}],70:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype.resolve=function(){throw new Error("Abstract function")},o.prototype._resolveToItself=function(t){return Promise.resolve([t])},o);function o(){}r.default=n},{}],71:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../server-address");function o(t){return Promise.resolve([t])}i.prototype.resolve=function(e){var r=this;return new Promise(function(t){return t(r._resolverFunction(e.asHostPort()))}).then(function(t){if(!Array.isArray(t))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses.Each address is '<host>:<port>'. Got: "+t);return t.map(function(t){return n.ServerAddress.fromUrl(t)})})},t=i;function i(t){this._resolverFunction=t||o}r.default=t},{"../server-address":74}],72:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0}),r.ConfiguredCustomResolver=r.BaseHostNameResolver=void 0;var o=n(t("./base-host-name-resolver"));r.BaseHostNameResolver=o.default;t=n(t("./configured-custom-resolver"));r.ConfiguredCustomResolver=t.default},{"./base-host-name-resolver":70,"./configured-custom-resolver":71}],73:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.canRetryOn=void 0;var n=t("../error");r.canRetryOn=function(t){return t&&t instanceof n.Neo4jError&&t.code&&(t.code===n.SERVICE_UNAVAILABLE||t.code===n.SESSION_EXPIRED||"Neo.ClientError.Security.AuthorizationExpired"===t.code||function(t){t=t.code;if(0<=t.indexOf("TransientError"))return"Neo.TransientError.Transaction.Terminated"!==t&&"Neo.TransientError.Transaction.LockClientStopped"!==t;return!1}(t))}},{"../error":58}],74:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.ServerAddress=void 0;var s=t("./util"),u=i(t("./url-util")),t=(a.prototype.host=function(){return this._host},a.prototype.resolvedHost=function(){return this._resolved||this._host},a.prototype.port=function(){return this._port},a.prototype.resolveWith=function(t){return new a(this._host,t,this._port,this._hostPort)},a.prototype.asHostPort=function(){return this._hostPort},a.prototype.asKey=function(){return this._hostPort},a.prototype.toString=function(){return this._stringValue},a.fromUrl=function(t){t=u.parseDatabaseUrl(t);return new a(t.host,null,t.port,t.hostAndPort)},a);function a(t,e,r,n){this._host=(0,s.assertString)(t,"host"),this._resolved=e?(0,s.assertString)(e,"resolved"):null,this._port=(0,s.assertNumber)(r,"port"),this._hostPort=n,this._stringValue=e?n+"("+e+")":""+n}r.ServerAddress=t},{"./url-util":78,"./util":79}],75:[function(t,e,u){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(u,"__esModule",{value:!0}),u.floorMod=u.floorDiv=u.assertValidZoneId=u.assertValidNanosecond=u.assertValidSecond=u.assertValidMinute=u.assertValidHour=u.assertValidDay=u.assertValidMonth=u.assertValidYear=u.timeZoneOffsetInSeconds=u.totalNanoseconds=u.newDate=u.toStandardDate=u.isoStringToStandardDate=u.dateToIsoString=u.timeZoneOffsetToIsoString=u.timeToIsoString=u.durationToIsoString=u.dateToEpochDay=u.localDateTimeToEpochSecond=u.localTimeToNanoOfDay=u.normalizeNanosecondsForDuration=u.normalizeSecondsForDuration=u.SECONDS_PER_DAY=u.DAYS_PER_400_YEAR_CYCLE=u.DAYS_0000_TO_1970=u.NANOS_PER_HOUR=u.NANOS_PER_MINUTE=u.NANOS_PER_MILLISECOND=u.NANOS_PER_SECOND=u.SECONDS_PER_HOUR=u.SECONDS_PER_MINUTE=u.MINUTES_PER_HOUR=u.NANOSECOND_OF_SECOND_RANGE=u.SECOND_OF_MINUTE_RANGE=u.MINUTE_OF_HOUR_RANGE=u.HOUR_OF_DAY_RANGE=u.DAY_OF_MONTH_RANGE=u.MONTH_OF_YEAR_RANGE=u.YEAR_RANGE=void 0;var a=r(t("../integer")),i=t("../error"),s=t("./util"),t=(c.prototype.contains=function(t){if((0,a.isInt)(t)&&t instanceof a.default)return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger);if("bigint"!=typeof t)return t>=this._minNumber&&t<=this._maxNumber;t=(0,a.int)(t);return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger)},c.prototype.toString=function(){return"["+this._minNumber+", "+this._maxNumber+"]"},c);function c(t,e){this._minNumber=t,this._maxNumber=e,this._minInteger=(0,a.int)(t),this._maxInteger=(0,a.int)(e)}function l(t,e,r){t=(0,a.int)(t),e=(0,a.int)(e),r=(0,a.int)(r);var n=t.multiply(365);return n=(n=(n=t.greaterThanOrEqual(0)?n.add(t.add(3).div(4).subtract(t.add(99).div(100)).add(t.add(399).div(400))):n.subtract(t.div(-4).subtract(t.div(-100)).add(t.div(-400)))).add(e.multiply(367).subtract(362).div(12))).add(r.subtract(1)),e.greaterThan(2)&&(n=n.subtract(1),t=t,(t=(0,a.int)(t)).modulo(4).equals(0)&&(!t.modulo(100).equals(0)||t.modulo(400).equals(0))||(n=n.subtract(1))),n.subtract(u.DAYS_0000_TO_1970)}function f(t,e,r){if((0,s.assertNumberOrInteger)(t,r),!e.contains(t))throw(0,i.newError)(r+" is expected to be in range "+e+" but was: "+t);return t}function p(t,e){t=(0,a.int)(t),e=(0,a.int)(e);var r=t.div(e);return r=t.isPositive()!==e.isPositive()&&r.multiply(e).notEquals(t)?r.subtract(1):r}function h(t,e){return t=(0,a.int)(t),e=(0,a.int)(e),t.subtract(p(t,e).multiply(e))}function d(t){return(t=(0,a.int)(t)).equals(0)?"":"."+b(t,9)}function b(t,e,r){var n=(t=(0,a.int)(t)).isNegative(),o=(t=n?t.negate():t).toString();if(e)for(;o.length<e;)o="0"+o;return n?"-"+o:!0===(null==r?void 0:r.usePositiveSign)?"+"+o:o}u.YEAR_RANGE=new t(-999999999,999999999),u.MONTH_OF_YEAR_RANGE=new t(1,12),u.DAY_OF_MONTH_RANGE=new t(1,31),u.HOUR_OF_DAY_RANGE=new t(0,23),u.MINUTE_OF_HOUR_RANGE=new t(0,59),u.SECOND_OF_MINUTE_RANGE=new t(0,59),u.NANOSECOND_OF_SECOND_RANGE=new t(0,999999999),u.MINUTES_PER_HOUR=60,u.SECONDS_PER_MINUTE=60,u.SECONDS_PER_HOUR=u.SECONDS_PER_MINUTE*u.MINUTES_PER_HOUR,u.NANOS_PER_SECOND=1e9,u.NANOS_PER_MILLISECOND=1e6,u.NANOS_PER_MINUTE=u.NANOS_PER_SECOND*u.SECONDS_PER_MINUTE,u.NANOS_PER_HOUR=u.NANOS_PER_MINUTE*u.MINUTES_PER_HOUR,u.DAYS_0000_TO_1970=719528,u.DAYS_PER_400_YEAR_CYCLE=146097,u.SECONDS_PER_DAY=86400,u.normalizeSecondsForDuration=function(t,e){return(0,a.int)(t).add(p(e,u.NANOS_PER_SECOND))},u.normalizeNanosecondsForDuration=function(t){return h(t,u.NANOS_PER_SECOND)},u.localTimeToNanoOfDay=function(t,e,r,n){return t=(0,a.int)(t),e=(0,a.int)(e),r=(0,a.int)(r),n=(0,a.int)(n),(t=(t=(t=t.multiply(u.NANOS_PER_HOUR)).add(e.multiply(u.NANOS_PER_MINUTE))).add(r.multiply(u.NANOS_PER_SECOND))).add(n)},u.localDateTimeToEpochSecond=function(t,e,r,n,o,i,s){return r=l(t,e,r),i=function(t,e,r){t=(0,a.int)(t),e=(0,a.int)(e),r=(0,a.int)(r);t=t.multiply(u.SECONDS_PER_HOUR);return(t=t.add(e.multiply(u.SECONDS_PER_MINUTE))).add(r)}(n,o,i),r.multiply(u.SECONDS_PER_DAY).add(i)},u.dateToEpochDay=l,u.durationToIsoString=function(t,e,r,n){return"P"+b(t)+"M"+b(e)+"DT"+function(t,e){var r;t=(0,a.int)(t),e=(0,a.int)(e);var n=t.isNegative(),o=e.greaterThan(0);t=n&&o?t.equals(-1)?"-0":t.add(1).toString():t.toString();o&&(r=d((n?e.negate().add(2*u.NANOS_PER_SECOND):e.add(u.NANOS_PER_SECOND)).modulo(u.NANOS_PER_SECOND)));return r?t+r:t}(r,n)+"S"},u.timeToIsoString=function(t,e,r,n){return b(t,2)+":"+b(e,2)+":"+b(r,2)+d(n)},u.timeZoneOffsetToIsoString=function(t){if((t=(0,a.int)(t)).equals(0))return"Z";var e=(n=t.isNegative())?"-":"+",r=b((t=n?t.multiply(-1):t).div(u.SECONDS_PER_HOUR),2),n=b(t.div(u.SECONDS_PER_MINUTE).modulo(u.MINUTES_PER_HOUR),2);return(t=(t=t.modulo(u.SECONDS_PER_MINUTE)).equals(0)?null:b(t,2))?e+r+":"+n+":"+t:e+r+":"+n},u.dateToIsoString=function(t,e,r){return function(t){t=(0,a.int)(t);if(t.isNegative()||t.greaterThan(9999))return b(t,6,{usePositiveSign:!0});return b(t,4)}(t)+"-"+b(e,2)+"-"+b(r,2)},u.isoStringToStandardDate=function(t){return new Date(t)},u.toStandardDate=function(t){return new Date(t)},u.newDate=function(t){return new Date(t)},u.totalNanoseconds=function(t,e){return function(t,e){{if(t instanceof a.default)return t.add(e);if("bigint"==typeof t)return t+BigInt(e)}return t+e}(e=e||0,t.getMilliseconds()*u.NANOS_PER_MILLISECOND)},u.timeZoneOffsetInSeconds=function(t){var e=t.getSeconds()>=t.getUTCSeconds()?t.getSeconds()-t.getUTCSeconds():t.getSeconds()-t.getUTCSeconds()+60;return 0===(t=t.getTimezoneOffset())?0+e:-1*t*u.SECONDS_PER_MINUTE+e},u.assertValidYear=function(t){return f(t,u.YEAR_RANGE,"Year")},u.assertValidMonth=function(t){return f(t,u.MONTH_OF_YEAR_RANGE,"Month")},u.assertValidDay=function(t){return f(t,u.DAY_OF_MONTH_RANGE,"Day")},u.assertValidHour=function(t){return f(t,u.HOUR_OF_DAY_RANGE,"Hour")},u.assertValidMinute=function(t){return f(t,u.MINUTE_OF_HOUR_RANGE,"Minute")},u.assertValidSecond=function(t){return f(t,u.SECOND_OF_MINUTE_RANGE,"Second")},u.assertValidNanosecond=function(t){return f(t,u.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")},u.assertValidZoneId=function(e,r){try{Intl.DateTimeFormat(void 0,{timeZone:r})}catch(t){throw(0,i.newError)(e+' is expected to be a valid ZoneId but was: "'+r+'"')}},u.floorDiv=p,u.floorMod=h},{"../error":58,"../integer":61,"./util":79}],76:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TransactionExecutor=void 0;var n=t("../error"),a=t("./retry-strategy"),t=(o.prototype.execute=function(n,o){var i=this;return new Promise(function(t,e){i._executeTransactionInsidePromise(n,o,t,e)}).catch(function(t){var e=Date.now(),r=i._initialRetryDelayMs;return i._retryTransactionPromise(n,o,t,e,r)})},o.prototype.close=function(){this._inFlightTimeoutIds.forEach(function(t){return clearTimeout(t)}),this._inFlightTimeoutIds=[]},o.prototype._retryTransactionPromise=function(o,i,t,r,s){var u=this;return Date.now()-r>this._maxRetryTimeMs||!(0,a.canRetryOn)(t)?Promise.reject(t):new Promise(function(t,e){var r=u._computeDelayWithJitter(s),n=setTimeout(function(){u._inFlightTimeoutIds=u._inFlightTimeoutIds.filter(function(t){return t!==n}),u._executeTransactionInsidePromise(o,i,t,e)},r);u._inFlightTimeoutIds.push(n)}).catch(function(t){var e=s*u._multiplier;return u._retryTransactionPromise(o,i,t,r,e)})},o.prototype._executeTransactionInsidePromise=function(t,e,r,n){var o,i=this;try{o=t()}catch(t){return void n(t)}this._safeExecuteTransactionWork(o,e).then(function(t){return i._handleTransactionWorkSuccess(t,o,r,n)}).catch(function(t){return i._handleTransactionWorkFailure(t,o,n)})},o.prototype._safeExecuteTransactionWork=function(t,e){try{var r=e(t);return Promise.resolve(r)}catch(t){return Promise.reject(t)}},o.prototype._handleTransactionWorkSuccess=function(t,e,r,n){e.isOpen()?e.commit().then(function(){r(t)}).catch(function(t){n(t)}):r(t)},o.prototype._handleTransactionWorkFailure=function(t,e,r){e.isOpen()?e.rollback().catch(function(t){}).then(function(){return r(t)}):r(t)},o.prototype._computeDelayWithJitter=function(t){var e=t*this._jitterFactor,r=t-e,e=t+e;return Math.random()*(e-r)+r},o.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,n.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs);if(this._initialRetryDelayMs<0)throw(0,n.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs);if(this._multiplier<1)throw(0,n.newError)("Multiplier should be >= 1.0: "+this._multiplier);if(this._jitterFactor<0||1<this._jitterFactor)throw(0,n.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor)},o);function o(t,e,r,n){this._maxRetryTimeMs=i(t,3e4),this._initialRetryDelayMs=i(e,1e3),this._multiplier=i(r,2),this._jitterFactor=i(n,.2),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}function i(t,e){return t||0===t?t:e}r.TransactionExecutor=t},{"../error":58,"./retry-strategy":73}],77:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.TxConfig=void 0;var s=i(t("./util")),u=t("../error"),a=t("../integer"),t=(c.empty=function(){return l},c.prototype.isEmpty=function(){return Object.values(this).every(function(t){return null==t})},c);function c(t){var e;(e=t)&&s.assertObject(e,"Transaction config"),this.timeout=function(t){if(!s.isObject(t)||!t.timeout&&0!==t.timeout)return null;s.assertNumberOrInteger(t.timeout,"Transaction timeout");t=(0,a.int)(t.timeout);if(t.isZero())throw(0,u.newError)("Transaction timeout should not be zero");if(t.isNegative())throw(0,u.newError)("Transaction timeout should not be negative");return t}(t),this.metadata=function(t){if(s.isObject(t)&&t.metadata){t=t.metadata;if(s.assertObject(t,"config.metadata"),0!==Object.keys(t).length)return t}return null}(t)}var l=new(r.TxConfig=t)({})},{"../error":58,"../integer":61,"./util":79}],78:[function(t,e,r){"use strict";var s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(r,"__esModule",{value:!0}),r.Url=r.formatIPv6Address=r.formatIPv4Address=r.defaultPortForScheme=r.parseDatabaseUrl=void 0;var a=t("./util"),n=7687,o=7474,i=7473,c=function(t,e,r,n,o){this.scheme=t,this.host=e,this.port=r,this.hostAndPort=n,this.query=o};function l(t,e,r){if(!(t=(t||"").trim()))throw new Error("Illegal empty "+e+" in URL query '"+r+"'");return t}function f(t){var e="["===t.charAt(0),r="]"===t.charAt(t.length-1);if(e||r){if(e&&r)return t;throw new Error("Illegal IPv6 address "+t)}return"["+t+"]"}function p(t){return"http"===t?o:"https"===t?i:n}r.Url=c,r.parseDatabaseUrl=function(t){(0,a.assertString)(t,"URL");var e=function(t){function i(t,e){e=t.indexOf(e);return 0<=e?[t.substring(0,e),t[e],t.substring(e+1)]:[t,"",""]}function e(t){var e,r={};(o="@")===(e=0<=(o=(n=t).lastIndexOf(o))?[n.substring(0,o),n[o],n.substring(o+1)]:["","",n])[1]&&(r.userInfo=decodeURIComponent(e[0]),t=e[2]);var n,o,n=u((o="]",n=i(t,n="["),[(o=i(n[2],o))[0],o[2]]),2),o=n[0],n=n[1];return""!==o?(r.host=o,e=i(n,":")):(e=i(t,":"),r.host=e[0]),":"===e[1]&&(r.port=e[2]),r}var r,n={};":"===(r=i(t,":"))[1]&&(n.scheme=decodeURIComponent(r[0]),t=r[2]);"#"===(r=i(t,"#"))[1]&&(n.fragment=decodeURIComponent(r[2]),t=r[0]);"?"===(r=i(t,"?"))[1]&&(n.query=r[2],t=r[0]);t.startsWith("//")?(r=i(t.substr(2),"/"),(n=s(s({},n),e(r[0]))).path=r[1]+r[2]):n.path=t;return n}((i=-1!==(o=(o=t).trim()).indexOf("://")?{schemeMissing:!1,url:o}:{schemeMissing:!0,url:"none://"+o}).url),r=i.schemeMissing?null:function(t){if(t)return t=":"===(t=t.trim()).charAt(t.length-1)?t.substring(0,t.length-1):t;return null}(e.scheme),n=function(t,e){if(t)return t.trim();throw new Error("Unable to extract host from "+e)}(e.host),o=function(t){if(t)return 0<=t.indexOf(":")?f(t):t;throw new Error("Illegal host "+t)}(n),i=function(t,e){t="string"==typeof t?parseInt(t,10):t;return 0===t||t?t:p(e)}(e.port,r),o=o+":"+i,t=function(t,r){var t=t?function(t){(t=(t||"").trim())&&"?"===t.charAt(0)&&(t=t.substring(1,t.length));return t}(t):null,n={};t&&t.split("&").forEach(function(t){var e=t.split("=");if(2!==e.length)throw new Error("Invalid parameters: '"+e+"' in URL '"+r+"'.");t=l(e[0],"key",r),e=l(e[1],"value",r);if(n[t])throw new Error("Duplicated query parameters with key '"+t+"' in URL '"+r+"'");n[t]=e});return n}(e.query||function(t){if("string"!=typeof t)return null;t=u(t.split("?"),2),t[0];return t[1]}(e.resourceName),t);return new c(r,n,i,o,t)},r.formatIPv4Address=function(t,e){return t+":"+e},r.formatIPv6Address=function(t,e){return f(t)+":"+e},r.defaultPortForScheme=p},{"./util":79}],79:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ENCRYPTION_OFF=r.ENCRYPTION_ON=r.validateQueryAndParameters=r.assertValidDate=r.assertNumberOrInteger=r.assertNumber=r.assertString=r.assertObject=r.isString=r.isObject=r.isEmptyObjectOrNull=void 0;var n=t("../integer"),o=t("../json");r.ENCRYPTION_ON="ENCRYPTION_ON";function i(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}function s(t,e){if(!u(t))throw new TypeError(e+" expected to be string but was: "+(0,o.stringify)(t));return t}function u(t){return"[object String]"===Object.prototype.toString.call(t)}r.ENCRYPTION_OFF="ENCRYPTION_OFF",r.isEmptyObjectOrNull=function(t){if(null===t)return!0;if(!i(t))return!1;for(var e in t)if(Object.prototype.hasOwnProperty.bind(t,e))return!1;return!0},r.isObject=i,r.validateQueryAndParameters=function(t,e,r){var n="",e=e||{},r=(null==r?void 0:r.skipAsserts)||!1;return"string"==typeof t?n=t:t instanceof String?n=t.toString():"object"==typeof t&&t.text&&(n=t.text,e=t.parameters||{}),r||(function(t){if(s(t,"Cypher query"),0===t.trim().length)throw new TypeError("Cypher query is expected to be a non-empty string.")}(n),function(t){if(!i(t)){var e=t.constructor?" "+t.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:"+e+" "+t)}}(e)),{validatedQuery:n,params:e}},r.assertObject=function(t,e){if(!i(t))throw new TypeError(e+" expected to be an object but was: "+(0,o.stringify)(t));return t},r.assertString=s,r.assertNumber=function(t,e){if("number"!=typeof t)throw new TypeError(e+" expected to be a number but was: "+(0,o.stringify)(t));return t},r.assertNumberOrInteger=function(t,e){if("number"!=typeof t&&"bigint"!=typeof t&&!(0,n.isInt)(t))throw new TypeError(e+" expected to be either a number or an Integer object but was: "+(0,o.stringify)(t));return t},r.assertValidDate=function(t,e){if("[object Date]"!==Object.prototype.toString.call(t))throw new TypeError(e+" expected to be a standard JavaScript Date but was: "+(0,o.stringify)(t));if(Number.isNaN(t.getTime()))throw new TypeError(e+" expected to be valid JavaScript Date but its time was NaN: "+(0,o.stringify)(t));return t},r.isString=u},{"../integer":61,"../json":80}],80:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stringify=void 0;var n=t("./internal/object-util");r.stringify=function(t){return JSON.stringify(t,function(t,e){return(0,n.isBrokenObject)(e)?{__isBrokenObject__:!0,__reason__:(0,n.getBrokenObjectReason)(e)}:"bigint"==typeof e?e+"n":e})}},{"./internal/object-util":68}],81:[function(t,e,r){"use strict";var n=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},c=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(r,"__esModule",{value:!0});var o=t("./error");i.prototype.forEach=function(t){var e,r;try{for(var n=c(this.entries()),o=n.next();!o.done;o=n.next()){var i=l(o.value,2),s=i[0];t(i[1],s,this)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},i.prototype.map=function(t){var e,r,n=[];try{for(var o=c(this.entries()),i=o.next();!i.done;i=o.next()){var s=l(i.value,2),u=s[0],a=s[1];n.push(t(a,u,this))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return n},i.prototype.entries=function(){var e;return n(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,[this.keys[e],this._fields[e]]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},i.prototype.values=function(){var e;return n(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},i.prototype[Symbol.iterator]=function(){var e;return n(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this.keys.length?[4,this._fields[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})},i.prototype.toObject=function(){var e,t,r={};try{for(var n=c(this.entries()),o=n.next();!o.done;o=n.next()){var i=l(o.value,2),s=i[0],u=i[1];r[s]=u}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return r},i.prototype.get=function(t){var e;if("number"!=typeof t){if(void 0===(e=this._fieldLookup[t]))throw(0,o.newError)("This record has no field with key '"+t+"', available key are: ["+this.keys+"].")}else e=t;if(e>this._fields.length-1||e<0)throw(0,o.newError)("This record has no field with index '"+e+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[e]},i.prototype.has=function(t){return"number"==typeof t?0<=t&&t<this._fields.length:void 0!==this._fieldLookup[t]},t=i;function i(t,e,r){var n;this.keys=t,this.length=t.length,this._fields=e,this._fieldLookup=r||(n={},t.forEach(function(t,e){n[t]=e}),n)}r.default=t},{"./error":58}],82:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e};Object.defineProperty(r,"__esModule",{value:!0}),r.Stats=r.QueryStatistics=r.ProfiledPlan=r.Plan=r.Notification=r.ServerInfo=r.queryType=void 0;var s=i(t("./integer")),t=(u.prototype._buildNotifications=function(t){return t?t.map(function(t){return new h(t)}):[]},u.prototype.hasPlan=function(){return this.plan instanceof a},u.prototype.hasProfile=function(){return this.profile instanceof c},u);function u(t,e,r,n){this.query={text:t,parameters:e},this.queryType=r.type,this.counters=new f(r.stats||{}),this.updateStatistics=this.counters,this.plan=!(!r.plan&&!r.profile)&&new a(r.plan||r.profile),this.profile=!!r.profile&&new c(r.profile),this.notifications=this._buildNotifications(r.notifications),this.server=new b(r.server,n),this.resultConsumedAfter=r.result_consumed_after,this.resultAvailableAfter=r.result_available_after,this.database={name:r.db||null}}var a=function e(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.children=t.children?t.children.map(function(t){return new e(t)}):[]};r.Plan=a;var c=(l.prototype.hasPageCacheStats=function(){return 0<this.pageCacheMisses||0<this.pageCacheHits||0<this.pageCacheHitRatio},l);function l(t){this.operatorType=t.operatorType,this.identifiers=t.identifiers,this.arguments=t.args,this.dbHits=y("dbHits",t),this.rows=y("rows",t),this.pageCacheMisses=y("pageCacheMisses",t),this.pageCacheHits=y("pageCacheHits",t),this.pageCacheHitRatio=y("pageCacheHitRatio",t),this.time=y("time",t),this.children=t.children?t.children.map(function(t){return new l(t)}):[]}r.ProfiledPlan=c,r.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var f=(p.prototype.containsUpdates=function(){var r=this;return void 0!==this._containsUpdates?this._containsUpdates:0<Object.keys(this._stats).reduce(function(t,e){return t+r._stats[e]},0)},p.prototype.updates=function(){return this._stats},p.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:0<this._systemUpdates},p.prototype.systemUpdates=function(){return this._systemUpdates},p);function p(r){var n=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(r).forEach(function(t){var e=t.replace(/(-\w)/g,function(t){return t[1].toUpperCase()});e in n._stats?n._stats[e]=_(r[t]):"systemUpdates"===e?n._systemUpdates=_(r[t]):"containsSystemUpdates"===e?n._containsSystemUpdates=r[t]:"containsUpdates"===e&&(n._containsUpdates=r[t])}),this._stats=Object.freeze(this._stats)}r.QueryStatistics=f;var h=(d._constructPosition=function(t){return t?{offset:_(t.offset),line:_(t.line),column:_(t.column)}:{}},d);function d(t){this.code=t.code,this.title=t.title,this.description=t.description,this.severity=t.severity,this.position=d._constructPosition(t.position)}r.Notification=h;var b=function(t,e){t&&(this.address=t.address,this.version=t.version,this.agent=t.version),this.protocolVersion=e};function _(t){return t instanceof s.default?t.toInt():"bigint"==typeof t?(0,s.int)(t).toInt():t}function y(t,e,r){return void 0===r&&(r=0),t in e?_(e[t]):r}r.ServerInfo=b;r.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},r.default=t},{"./integer":61}],83:[function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});function s(t){console.log("Uncaught error when processing result: "+t)}function u(t){}var i=n(t("./result-summary")),a=t("./internal"),o=a.connectionHolder.EMPTY_CONNECTION_HOLDER,t=(c.prototype.keys=function(){var t=this;return new Promise(function(e,r){t._streamObserverPromise.then(function(t){return t.subscribe({onKeys:function(t){return e(t)},onError:function(t){return r(t)}})}).catch(r)})},c.prototype.summary=function(){var n=this;return new Promise(function(e,r){n._streamObserverPromise.then(function(t){t.cancel(),t.subscribe({onCompleted:function(t){return n._createSummary(t).then(e,r)},onError:function(t){return r(t)}})}).catch(r)})},c.prototype._getOrCreatePromise=function(){var t=this;return this._p||(this._p=new Promise(function(e,r){var n=[];t.subscribe({onNext:function(t){n.push(t)},onCompleted:function(t){e({records:n,summary:t})},onError:function(t){r(t)}})})),this._p},c.prototype.then=function(t,e){return this._getOrCreatePromise().then(t,e)},c.prototype.catch=function(t){return this._getOrCreatePromise().catch(t)},c.prototype.finally=function(t){return this._getOrCreatePromise().finally(t)},c.prototype.subscribe=function(n){var o=this,e=n.onCompleted||u;n.onCompleted=function(t){o._createSummary(t).then(function(t){return e.call(n,t)})};var i=n.onError||s;n.onError=function(r){o._connectionHolder.releaseConnection().then(function(){var t,e;t=r,(e=o._stack)&&(t.stack=t.toString()+"\n"+e),i.call(n,r)})},this._streamObserverPromise.then(function(t){return t.subscribe(n)}).catch(function(t){return n.onError(t)})},c.prototype._cancel=function(){this._streamObserverPromise.then(function(t){return t.cancel()})},c.prototype._createSummary=function(e){var t=a.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),r=t.validatedQuery,n=t.params,o=this._connectionHolder;return o.getConnection().then(function(t){return o.releaseConnection().then(function(){return t?t.protocol().version:void 0})},function(t){}).then(function(t){return new i.default(r,n,e,t)})},c);function c(t,e,r,n){this._stack=function(){var t=new Error("");if(t.stack)return t.stack.replace(/^Error(\n\r)*/,"");return null}(),this._streamObserverPromise=t,this._p=null,this._query=e,this._parameters=r||{},this._connectionHolder=n||o}Symbol.toStringTag,r.default=t},{"./internal":66,"./result-summary":82}],84:[function(t,e,r){"use strict";var o=this&&this.__awaiter||function(t,s,u,a){return new(u=u||Promise)(function(r,e){function n(t){try{i(a.next(t))}catch(t){e(t)}}function o(t){try{i(a.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,o)}i((a=a.apply(t,s||[])).next())})},i=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s=t("./internal/observers"),u=t("./internal/util"),a=t("./error"),c=n(t("./result")),l=n(t("./transaction")),f=t("./internal/connection-holder"),p=t("./internal/constants"),h=t("./internal/transaction-executor"),d=t("./internal/bookmark"),b=t("./internal/tx-config"),t=(_.prototype.run=function(t,e,r){var n=this,e=(0,u.validateQueryAndParameters)(t,e),o=e.validatedQuery,i=e.params,s=r?new b.TxConfig(r):b.TxConfig.empty();return this._run(o,i,function(t){return n._assertSessionIsOpen(),t.protocol().run(o,i,{bookmark:n._lastBookmark,txConfig:s,mode:n._mode,database:n._database,impersonatedUser:n._impersonatedUser,afterComplete:n._onComplete,reactive:n._reactive,fetchSize:n._fetchSize})})},_.prototype._run=function(t,e,r){var n=this._connectionHolderWithMode(this._mode),o=this._open?!this._hasTx&&n.initializeConnection()?n.getConnection().then(function(t){return r(t)}).catch(function(t){return Promise.resolve(new s.FailedObserver({error:t}))}):Promise.resolve(new s.FailedObserver({error:(0,a.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):Promise.resolve(new s.FailedObserver({error:(0,a.newError)("Cannot run query in a closed session.")}));return new c.default(o,t,e,n)},_.prototype._acquireConnection=function(e){return o(this,void 0,void 0,function(){var r,n=this;return i(this,function(t){return r=this._connectionHolderWithMode(this._mode),[2,this._open?!this._hasTx&&r.initializeConnection()?r.getConnection().then(function(t){return e(t)}).then(function(e){return o(n,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,r.releaseConnection()];case 1:return t.sent(),[2,e]}})})}):Promise.reject((0,a.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,a.newError)("Cannot run query in a closed session."))]})})},_.prototype.beginTransaction=function(t){var e=t,t=b.TxConfig.empty();return e&&(t=new b.TxConfig(e)),this._beginTransaction(this._mode,t)},_.prototype._beginTransaction=function(t,e){if(!this._open)throw(0,a.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,a.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");t=_._validateSessionMode(t),t=this._connectionHolderWithMode(t);t.initializeConnection(),this._hasTx=!0;t=new l.default({connectionHolder:t,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmark:this._updateBookmark.bind(this),onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize});return t._begin(this._lastBookmark,e),t},_.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,a.newError)("You cannot run more transactions on a closed session.")},_.prototype._transactionClosed=function(){this._hasTx=!1},_.prototype.lastBookmark=function(){return this._lastBookmark.values()},_.prototype.readTransaction=function(t,e){e=new b.TxConfig(e);return this._runTransaction(p.ACCESS_MODE_READ,e,t)},_.prototype.writeTransaction=function(t,e){e=new b.TxConfig(e);return this._runTransaction(p.ACCESS_MODE_WRITE,e,t)},_.prototype._runTransaction=function(t,e,r){var n=this;return this._transactionExecutor.execute(function(){return n._beginTransaction(t,e)},r)},_.prototype._onDatabaseNameResolved=function(t){this._databaseNameResolved||(this._database=t=t||"",this._readConnectionHolder.setDatabase(t),this._writeConnectionHolder.setDatabase(t),this._databaseNameResolved=!0)},_.prototype._updateBookmark=function(t){t&&!t.isEmpty()&&(this._lastBookmark=t)},_.prototype.close=function(){return o(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this._open?(this._open=!1,this._transactionExecutor.close(),[4,this._readConnectionHolder.close()]):[3,3];case 1:return t.sent(),[4,this._writeConnectionHolder.close()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},_.prototype._connectionHolderWithMode=function(t){if(t===p.ACCESS_MODE_READ)return this._readConnectionHolder;if(t===p.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,a.newError)("Unknown access mode: "+t)},_.prototype._onCompleteCallback=function(t){this._updateBookmark(new d.Bookmark(t.bookmark))},_._validateSessionMode=function(t){t=t||p.ACCESS_MODE_WRITE;if(t!==p.ACCESS_MODE_READ&&t!==p.ACCESS_MODE_WRITE)throw(0,a.newError)("Illegal session mode "+t);return t},_);function _(t){var e=t.mode,r=t.connectionProvider,n=t.bookmark,o=t.database,i=t.config,s=t.reactive,u=t.fetchSize,t=t.impersonatedUser;this._mode=e,this._database=o,this._reactive=s,this._fetchSize=u,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._readConnectionHolder=new f.ConnectionHolder({mode:p.ACCESS_MODE_READ,database:o,bookmark:n,connectionProvider:r,impersonatedUser:t,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._writeConnectionHolder=new f.ConnectionHolder({mode:p.ACCESS_MODE_WRITE,database:o,bookmark:n,connectionProvider:r,impersonatedUser:t,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._open=!0,this._hasTx=!1,this._impersonatedUser=t,this._lastBookmark=n||d.Bookmark.empty(),this._transactionExecutor=function(t){t=t&&t.maxTransactionRetryTime?t.maxTransactionRetryTime:null;return new h.TransactionExecutor(t)}(i),this._onComplete=this._onCompleteCallback.bind(this),this._databaseNameResolved=""!==this._database}r.default=t},{"./error":58,"./internal/bookmark":62,"./internal/connection-holder":63,"./internal/constants":65,"./internal/observers":69,"./internal/transaction-executor":76,"./internal/tx-config":77,"./internal/util":79,"./result":83,"./transaction":87}],85:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPoint=r.Point=void 0;var o=t("./internal/util"),n="__isPoint__",t=(i.prototype.toString=function(){return this.z||0===this.z?"Point{srid="+s(this.srid)+", x="+s(this.x)+", y="+s(this.y)+", z="+s(this.z)+"}":"Point{srid="+s(this.srid)+", x="+s(this.x)+", y="+s(this.y)+"}"},i);function i(t,e,r,n){this.srid=(0,o.assertNumberOrInteger)(t,"SRID"),this.x=(0,o.assertNumber)(e,"X coordinate"),this.y=(0,o.assertNumber)(r,"Y coordinate"),this.z=null==n?n:(0,o.assertNumber)(n,"Z coordinate"),Object.freeze(this)}function s(t){return Number.isInteger(t)?t+".0":t.toString()}r.Point=t,Object.defineProperty(t.prototype,n,{value:!0,enumerable:!1,configurable:!1,writable:!1}),r.isPoint=function(t){return!0===(t&&t[n])}},{"./internal/util":79}],86:[function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){t[n=void 0===n?r:n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},c=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(r,"__esModule",{value:!0}),r.isDateTime=r.DateTime=r.isLocalDateTime=r.LocalDateTime=r.isDate=r.Date=r.isTime=r.Time=r.isLocalTime=r.LocalTime=r.isDuration=r.Duration=void 0;var l=i(t("./internal/temporal-util")),f=t("./internal/util"),p=t("./error"),s=i(t("./integer")),i={value:!0,enumerable:!1,configurable:!1,writable:!1},u="__isDuration__",a="__isLocalTime__",h="__isTime__",d="__isDate__",b="__isLocalDateTime__",_="__isDateTime__",t=(y.prototype.toString=function(){return l.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},y);function y(t,e,r,n){this.months=(0,f.assertNumberOrInteger)(t,"Months"),this.days=(0,f.assertNumberOrInteger)(e,"Days"),(0,f.assertNumberOrInteger)(r,"Seconds"),(0,f.assertNumberOrInteger)(n,"Nanoseconds"),this.seconds=l.normalizeSecondsForDuration(r,n),this.nanoseconds=l.normalizeNanosecondsForDuration(n),Object.freeze(this)}r.Duration=t,Object.defineProperty(t.prototype,u,i),r.isDuration=function(t){return S(t,u)};v.fromStandardDate=function(t,e){P(t,e);e=l.totalNanoseconds(t,e);return new v(t.getHours(),t.getMinutes(),t.getSeconds(),e instanceof s.default?e.toInt():"bigint"==typeof e?(0,s.int)(e).toInt():e)},v.prototype.toString=function(){return l.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},t=v;function v(t,e,r,n){this.hour=l.assertValidHour(t),this.minute=l.assertValidMinute(e),this.second=l.assertValidSecond(r),this.nanosecond=l.assertValidNanosecond(n),Object.freeze(this)}r.LocalTime=t,Object.defineProperty(t.prototype,a,i),r.isLocalTime=function(t){return S(t,a)};m.fromStandardDate=function(t,e){return P(t,e),new m(t.getHours(),t.getMinutes(),t.getSeconds(),(0,s.toNumber)(l.totalNanoseconds(t,e)),l.timeZoneOffsetInSeconds(t))},m.prototype.toString=function(){return l.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+l.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},t=m;function m(t,e,r,n,o){this.hour=l.assertValidHour(t),this.minute=l.assertValidMinute(e),this.second=l.assertValidSecond(r),this.nanosecond=l.assertValidNanosecond(n),this.timeZoneOffsetSeconds=(0,f.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}r.Time=t,Object.defineProperty(t.prototype,h,i),r.isTime=function(t){return S(t,h)};g.fromStandardDate=function(t){return P(t),new g(t.getFullYear(),t.getMonth()+1,t.getDate())},g.prototype.toString=function(){return l.dateToIsoString(this.year,this.month,this.day)},t=g;function g(t,e,r){this.year=l.assertValidYear(t),this.month=l.assertValidMonth(e),this.day=l.assertValidDay(r),Object.freeze(this)}r.Date=t,Object.defineProperty(t.prototype,d,i),r.isDate=function(t){return S(t,d)};O.fromStandardDate=function(t,e){return P(t,e),new O(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,s.toNumber)(l.totalNanoseconds(t,e)))},O.prototype.toString=function(){return E(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},t=O;function O(t,e,r,n,o,i,s){this.year=l.assertValidYear(t),this.month=l.assertValidMonth(e),this.day=l.assertValidDay(r),this.hour=l.assertValidHour(n),this.minute=l.assertValidMinute(o),this.second=l.assertValidSecond(i),this.nanosecond=l.assertValidNanosecond(s),Object.freeze(this)}r.LocalDateTime=t,Object.defineProperty(t.prototype,b,i),r.isLocalDateTime=function(t){return S(t,b)};w.fromStandardDate=function(t,e){return P(t,e),new w(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),(0,s.toNumber)(l.totalNanoseconds(t,e)),l.timeZoneOffsetInSeconds(t),null)},w.prototype.toString=function(){return E(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneId?"["+this.timeZoneId+"]":l.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds||0))},t=w;function w(t,e,r,n,o,i,s,u,a){this.year=l.assertValidYear(t),this.month=l.assertValidMonth(e),this.day=l.assertValidDay(r),this.hour=l.assertValidHour(n),this.minute=l.assertValidMinute(o),this.second=l.assertValidSecond(i),this.nanosecond=l.assertValidNanosecond(s);u=c(function(t,e){var r=t||0===t,n=e&&""!==e;if(!r&&!n)throw(0,p.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: "+t+" and id: "+e);var o=[void 0,void 0];r&&((0,f.assertNumberOrInteger)(t,"Time zone offset in seconds"),o[0]=t);n&&((0,f.assertString)(e,"Time zone ID"),l.assertValidZoneId("Time zone ID",e),o[1]=e);return o}(u,a),2),a=u[0],u=u[1];this.timeZoneOffsetSeconds=a,this.timeZoneId=u||void 0,Object.freeze(this)}function S(t,e){return!0===(t&&t[e])}function E(t,e,r,n,o,i,s){return l.dateToIsoString(t,e,r)+"T"+l.timeToIsoString(n,o,i,s)}function P(t,e){(0,f.assertValidDate)(t,"Standard date"),null!=e&&(0,f.assertNumberOrInteger)(e,"Nanosecond")}r.DateTime=t,Object.defineProperty(t.prototype,_,i),r.isDateTime=function(t){return S(t,_)}},{"./error":58,"./integer":61,"./internal/temporal-util":75,"./internal/util":79}],87:[function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,s,u,a){return new(u=u||Promise)(function(r,e){function n(t){try{i(a.next(t))}catch(t){e(t)}}function o(t){try{i(a.throw(t))}catch(t){e(t)}}function i(t){var e;t.done?r(t.value):((e=t.value)instanceof u?e:new u(function(t){t(e)})).then(n,o)}i((a=a.apply(t,s||[])).next())})},o=this&&this.__generator||function(r,n){var o,i,s,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&e[0]?i.return:e[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,e[1])).done)return s;switch(i=0,(e=s?[2&e[0],s.value]:e)[0]){case 0:case 1:s=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(s=0<(s=u.trys).length&&s[s.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){u.label=e[1];break}if(6===e[0]&&u.label<s[1]){u.label=s[1],s=e;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(e);break}s[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(r,u)}catch(t){e=[6,t],i=0}finally{o=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s=t("./internal/util"),u=t("./internal/connection-holder"),c=t("./internal/bookmark"),l=t("./internal/tx-config"),f=t("./internal/observers"),p=t("./error"),a=i(t("./result")),t=(h.prototype._begin=function(e,r){var n=this;this._connectionHolder.getConnection().then(function(t){if(n._onConnection(),t)return t.protocol().beginTransaction({bookmark:e,txConfig:r,mode:n._connectionHolder.mode(),database:n._connectionHolder.database(),impersonatedUser:n._impersonatedUser,beforeError:n._onError,afterComplete:n._onComplete});throw(0,p.newError)("No connection available")}).catch(function(t){return n._onError(t)})},h.prototype.run=function(t,e){t=(0,s.validateQueryAndParameters)(t,e),e=t.validatedQuery,t=t.params,t=this._state.run(e,t,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize});return this._results.push(t),t},h.prototype.commit=function(){var r=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=r.state,this._onClose(),new Promise(function(t,e){r.result.subscribe({onCompleted:function(){return t()},onError:function(t){return e(t)}})})},h.prototype.rollback=function(){var r=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=r.state,this._onClose(),new Promise(function(t,e){r.result.subscribe({onCompleted:function(){return t()},onError:function(t){return e(t)}})})},h.prototype.isOpen=function(){return this._state===d.ACTIVE},h.prototype.close=function(){return n(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},h.prototype._onErrorCallback=function(t){return this._state=d.FAILED,this._onClose(),this._connectionHolder.releaseConnection()},h.prototype._onCompleteCallback=function(t){this._onBookmark(new c.Bookmark(t.bookmark))},h);function h(t){var e=t.connectionHolder,r=t.onClose,n=t.onBookmark,o=t.onConnection,i=t.reactive,s=t.fetchSize,t=t.impersonatedUser;this._connectionHolder=e,this._reactive=i,this._state=d.ACTIVE,this._onClose=r,this._onBookmark=n,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._onComplete=this._onCompleteCallback.bind(this),this._fetchSize=s,this._results=[],this._impersonatedUser=t}var d={ACTIVE:{commit:function(t){return{result:b(!0,t.connectionHolder,t.onError,t.onComplete,t.onConnection,t.pendingResults),state:d.SUCCEEDED}},rollback:function(t){return{result:b(!1,t.connectionHolder,t.onError,t.onComplete,t.onConnection,t.pendingResults),state:d.ROLLED_BACK}},run:function(e,r,t){var n=t.connectionHolder,o=t.onError,i=t.onComplete,s=t.onConnection,u=t.reactive,a=t.fetchSize;return _(n.getConnection().then(function(t){if(s(),t)return t.protocol().run(e,r,{bookmark:c.Bookmark.empty(),txConfig:l.TxConfig.empty(),beforeError:o,afterComplete:i,reactive:u,fetchSize:a});throw(0,p.newError)("No connection available")}).catch(function(t){return new f.FailedObserver({error:t,onError:o})}),e,r,n)}},FAILED:{commit:function(t){var e=t.connectionHolder,r=t.onError;t.onComplete;return{result:_(new f.FailedObserver({error:(0,p.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:r}),"COMMIT",{},e),state:d.FAILED}},rollback:function(t){var e=t.connectionHolder;t.onError,t.onComplete;return{result:_(new f.CompletedObserver,"ROLLBACK",{},e),state:d.FAILED}},run:function(t,e,r){var n=r.connectionHolder,o=r.onError;r.onComplete;return _(new f.FailedObserver({error:(0,p.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),t,e,n)}},SUCCEEDED:{commit:function(t){var e=t.connectionHolder,r=t.onError;t.onComplete;return{result:_(new f.FailedObserver({error:(0,p.newError)("Cannot commit this transaction, because it has already been committed."),onError:r}),"COMMIT",{}),state:d.SUCCEEDED,connectionHolder:e}},rollback:function(t){var e=t.connectionHolder,r=t.onError;t.onComplete;return{result:_(new f.FailedObserver({error:(0,p.newError)("Cannot rollback this transaction, because it has already been committed."),onError:r}),"ROLLBACK",{}),state:d.SUCCEEDED,connectionHolder:e}},run:function(t,e,r){var n=r.connectionHolder,o=r.onError;r.onComplete;return _(new f.FailedObserver({error:(0,p.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),t,e,n)}},ROLLED_BACK:{commit:function(t){var e=t.connectionHolder,r=t.onError;t.onComplete;return{result:_(new f.FailedObserver({error:(0,p.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:r}),"COMMIT",{},e),state:d.ROLLED_BACK}},rollback:function(t){var e=t.connectionHolder;t.onError,t.onComplete;return{result:_(new f.FailedObserver({error:(0,p.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},e),state:d.ROLLED_BACK}},run:function(t,e,r){var n=r.connectionHolder,o=r.onError;r.onComplete;return _(new f.FailedObserver({error:(0,p.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),t,e,n)}}};function b(r,t,n,o,i,s){var e=t.getConnection().then(function(e){return i(),s.forEach(function(t){return t._cancel()}),Promise.all(s).then(function(t){if(e)return r?e.protocol().commitTransaction({beforeError:n,afterComplete:o}):e.protocol().rollbackTransaction({beforeError:n,afterComplete:o});throw(0,p.newError)("No connection available")})}).catch(function(t){return new f.FailedObserver({error:t,onError:n})});return new a.default(e,r?"COMMIT":"ROLLBACK",{},t)}function _(t,e,r,n){return void 0===n&&(n=u.EMPTY_CONNECTION_HOLDER),new a.default(Promise.resolve(t),e,r,new u.ReadOnlyConnectionHolder(n||u.EMPTY_CONNECTION_HOLDER))}r.default=t},{"./error":58,"./internal/bookmark":62,"./internal/connection-holder":63,"./internal/observers":69,"./internal/tx-config":77,"./internal/util":79,"./result":83}],88:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},{}],89:[function(t,e,r){e.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},e.exports.default=e.exports,e.exports.__esModule=!0},{}],90:[function(t,e,r){e.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},{}],91:[function(t,e,r){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}e.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t},e.exports.default=e.exports,e.exports.__esModule=!0},{}],92:[function(t,e,r){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},{}],93:[function(t,e,r){var n=t("./setPrototypeOf.js");e.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0},{"./setPrototypeOf.js":96}],94:[function(t,e,r){e.exports=function(t){return t&&t.__esModule?t:{default:t}},e.exports.default=e.exports,e.exports.__esModule=!0},{}],95:[function(t,e,r){var n=t("@babel/runtime/helpers/typeof").default,o=t("./assertThisInitialized.js");e.exports=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?o(t):e},e.exports.default=e.exports,e.exports.__esModule=!0},{"./assertThisInitialized.js":89,"@babel/runtime/helpers/typeof":97}],96:[function(t,r,e){function n(t,e){return r.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r.exports.default=r.exports,r.exports.__esModule=!0,n(t,e)}r.exports=n,r.exports.default=r.exports,r.exports.__esModule=!0},{}],97:[function(t,e,r){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(t){return typeof t}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},{}],98:[function(t,e,r){"use strict";r.byteLength=function(t){var e=l(t),t=e[0],e=e[1];return 3*(t+e)/4-e},r.toByteArray=function(t){var e,r,n=l(t),o=n[0],n=n[1],i=new c(function(t,e){return 3*(t+e)/4-e}(o,n)),s=0,u=0<n?o-4:o;for(r=0;r<u;r+=4)e=a[t.charCodeAt(r)]<<18|a[t.charCodeAt(r+1)]<<12|a[t.charCodeAt(r+2)]<<6|a[t.charCodeAt(r+3)],i[s++]=e>>16&255,i[s++]=e>>8&255,i[s++]=255&e;2===n&&(e=a[t.charCodeAt(r)]<<2|a[t.charCodeAt(r+1)]>>4,i[s++]=255&e);1===n&&(e=a[t.charCodeAt(r)]<<10|a[t.charCodeAt(r+1)]<<4|a[t.charCodeAt(r+2)]>>2,i[s++]=e>>8&255,i[s++]=255&e);return i},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,o=[],i=0,s=r-n;i<s;i+=16383)o.push(function(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(function(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}(n));return o.join("")}(t,i,s<i+16383?s:i+16383));1==n?(e=t[r-1],o.push(u[e>>2]+u[e<<4&63]+"==")):2==n&&(e=(t[r-2]<<8)+t[r-1],o.push(u[e>>10]+u[e>>4&63]+u[e<<2&63]+"="));return o.join("")};for(var u=[],a=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=n.length;o<i;++o)u[o]=n[o],a[n.charCodeAt(o)]=o;function l(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("=");return[t=-1===t?e:t,t===e?0:4-t%4]}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],99:[function(A,t,R){!function(t){!function(){"use strict";var u=A("base64-js"),i=A("ieee754");R.Buffer=f,R.SlowBuffer=function(t){+t!=t&&(t=0);return f.alloc(+t)},R.INSPECT_MAX_BYTES=50;var e=2147483647;function o(t){if(e<t)throw new RangeError('The value "'+t+'" is invalid for option "size"');t=new Uint8Array(t);return t.__proto__=f.prototype,t}function f(t,e,r){if("number"!=typeof t)return n(t,e,r);if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return a(t)}function n(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!f.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=0|p(t,e),n=o(r),e=n.write(t,e);e!==r&&(n=n.slice(0,e));return n}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(x(t,ArrayBuffer)||t&&x(t.buffer,ArrayBuffer))return function(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');r=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return r.__proto__=f.prototype,r}(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return f.from(n,e,r);n=function(t){if(f.isBuffer(t)){var e=0|l(t.length),r=o(e);return 0===r.length?r:(t.copy(r,0,0,e),r)}if(void 0!==t.length)return"number"!=typeof t.length||I(t.length)?o(0):c(t);if("Buffer"===t.type&&Array.isArray(t.data))return c(t.data)}(t);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return f.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function a(t){return s(t),o(t<0?0:0|l(t))}function c(t){for(var e=t.length<0?0:0|l(t.length),r=o(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function l(t){if(e<=t)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e.toString(16)+" bytes");return 0|t}function p(t,e){if(f.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||x(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(t).length;default:if(o)return n?-1:j(t).length;e=(""+e).toLowerCase(),o=!0}}function r(t,e,r){var n,o,i,s=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return function(t,e,r){var n=t.length;(!e||e<0)&&(e=0);(!r||r<0||n<r)&&(r=n);for(var o="",i=e;i<r;++i)o+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(t[i]);return o}(this,e,r);case"utf8":case"utf-8":return v(this,e,r);case"ascii":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}(this,e,r);case"latin1":case"binary":return function(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}(this,e,r);case"base64":return n=this,i=r,0===(o=e)&&i===n.length?u.fromByteArray(n):u.fromByteArray(n.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}(this,e,r);default:if(s)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),s=!0}}function h(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function d(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=I(r=+r)?o?0:t.length-1:r)<0?t.length+r:r)>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=f.from(e,n)),f.isBuffer(e))return 0===e.length?-1:b(t,e,r,n,o);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,r):b(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,r,n,o){var i=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s/=i=2,u/=2,r/=2}function a(t,e){return 1===i?t[e]:t.readUInt16BE(e*i)}if(o)for(var c=-1,l=r;l<s;l++)if(a(t,l)===a(e,-1===c?0:l-c)){if(l-(c=-1===c?l:c)+1===u)return c*i}else-1!==c&&(l-=l-c),c=-1;else for(l=r=s<r+u?s-u:r;0<=l;l--){for(var f=!0,p=0;p<u;p++)if(a(t,l+p)!==a(e,p)){f=!1;break}if(f)return l}return-1}function _(t,e,r,n){return C(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function y(t,e,r,n){return C(function(t,e){for(var r,n,o=[],i=0;i<t.length&&!((e-=2)<0);++i)n=t.charCodeAt(i),r=n>>8,n=n%256,o.push(n),o.push(r);return o}(e,t.length-r),t,r,n)}function v(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,s,u,a,c=t[o],l=null,f=239<c?4:223<c?3:191<c?2:1;if(o+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(i=t[o+1]))&&127<(a=(31&c)<<6|63&i)&&(l=a);break;case 3:i=t[o+1],s=t[o+2],128==(192&i)&&128==(192&s)&&2047<(a=(15&c)<<12|(63&i)<<6|63&s)&&(a<55296||57343<a)&&(l=a);break;case 4:i=t[o+1],s=t[o+2],u=t[o+3],128==(192&i)&&128==(192&s)&&128==(192&u)&&65535<(a=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&u)&&a<1114112&&(l=a)}null===l?(l=65533,f=1):65535<l&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),o+=f}return function(t){var e=t.length;if(e<=m)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=m));return r}(n)}R.kMaxLength=e,(f.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),f.poolSize=8192,f.from=n,f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,f.alloc=function(t,e,r){return e=e,r=r,s(t=t),!(t<=0)&&void 0!==e?"string"==typeof r?o(t).fill(e,r):o(t).fill(e):o(t)},f.allocUnsafe=a,f.allocUnsafeSlow=a,f.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==f.prototype},f.compare=function(t,e){if(x(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),x(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(t)||!f.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},f.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return f.alloc(0);if(void 0===e)for(o=e=0;o<t.length;++o)e+=t[o].length;for(var r=f.allocUnsafe(e),n=0,o=0;o<t.length;++o){var i=t[o];if(x(i,Uint8Array)&&(i=f.from(i)),!f.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,n),n+=i.length}return r},f.byteLength=p,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)h(this,e,e+1);return this},f.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)h(this,e,e+3),h(this,e+1,e+2);return this},f.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)h(this,e,e+7),h(this,e+1,e+6),h(this,e+2,e+5),h(this,e+3,e+4);return this},f.prototype.toLocaleString=f.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?v(this,0,t):r.apply(this,arguments)},f.prototype.equals=function(t){if(!f.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===f.compare(this,t)},f.prototype.inspect=function(){var t="",e=R.INSPECT_MAX_BYTES,t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim();return this.length>e&&(t+=" ... "),"<Buffer "+t+">"},f.prototype.compare=function(t,e,r,n,o){if(x(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),(e=void 0===e?0:e)<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=e)return 0;if(o<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(e>>>=0),u=Math.min(i,s),a=this.slice(n,o),c=t.slice(e,r),l=0;l<u;++l)if(a[l]!==c[l]){i=a[l],s=c[l];break}return i<s?-1:s<i?1:0},f.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},f.prototype.indexOf=function(t,e,r){return d(this,t,e,r,!0)},f.prototype.lastIndexOf=function(t,e,r){return d(this,t,e,r,!1)},f.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||o<r)&&(r=o),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var i,s,u,a=!1;;)switch(n){case"hex":return function(t,e,r,n){r=Number(r)||0;var o=t.length-r;(!n||o<(n=Number(n)))&&(n=o),(o=e.length)/2<n&&(n=o/2);for(var i=0;i<n;++i){var s=parseInt(e.substr(2*i,2),16);if(I(s))return i;t[r+i]=s}return i}(this,t,e,r);case"utf8":case"utf-8":return s=e,u=r,C(j(t,(i=this).length-s),i,s,u);case"ascii":return _(this,t,e,r);case"latin1":case"binary":return _(this,t,e,r);case"base64":return i=this,s=e,u=r,C(T(t),i,s,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var m=4096;function g(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function O(t,e,r,n,o,i){if(!f.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<e||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function w(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function S(t,e,r,n,o){return e=+e,r>>>=0,o||w(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function E(t,e,r,n,o){return e=+e,r>>>=0,o||w(t,0,r,8),i.write(t,e,r,n,52,8),r+8}f.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r);e=this.subarray(t,e=e<t?t:e);return e.__proto__=f.prototype,e},f.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||g(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},f.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||g(t,e,this.length);for(var n=this[t+--e],o=1;0<e&&(o*=256);)n+=this[t+--e]*o;return n},f.prototype.readUInt8=function(t,e){return t>>>=0,e||g(t,1,this.length),this[t]},f.prototype.readUInt16LE=function(t,e){return t>>>=0,e||g(t,2,this.length),this[t]|this[t+1]<<8},f.prototype.readUInt16BE=function(t,e){return t>>>=0,e||g(t,2,this.length),this[t]<<8|this[t+1]},f.prototype.readUInt32LE=function(t,e){return t>>>=0,e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},f.prototype.readUInt32BE=function(t,e){return t>>>=0,e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},f.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||g(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return(o*=128)<=n&&(n-=Math.pow(2,8*e)),n},f.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||g(t,e,this.length);for(var n=e,o=1,i=this[t+--n];0<n&&(o*=256);)i+=this[t+--n]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*e)),i},f.prototype.readInt8=function(t,e){return t>>>=0,e||g(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},f.prototype.readInt16LE=function(t,e){t>>>=0,e||g(t,2,this.length);t=this[t]|this[t+1]<<8;return 32768&t?4294901760|t:t},f.prototype.readInt16BE=function(t,e){t>>>=0,e||g(t,2,this.length);t=this[t+1]|this[t]<<8;return 32768&t?4294901760|t:t},f.prototype.readInt32LE=function(t,e){return t>>>=0,e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},f.prototype.readInt32BE=function(t,e){return t>>>=0,e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},f.prototype.readFloatLE=function(t,e){return t>>>=0,e||g(t,4,this.length),i.read(this,t,!0,23,4)},f.prototype.readFloatBE=function(t,e){return t>>>=0,e||g(t,4,this.length),i.read(this,t,!1,23,4)},f.prototype.readDoubleLE=function(t,e){return t>>>=0,e||g(t,8,this.length),i.read(this,t,!0,52,8)},f.prototype.readDoubleBE=function(t,e){return t>>>=0,e||g(t,8,this.length),i.read(this,t,!1,52,8)},f.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},f.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||O(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;0<=--o&&(i*=256);)this[e+o]=t/i&255;return e+r},f.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,255,0),this[e]=255&t,e+1},f.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},f.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeIntLE=function(t,e,r,n){t=+t,e>>>=0,n||O(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var o=0,i=1,s=0;for(this[e]=255&t;++o<r&&(i*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},f.prototype.writeIntBE=function(t,e,r,n){t=+t,e>>>=0,n||O(this,t,e,r,(n=Math.pow(2,8*r-1))-1,-n);var o=r-1,i=1,s=0;for(this[e+o]=255&t;0<=--o&&(i*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/i>>0)-s&255;return e+r},f.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,1,127,-128),this[e]=255&(t=t<0?255+t+1:t),e+1},f.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},f.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},f.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},f.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||O(this,t,e,4,2147483647,-2147483648),this[e]=(t=t<0?4294967295+t+1:t)>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},f.prototype.writeFloatLE=function(t,e,r){return S(this,t,e,!0,r)},f.prototype.writeFloatBE=function(t,e,r){return S(this,t,e,!1,r)},f.prototype.writeDoubleLE=function(t,e,r){return E(this,t,e,!0,r)},f.prototype.writeDoubleBE=function(t,e,r){return E(this,t,e,!1,r)},f.prototype.copy=function(t,e,r,n){if(!f.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var o=(n=t.length-e<n-r?t.length-e+r:n)-r;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var i=o-1;0<=i;--i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return o},f.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!f.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o;1===t.length&&(o=t.charCodeAt(0),("utf8"===n&&o<128||"latin1"===n)&&(t=o))}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(i=e;i<r;++i)this[i]=t;else{var s=f.isBuffer(t)?t:f.from(t,n),u=s.length;if(0===u)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%u]}return this};var P=/[^+/0-9A-Za-z-_]/g;function j(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],s=0;s<n;++s){if(55295<(r=t.charCodeAt(s))&&r<57344){if(!o){if(56319<r){-1<(e-=3)&&i.push(239,191,189);continue}if(s+1===n){-1<(e-=3)&&i.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(e-=3)&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(e-=3)&&i.push(239,191,189);if(o=null,r<128){if(--e<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function T(t){return u.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function C(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function x(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function I(t){return t!=t}}.call(this)}.call(this,A("buffer").Buffer)},{"base64-js":98,buffer:99,ieee754:100}],100:[function(t,e,r){r.read=function(t,e,r,n,o){var i,s,u=8*o-n-1,a=(1<<u)-1,c=a>>1,l=-7,f=r?o-1:0,p=r?-1:1,r=t[e+f];for(f+=p,i=r&(1<<-l)-1,r>>=-l,l+=u;0<l;i=256*i+t[e+f],f+=p,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=n;0<l;s=256*s+t[e+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===a)return s?NaN:1/0*(r?-1:1);s+=Math.pow(2,n),i-=c}return(r?-1:1)*s*Math.pow(2,i-n)},r.write=function(t,e,r,n,o,i){var s,u,a=8*i-o-1,c=(1<<a)-1,l=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,i=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(n=Math.pow(2,-s))<1&&(s--,n*=2),2<=(e+=1<=s+l?f/n:f*Math.pow(2,1-l))*n&&(s++,n/=2),c<=s+l?(u=0,s=c):1<=s+l?(u=(e*n-1)*Math.pow(2,o),s+=l):(u=e*Math.pow(2,l-1)*Math.pow(2,o),s=0));8<=o;t[r+p]=255&u,p+=h,u/=256,o-=8);for(s=s<<o|u,a+=o;0<a;t[r+p]=255&s,p+=h,s/=256,a-=8);t[r+p-h]|=128*i}},{}],101:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./internal/Observable");r.Observable=n.Observable;n=t("./internal/observable/ConnectableObservable");r.ConnectableObservable=n.ConnectableObservable;n=t("./internal/operators/groupBy");r.GroupedObservable=n.GroupedObservable;n=t("./internal/symbol/observable");r.observable=n.observable;n=t("./internal/Subject");r.Subject=n.Subject;n=t("./internal/BehaviorSubject");r.BehaviorSubject=n.BehaviorSubject;n=t("./internal/ReplaySubject");r.ReplaySubject=n.ReplaySubject;n=t("./internal/AsyncSubject");r.AsyncSubject=n.AsyncSubject;n=t("./internal/scheduler/asap");r.asap=n.asap,r.asapScheduler=n.asapScheduler;n=t("./internal/scheduler/async");r.async=n.async,r.asyncScheduler=n.asyncScheduler;n=t("./internal/scheduler/queue");r.queue=n.queue,r.queueScheduler=n.queueScheduler;n=t("./internal/scheduler/animationFrame");r.animationFrame=n.animationFrame,r.animationFrameScheduler=n.animationFrameScheduler;n=t("./internal/scheduler/VirtualTimeScheduler");r.VirtualTimeScheduler=n.VirtualTimeScheduler,r.VirtualAction=n.VirtualAction;n=t("./internal/Scheduler");r.Scheduler=n.Scheduler;n=t("./internal/Subscription");r.Subscription=n.Subscription;n=t("./internal/Subscriber");r.Subscriber=n.Subscriber;n=t("./internal/Notification");r.Notification=n.Notification,r.NotificationKind=n.NotificationKind;n=t("./internal/util/pipe");r.pipe=n.pipe;n=t("./internal/util/noop");r.noop=n.noop;n=t("./internal/util/identity");r.identity=n.identity;n=t("./internal/util/isObservable");r.isObservable=n.isObservable;n=t("./internal/util/ArgumentOutOfRangeError");r.ArgumentOutOfRangeError=n.ArgumentOutOfRangeError;n=t("./internal/util/EmptyError");r.EmptyError=n.EmptyError;n=t("./internal/util/ObjectUnsubscribedError");r.ObjectUnsubscribedError=n.ObjectUnsubscribedError;n=t("./internal/util/UnsubscriptionError");r.UnsubscriptionError=n.UnsubscriptionError;n=t("./internal/util/TimeoutError");r.TimeoutError=n.TimeoutError;n=t("./internal/observable/bindCallback");r.bindCallback=n.bindCallback;n=t("./internal/observable/bindNodeCallback");r.bindNodeCallback=n.bindNodeCallback;n=t("./internal/observable/combineLatest");r.combineLatest=n.combineLatest;n=t("./internal/observable/concat");r.concat=n.concat;n=t("./internal/observable/defer");r.defer=n.defer;n=t("./internal/observable/empty");r.empty=n.empty;n=t("./internal/observable/forkJoin");r.forkJoin=n.forkJoin;n=t("./internal/observable/from");r.from=n.from;n=t("./internal/observable/fromEvent");r.fromEvent=n.fromEvent;n=t("./internal/observable/fromEventPattern");r.fromEventPattern=n.fromEventPattern;n=t("./internal/observable/generate");r.generate=n.generate;n=t("./internal/observable/iif");r.iif=n.iif;n=t("./internal/observable/interval");r.interval=n.interval;n=t("./internal/observable/merge");r.merge=n.merge;n=t("./internal/observable/never");r.never=n.never;n=t("./internal/observable/of");r.of=n.of;n=t("./internal/observable/onErrorResumeNext");r.onErrorResumeNext=n.onErrorResumeNext;n=t("./internal/observable/pairs");r.pairs=n.pairs;n=t("./internal/observable/partition");r.partition=n.partition;n=t("./internal/observable/race");r.race=n.race;n=t("./internal/observable/range");r.range=n.range;n=t("./internal/observable/throwError");r.throwError=n.throwError;n=t("./internal/observable/timer");r.timer=n.timer;n=t("./internal/observable/using");r.using=n.using;n=t("./internal/observable/zip");r.zip=n.zip;n=t("./internal/scheduled/scheduled");r.scheduled=n.scheduled;n=t("./internal/observable/empty");r.EMPTY=n.EMPTY;n=t("./internal/observable/never");r.NEVER=n.NEVER;t=t("./internal/config");r.config=t.config},{"./internal/AsyncSubject":102,"./internal/BehaviorSubject":103,"./internal/Notification":105,"./internal/Observable":106,"./internal/ReplaySubject":109,"./internal/Scheduler":110,"./internal/Subject":111,"./internal/Subscriber":113,"./internal/Subscription":114,"./internal/config":115,"./internal/observable/ConnectableObservable":117,"./internal/observable/bindCallback":119,"./internal/observable/bindNodeCallback":120,"./internal/observable/combineLatest":121,"./internal/observable/concat":122,"./internal/observable/defer":123,"./internal/observable/empty":124,"./internal/observable/forkJoin":125,"./internal/observable/from":126,"./internal/observable/fromEvent":128,"./internal/observable/fromEventPattern":129,"./internal/observable/generate":130,"./internal/observable/iif":131,"./internal/observable/interval":132,"./internal/observable/merge":133,"./internal/observable/never":134,"./internal/observable/of":135,"./internal/observable/onErrorResumeNext":136,"./internal/observable/pairs":137,"./internal/observable/partition":138,"./internal/observable/race":139,"./internal/observable/range":140,"./internal/observable/throwError":141,"./internal/observable/timer":142,"./internal/observable/using":143,"./internal/observable/zip":144,"./internal/operators/groupBy":180,"./internal/scheduled/scheduled":252,"./internal/scheduler/VirtualTimeScheduler":262,"./internal/scheduler/animationFrame":263,"./internal/scheduler/asap":264,"./internal/scheduler/async":265,"./internal/scheduler/queue":266,"./internal/symbol/observable":268,"./internal/util/ArgumentOutOfRangeError":270,"./internal/util/EmptyError":271,"./internal/util/ObjectUnsubscribedError":273,"./internal/util/TimeoutError":274,"./internal/util/UnsubscriptionError":275,"./internal/util/identity":278,"./internal/util/isObservable":287,"./internal/util/noop":290,"./internal/util/pipe":292}],102:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./Subject"),u=t("./Subscription"),o=(i=s.Subject,o(a,i),a.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),u.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),u.Subscription.EMPTY):i.prototype._subscribe.call(this,t)},a.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},a.prototype.error=function(t){this.hasCompleted||i.prototype.error.call(this,t)},a.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&i.prototype.next.call(this,this.value),i.prototype.complete.call(this)},a);function a(){var t=null!==i&&i.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}r.AsyncSubject=o},{"./Subject":111,"./Subscription":114}],103:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./Subject"),u=t("./util/ObjectUnsubscribedError"),o=(i=s.Subject,o(a,i),Object.defineProperty(a.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),a.prototype._subscribe=function(t){var e=i.prototype._subscribe.call(this,t);return e&&!e.closed&&t.next(this._value),e},a.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.ObjectUnsubscribedError;return this._value},a.prototype.next=function(t){i.prototype.next.call(this,this._value=t)},a);function a(t){var e=i.call(this)||this;return e._value=t,e}r.BehaviorSubject=o},{"./Subject":111,"./util/ObjectUnsubscribedError":273}],104:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./Subscriber"),o=(i=t.Subscriber,o(s,i),s.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},s.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},s.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},s);function s(t,e,r){var n=i.call(this)||this;return n.parent=t,n.outerValue=e,n.outerIndex=r,n.index=0,n}r.InnerSubscriber=o},{"./Subscriber":113}],105:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./observable/empty"),o=t("./observable/of"),i=t("./observable/throwError");(t=r.NotificationKind||(r.NotificationKind={})).NEXT="N",t.ERROR="E",t.COMPLETE="C";s.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},s.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},s.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},s.prototype.toObservable=function(){switch(this.kind){case"N":return o.of(this.value);case"E":return i.throwError(this.error);case"C":return n.empty()}throw new Error("unexpected notification kind value")},s.createNext=function(t){return void 0!==t?new s("N",t):s.undefinedValueNotification},s.createError=function(t){return new s("E",void 0,t)},s.createComplete=function(){return s.completeNotification},s.completeNotification=new s("C"),s.undefinedValueNotification=new s("N",void 0),t=s;function s(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}r.Notification=t},{"./observable/empty":124,"./observable/of":135,"./observable/throwError":141}],106:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./util/canReportError"),o=t("./util/toSubscriber"),i=t("./symbol/observable"),s=t("./util/pipe"),u=t("./config"),i=(a.prototype.lift=function(t){var e=new a;return e.source=this,e.operator=t,e},a.prototype.subscribe=function(t,e,r){var n=this.operator,r=o.toSubscriber(t,e,r);if(n?r.add(n.call(r,this.source)):r.add(this.source||u.config.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),u.config.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},a.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){u.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),n.canReportError(e)?e.error(t):console.warn(t)}},a.prototype.forEach=function(n,t){var o=this;return new(t=c(t))(function(t,e){var r=o.subscribe(function(t){try{n(t)}catch(t){e(t),r&&r.unsubscribe()}},e,t)})},a.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},a.prototype[i.observable]=function(){return this},a.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},a.prototype.toPromise=function(t){var n=this;return new(t=c(t))(function(t,e){var r;n.subscribe(function(t){return r=t},function(t){return e(t)},function(){return t(r)})})},a.create=function(t){return new a(t)},a);function a(t){this._isScalar=!1,t&&(this._subscribe=t)}function c(t){if(!(t=t||(u.config.Promise||Promise)))throw new Error("no Promise impl found");return t}r.Observable=i},{"./config":115,"./symbol/observable":268,"./util/canReportError":276,"./util/pipe":292,"./util/toSubscriber":299}],107:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./config"),o=t("./util/hostReportError");r.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},{"./config":115,"./util/hostReportError":277}],108:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./Subscriber"),o=(i=t.Subscriber,o(s,i),s.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},s.prototype.notifyError=function(t,e){this.destination.error(t)},s.prototype.notifyComplete=function(t){this.destination.complete()},s);function s(){return null!==i&&i.apply(this,arguments)||this}r.OuterSubscriber=o},{"./Subscriber":113}],109:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./Subject"),u=t("./scheduler/queue"),a=t("./Subscription"),c=t("./operators/observeOn"),l=t("./util/ObjectUnsubscribedError"),f=t("./SubjectSubscription"),o=(i=s.Subject,o(p,i),p.prototype.nextInfiniteTimeWindow=function(t){var e;this.isStopped||((e=this._events).push(t),e.length>this._bufferSize&&e.shift()),i.prototype.next.call(this,t)},p.prototype.nextTimeWindow=function(t){this.isStopped||(this._events.push(new h(this._getNow(),t)),this._trimBufferThenGetEvents()),i.prototype.next.call(this,t)},p.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=n.length;if(this.closed)throw new l.ObjectUnsubscribedError;if(e=this.isStopped||this.hasError?a.Subscription.EMPTY:(this.observers.push(t),new f.SubjectSubscription(this,t)),o&&t.add(t=new c.ObserveOnSubscriber(t,o)),r)for(var s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},p.prototype._getNow=function(){return(this.scheduler||u.queue).now()},p.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,o=n.length,i=0;i<o&&!(t-n[i].time<r);)i++;return 0<(i=e<o?Math.max(i,o-e):i)&&n.splice(0,i),n},p);function p(t,e,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY);var n=i.call(this)||this;return n.scheduler=r,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=t<1?1:t,n._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}r.ReplaySubject=o;var h=function(t,e){this.time=t,this.value=e}},{"./Subject":111,"./SubjectSubscription":112,"./Subscription":114,"./operators/observeOn":195,"./scheduler/queue":266,"./util/ObjectUnsubscribedError":273}],110:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},o.now=function(){return Date.now()},o);function o(t,e){void 0===e&&(e=o.now),this.SchedulerAction=t,this.now=e}r.Scheduler=n},{}],111:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./Observable"),u=t("./Subscriber"),a=t("./Subscription"),c=t("./util/ObjectUnsubscribedError"),l=t("./SubjectSubscription"),t=t("../internal/symbol/rxSubscriber"),f=(i=u.Subscriber,o(p,i),p);function p(t){var e=i.call(this,t)||this;return e.destination=t,e}r.SubjectSubscriber=f;var h,t=(h=s.Observable,o(d,h),d.prototype[t.rxSubscriber]=function(){return new f(this)},d.prototype.lift=function(t){var e=new _(this,this);return e.operator=t,e},d.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},d.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},d.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},d.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},d.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return h.prototype._trySubscribe.call(this,t)},d.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(t.complete(),a.Subscription.EMPTY):(this.observers.push(t),new l.SubjectSubscription(this,t))},d.prototype.asObservable=function(){var t=new s.Observable;return t.source=this,t},d.create=function(t,e){return new _(t,e)},d);function d(){var t=h.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}r.Subject=t;var b,_=(o(y,b=t),y.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},y.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},y.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},y.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.Subscription.EMPTY},y);function y(t,e){var r=b.call(this)||this;return r.destination=t,r.source=e,r}r.AnonymousSubject=_},{"../internal/symbol/rxSubscriber":269,"./Observable":106,"./SubjectSubscription":112,"./Subscriber":113,"./Subscription":114,"./util/ObjectUnsubscribedError":273}],112:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./Subscription"),o=(i=t.Subscription,o(s,i),s.prototype.unsubscribe=function(){var t,e;this.closed||(this.closed=!0,t=(e=this.subject).observers,this.subject=null,!t||0===t.length||e.isStopped||e.closed||-1!==(e=t.indexOf(this.subscriber))&&t.splice(e,1))},s);function s(t,e){var r=i.call(this)||this;return r.subject=t,r.subscriber=e,r.closed=!1,r}r.SubjectSubscription=o},{"./Subscription":114}],113:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./util/isFunction"),u=t("./Observer"),a=t("./Subscription"),c=t("../internal/symbol/rxSubscriber"),l=t("./config"),f=t("./util/hostReportError"),c=(i=a.Subscription,o(p,i),p.prototype[c.rxSubscriber]=function(){return this},p.create=function(t,e,r){r=new p(t,e,r);return r.syncErrorThrowable=!1,r},p.prototype.next=function(t){this.isStopped||this._next(t)},p.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},p.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},p.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,i.prototype.unsubscribe.call(this))},p.prototype._next=function(t){this.destination.next(t)},p.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},p.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},p.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},p);function p(t,e,r){var n=i.call(this)||this;switch(n.syncErrorValue=null,n.syncErrorThrown=!1,n.syncErrorThrowable=!1,n.isStopped=!1,arguments.length){case 0:n.destination=u.empty;break;case 1:if(!t){n.destination=u.empty;break}if("object"==typeof t){t instanceof p?(n.syncErrorThrowable=t.syncErrorThrowable,(n.destination=t).add(n)):(n.syncErrorThrowable=!0,n.destination=new d(n,t));break}default:n.syncErrorThrowable=!0,n.destination=new d(n,t,e,r)}return n}r.Subscriber=c;var h,d=(o(b,h=c),b.prototype.next=function(t){var e;!this.isStopped&&this._next&&(e=this._parentSubscriber,l.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t))},b.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=l.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?this.__tryOrSetError(e,this._error,t):this.__tryOrUnsub(this._error,t),this.unsubscribe();else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):f.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;f.hostReportError(t)}}},b.prototype.complete=function(){var t,e,r=this;this.isStopped||(t=this._parentSubscriber,this._complete&&(e=function(){return r._complete.call(r._context)},l.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,e):this.__tryOrUnsub(e)),this.unsubscribe())},b.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),l.config.useDeprecatedSynchronousErrorHandling)throw t;f.hostReportError(t)}},b.prototype.__tryOrSetError=function(e,t,r){if(!l.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return l.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0):(f.hostReportError(t),!0)}return!1},b.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},b);function b(t,e,r,n){var o,i=h.call(this)||this;i._parentSubscriber=t;t=i;return s.isFunction(e)?o=e:e&&(o=e.next,r=e.error,n=e.complete,e!==u.empty&&(t=Object.create(e),s.isFunction(t.unsubscribe)&&i.add(t.unsubscribe.bind(t)),t.unsubscribe=i.unsubscribe.bind(i))),i._context=t,i._next=o,i._error=r,i._complete=n,i}r.SafeSubscriber=d},{"../internal/symbol/rxSubscriber":269,"./Observer":107,"./Subscription":114,"./config":115,"./util/hostReportError":277,"./util/isFunction":282}],114:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("./util/isArray"),c=t("./util/isObject"),l=t("./util/isFunction"),f=t("./util/UnsubscriptionError"),t=(p.prototype.unsubscribe=function(){var e;if(!this.closed){var t=this._parentOrParents,r=this._ctorUnsubscribe,n=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof p)t.remove(this);else if(null!==t)for(var i=0;i<t.length;++i)t[i].remove(this);if(l.isFunction(n)){r&&(this._unsubscribe=void 0);try{n.call(this)}catch(t){e=t instanceof f.UnsubscriptionError?h(t.errors):[t]}}if(a.isArray(o))for(var i=-1,s=o.length;++i<s;){var u=o[i];if(c.isObject(u))try{u.unsubscribe()}catch(t){e=e||[],t instanceof f.UnsubscriptionError?e=e.concat(h(t.errors)):e.push(t)}}if(e)throw new f.UnsubscriptionError(e)}},p.prototype.add=function(t){var e,r=t;if(!t)return p.EMPTY;switch(typeof t){case"function":r=new p(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;r instanceof p||(e=r,(r=new p)._subscriptions=[e]);break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var n=r._parentOrParents;if(null===n)r._parentOrParents=this;else if(n instanceof p){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}n=this._subscriptions;return null===n?this._subscriptions=[r]:n.push(r),r},p.prototype.remove=function(t){var e=this._subscriptions;!e||-1!==(t=e.indexOf(t))&&e.splice(t,1)},p.EMPTY=((t=new p).closed=!0,t),p);function p(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}function h(t){return t.reduce(function(t,e){return t.concat(e instanceof f.UnsubscriptionError?e.errors:e)},[])}r.Subscription=t},{"./util/UnsubscriptionError":275,"./util/isArray":279,"./util/isFunction":282,"./util/isObject":286}],115:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){var e;t?(e=new Error,console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)):n&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},{}],116:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./Subscriber"),u=t("./Observable"),a=t("./util/subscribeTo"),t=(i=s.Subscriber,o(c,i),c.prototype._next=function(t){this.parent.notifyNext(t)},c.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},c.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},c);function c(t){var e=i.call(this)||this;return e.parent=t,e}r.SimpleInnerSubscriber=t;var l,t=(l=s.Subscriber,o(f,l),f.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},f.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},f.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},f);function f(t,e,r){var n=l.call(this)||this;return n.parent=t,n.outerValue=e,n.outerIndex=r,n}r.ComplexInnerSubscriber=t;var p,t=(p=s.Subscriber,o(h,p),h.prototype.notifyNext=function(t){this.destination.next(t)},h.prototype.notifyError=function(t){this.destination.error(t)},h.prototype.notifyComplete=function(){this.destination.complete()},h);function h(){return null!==p&&p.apply(this,arguments)||this}r.SimpleOuterSubscriber=t;var d,o=(d=s.Subscriber,o(b,d),b.prototype.notifyNext=function(t,e,r,n){this.destination.next(e)},b.prototype.notifyError=function(t){this.destination.error(t)},b.prototype.notifyComplete=function(t){this.destination.complete()},b);function b(){return null!==d&&d.apply(this,arguments)||this}r.ComplexOuterSubscriber=o,r.innerSubscribe=function(t,e){if(!e.closed){if(t instanceof u.Observable)return t.subscribe(e);var r;try{r=a.subscribeTo(t)(e)}catch(t){e.error(t)}return r}}},{"./Observable":106,"./Subscriber":113,"./util/subscribeTo":293}],117:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("../Subject"),u=t("../Observable"),a=t("../Subscriber"),c=t("../Subscription"),l=t("../operators/refCount"),u=(i=u.Observable,o(f,i),f.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},f.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},f.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new c.Subscription).add(this.source.subscribe(new h(this.getSubject(),this))),t.closed&&(this._connection=null,t=c.Subscription.EMPTY)),t},f.prototype.refCount=function(){return l.refCount()(this)},f);function f(t,e){var r=i.call(this)||this;return r.source=t,r.subjectFactory=e,r._refCount=0,r._isComplete=!1,r}r.ConnectableObservable=u,r.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(u=u.prototype)._subscribe},_isComplete:{value:u._isComplete,writable:!0},getSubject:{value:u.getSubject},connect:{value:u.connect},refCount:{value:u.refCount}};var p,h=(p=s.SubjectSubscriber,o(d,p),d.prototype._error=function(t){this._unsubscribe(),p.prototype._error.call(this,t)},d.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),p.prototype._complete.call(this)},d.prototype._unsubscribe=function(){var t,e=this.connectable;e&&(this.connectable=null,t=e._connection,e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe())},d);function d(t,e){t=p.call(this,t)||this;return t.connectable=e,t}b.prototype.call=function(t,e){var r=this.connectable;r._refCount++;t=new y(t,r),e=e.subscribe(t);return t.closed||(t.connection=r.connect()),e};function b(t){this.connectable=t}var _,y=(_=a.Subscriber,o(v,_),v.prototype._unsubscribe=function(){var t,e=this.connectable;e?(this.connectable=null,(t=e._refCount)<=0?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))):this.connection=null},v);function v(t,e){t=_.call(this,t)||this;return t.connectable=e,t}},{"../Observable":106,"../Subject":111,"../Subscriber":113,"../Subscription":114,"../operators/refCount":206}],118:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("../Observable"),u=t("../scheduler/asap"),a=t("../util/isNumeric"),o=(i=s.Observable,o(c,i),c.create=function(t,e,r){return new c(t,e=void 0===e?0:e,r=void 0===r?u.asap:r)},c.dispatch=function(t){var e=t.source,t=t.subscriber;return this.add(e.subscribe(t))},c.prototype._subscribe=function(t){var e=this.delayTime,r=this.source;return this.scheduler.schedule(c.dispatch,e,{source:r,subscriber:t})},c);function c(t,e,r){void 0===e&&(e=0),void 0===r&&(r=u.asap);var n=i.call(this)||this;return n.source=t,n.delayTime=e,n.scheduler=r,(!a.isNumeric(e)||e<0)&&(n.delayTime=0),r&&"function"==typeof r.schedule||(n.scheduler=u.asap),n}r.SubscribeOnObservable=o},{"../Observable":106,"../scheduler/asap":264,"../util/isNumeric":285}],119:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=t("../Observable"),a=t("../AsyncSubject"),o=t("../operators/map"),c=t("../util/canReportError"),l=t("../util/isArray"),f=t("../util/isScheduler");function p(t){var n=this,e=t.args,r=t.subscriber,o=t.params,i=o.callbackFunc,t=o.context,s=o.scheduler;if(!(u=o.subject)){var u=o.subject=new a.AsyncSubject;try{i.apply(t,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length<=1?t[0]:t;n.add(s.schedule(h,0,{value:r,subject:u}))}]))}catch(t){u.error(t)}}this.add(u.subscribe(r))}function h(t){var e=t.value,t=t.subject;t.next(e),t.complete()}r.bindCallback=function r(i,n,s){if(n){if(!f.isScheduler(n))return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(i,s).apply(void 0,t).pipe(o.map(function(t){return l.isArray(t)?n.apply(void 0,t):n(t)}))};s=n}return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r,n=this,o={context:n,subject:r,callbackFunc:i,scheduler:s};return new u.Observable(function(t){if(s)return s.schedule(p,0,{args:e,subscriber:t,params:o});if(!r){r=new a.AsyncSubject;try{i.apply(n,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.next(t.length<=1?t[0]:t),r.complete()}]))}catch(t){c.canReportError(r)?r.error(t):console.warn(t)}}return r.subscribe(t)})}}},{"../AsyncSubject":102,"../Observable":106,"../operators/map":184,"../util/canReportError":276,"../util/isArray":279,"../util/isScheduler":289}],120:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=t("../Observable"),a=t("../AsyncSubject"),o=t("../operators/map"),c=t("../util/canReportError"),l=t("../util/isScheduler"),f=t("../util/isArray");function p(t){var n=this,e=t.params,r=t.subscriber,o=t.context,i=e.callbackFunc,t=e.args,s=e.scheduler;if(!(u=e.subject)){var u=e.subject=new a.AsyncSubject;try{i.apply(o,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?n.add(s.schedule(d,0,{err:r,subject:u})):(r=t.length<=1?t[0]:t,n.add(s.schedule(h,0,{value:r,subject:u})))}]))}catch(t){this.add(s.schedule(d,0,{err:t,subject:u}))}}this.add(u.subscribe(r))}function h(t){var e=t.value,t=t.subject;t.next(e),t.complete()}function d(t){var e=t.err;t.subject.error(e)}r.bindNodeCallback=function r(i,n,s){if(n){if(!l.isScheduler(n))return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(i,s).apply(void 0,t).pipe(o.map(function(t){return f.isArray(t)?n.apply(void 0,t):n(t)}))};s=n}return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var o={subject:void 0,args:r,callbackFunc:i,scheduler:s,context:this};return new u.Observable(function(t){var e=o.context,n=o.subject;if(s)return s.schedule(p,0,{params:o,subscriber:t,context:e});if(!n){n=o.subject=new a.AsyncSubject;try{i.apply(e,r.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?n.error(r):(n.next(t.length<=1?t[0]:t),n.complete())}]))}catch(t){c.canReportError(n)?n.error(t):console.warn(t)}}return n.subscribe(t)})}}},{"../AsyncSubject":102,"../Observable":106,"../operators/map":184,"../util/canReportError":276,"../util/isArray":279,"../util/isScheduler":289}],121:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../util/isScheduler"),s=t("../util/isArray"),u=t("../OuterSubscriber"),a=t("../util/subscribeToResult"),c=t("./fromArray"),l={};r.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return i.isScheduler(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),c.fromArray(t,n).lift(new f(r))};var f=(p.prototype.call=function(t,e){return e.subscribe(new d(t,this.resultSelector))},p);function p(t){this.resultSelector=t}r.CombineLatestOperator=f;var h,d=(h=u.OuterSubscriber,o(b,h),b.prototype._next=function(t){this.values.push(l),this.observables.push(t)},b.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(a.subscribeToResult(this,n,void 0,r))}}},b.prototype.notifyComplete=function(t){0==--this.active&&this.destination.complete()},b.prototype.notifyNext=function(t,e,r){var n=this.values,o=n[r],o=this.toRespond?o===l?--this.toRespond:this.toRespond:0;n[r]=e,0===o&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},b.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},b);function b(t,e){t=h.call(this,t)||this;return t.resultSelector=e,t.active=0,t.values=[],t.observables=[],t}r.CombineLatestSubscriber=d},{"../OuterSubscriber":108,"../util/isArray":279,"../util/isScheduler":289,"../util/subscribeToResult":298,"./fromArray":127}],122:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./of"),o=t("../operators/concatAll");r.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.concatAll()(n.of.apply(void 0,t))}},{"../operators/concatAll":156,"./of":135}],123:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),o=t("./from"),i=t("./empty");r.defer=function(r){return new n.Observable(function(e){var t;try{t=r()}catch(t){return void e.error(t)}return(t?o.from(t):i.empty()).subscribe(e)})}},{"../Observable":106,"./empty":124,"./from":126}],124:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable");r.EMPTY=new n.Observable(function(t){return t.complete()}),r.empty=function(t){return t?(e=t,new n.Observable(function(t){return e.schedule(function(){return t.complete()})})):r.EMPTY;var e}},{"../Observable":106}],125:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../util/isArray"),s=t("../operators/map"),u=t("../util/isObject"),l=t("./from");function a(a,c){return new n.Observable(function(n){var o=a.length;if(0!==o)for(var i=new Array(o),s=0,u=0,t=0;t<o;t++)!function(e){var t=l.from(a[e]),r=!1;n.add(t.subscribe({next:function(t){r||(r=!0,u++),i[e]=t},error:function(t){return n.error(t)},complete:function(){++s!==o&&r||(u===o&&n.next(c?c.reduce(function(t,e,r){return t[e]=i[r],t},{}):i),n.complete())}}))}(t);else n.complete()})}r.forkJoin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var r=t[0];if(i.isArray(r))return a(r,null);if(u.isObject(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return a(n.map(function(t){return r[t]}),n)}}if("function"!=typeof t[t.length-1])return a(t,null);var o=t.pop();return a(t=1===t.length&&i.isArray(t[0])?t[0]:t,null).pipe(s.map(function(t){return o.apply(void 0,t)}))}},{"../Observable":106,"../operators/map":184,"../util/isArray":279,"../util/isObject":286,"./from":126}],126:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),o=t("../util/subscribeTo"),i=t("../scheduled/scheduled");r.from=function(t,e){return e?i.scheduled(t,e):t instanceof n.Observable?t:new n.Observable(o.subscribeTo(t))}},{"../Observable":106,"../scheduled/scheduled":252,"../util/subscribeTo":293}],127:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),o=t("../util/subscribeToArray"),i=t("../scheduled/scheduleArray");r.fromArray=function(t,e){return e?i.scheduleArray(t,e):new n.Observable(o.subscribeToArray(t))}},{"../Observable":106,"../scheduled/scheduleArray":248,"../util/subscribeToArray":294}],128:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Observable"),s=t("../util/isArray"),u=t("../util/isFunction"),a=t("../operators/map");Object.prototype.toString;function p(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function h(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}function d(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}r.fromEvent=function t(r,n,o,e){return u.isFunction(o)&&(e=o,o=void 0),e?t(r,n,o).pipe(a.map(function(t){return s.isArray(t)?e.apply(void 0,t):e(t)})):new i.Observable(function(e){!function t(e,r,n,o,i){var s;if(d(e)){var u=e;e.addEventListener(r,n,i),s=function(){return u.removeEventListener(r,n,i)}}else if(h(e)){var a=e;e.on(r,n),s=function(){return a.off(r,n)}}else if(p(e)){var c=e;e.addListener(r,n),s=function(){return c.removeListener(r,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],r,n,o,i)}o.add(s)}(r,n,function(t){1<arguments.length?e.next(Array.prototype.slice.call(arguments)):e.next(t)},e,o)})}},{"../Observable":106,"../operators/map":184,"../util/isArray":279,"../util/isFunction":282}],129:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Observable"),s=t("../util/isArray"),u=t("../util/isFunction"),a=t("../operators/map");r.fromEventPattern=function t(n,o,e){return e?t(n,o).pipe(a.map(function(t){return s.isArray(t)?e.apply(void 0,t):e(t)})):new i.Observable(function(r){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)}var e;try{e=n(t)}catch(t){return void r.error(t)}if(u.isFunction(o))return function(){return o(t,e)}})}},{"../Observable":106,"../operators/map":184,"../util/isArray":279,"../util/isFunction":282}],130:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t("../Observable"),c=t("../util/identity"),l=t("../util/isScheduler");function f(t){var e,r=t.subscriber,n=t.condition;if(!r.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void r.error(t)}else t.needIterate=!0;if(n){var o=void 0;try{o=n(t.state)}catch(t){return void r.error(t)}if(!o)return void r.complete();if(r.closed)return}try{e=t.resultSelector(t.state)}catch(t){return void r.error(t)}if(!r.closed&&(r.next(e),!r.closed))return this.schedule(t)}}r.generate=function(t,n,o,e,i){var s,u;return 1==arguments.length?(u=t.initialState,n=t.condition,o=t.iterate,s=t.resultSelector||c.identity,i=t.scheduler):void 0===e||l.isScheduler(e)?(u=t,s=c.identity,i=e):(u=t,s=e),new a.Observable(function(e){var t=u;if(i)return i.schedule(f,0,{subscriber:e,iterate:o,condition:n,resultSelector:s,state:t});for(;;){if(n){var r=void 0;try{r=n(t)}catch(t){return void e.error(t)}if(!r){e.complete();break}}r=void 0;try{r=s(t)}catch(t){return void e.error(t)}if(e.next(r),e.closed)break;try{t=o(t)}catch(t){return void e.error(t)}}})}},{"../Observable":106,"../util/identity":278,"../util/isScheduler":289}],131:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./defer"),o=t("./empty");r.iif=function(t,e,r){return void 0===e&&(e=o.EMPTY),void 0===r&&(r=o.EMPTY),n.defer(function(){return t()?e:r})}},{"./defer":123,"./empty":124}],132:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),o=t("../scheduler/async"),i=t("../util/isNumeric");function s(t){var e=t.subscriber,r=t.counter,t=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:t},t)}r.interval=function(e,r){return void 0===r&&(r=o.async),(!i.isNumeric(e=void 0===e?0:e)||e<0)&&(e=0),r&&"function"==typeof r.schedule||(r=o.async),new n.Observable(function(t){return t.add(r.schedule(s,e,{subscriber:t,counter:0,period:e})),t})}},{"../Observable":106,"../scheduler/async":265,"../util/isNumeric":285}],133:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Observable"),s=t("../util/isScheduler"),u=t("../operators/mergeAll"),a=t("./fromArray");r.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,o=t[t.length-1];return s.isScheduler(o)?(n=t.pop(),1<t.length&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===n&&1===t.length&&t[0]instanceof i.Observable?t[0]:u.mergeAll(r)(a.fromArray(t,n))}},{"../Observable":106,"../operators/mergeAll":189,"../util/isScheduler":289,"./fromArray":127}],134:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),t=t("../util/noop");r.NEVER=new n.Observable(t.noop),r.never=function(){return r.NEVER}},{"../Observable":106,"../util/noop":290}],135:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/isScheduler"),o=t("./fromArray"),i=t("../scheduled/scheduleArray");r.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return n.isScheduler(r)?(t.pop(),i.scheduleArray(t,r)):o.fromArray(t)}},{"../scheduled/scheduleArray":248,"../util/isScheduler":289,"./fromArray":127}],136:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Observable"),i=t("./from"),s=t("../util/isArray"),u=t("./empty");function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return u.EMPTY;var r=t[0],n=t.slice(1);return 1===t.length&&s.isArray(r)?a.apply(void 0,r):new o.Observable(function(e){function t(){return e.add(a.apply(void 0,n).subscribe(e))}return i.from(r).subscribe({next:function(t){e.next(t)},error:t,complete:t})})}r.onErrorResumeNext=a},{"../Observable":106,"../util/isArray":279,"./empty":124,"./from":126}],137:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Observable"),s=t("../Subscription");function u(t){var e=t.keys,r=t.index,n=t.subscriber,o=t.subscription,i=t.obj;n.closed||(r<e.length?(t=e[r],n.next([t,i[t]]),o.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:o,obj:i}))):n.complete())}r.pairs=function(o,n){return n?new i.Observable(function(t){var e=Object.keys(o),r=new s.Subscription;return r.add(n.schedule(u,0,{keys:e,index:0,subscriber:t,subscription:r,obj:o})),r}):new i.Observable(function(t){for(var e=Object.keys(o),r=0;r<e.length&&!t.closed;r++){var n=e[r];o.hasOwnProperty(n)&&t.next([n,o[n]])}t.complete()})},r.dispatch=u},{"../Observable":106,"../Subscription":114}],138:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/not"),o=t("../util/subscribeTo"),i=t("../operators/filter"),s=t("../Observable");r.partition=function(t,e,r){return[i.filter(e,r)(new s.Observable(o.subscribeTo(t))),i.filter(n.not(e,r))(new s.Observable(o.subscribeTo(t)))]}},{"../Observable":106,"../operators/filter":175,"../util/not":291,"../util/subscribeTo":293}],139:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../util/isArray"),s=t("./fromArray"),u=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!i.isArray(t[0]))return t[0];t=t[0]}return s.fromArray(t,void 0).lift(new c)};var c=(l.prototype.call=function(t,e){return e.subscribe(new p(t))},l);function l(){}r.RaceOperator=c;var f,p=(f=u.OuterSubscriber,o(h,f),h.prototype._next=function(t){this.observables.push(t)},h.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],n=a.subscribeToResult(this,n,void 0,r);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},h.prototype.notifyNext=function(t,e,r){if(!this.hasFirst){this.hasFirst=!0;for(var n,o=0;o<this.subscriptions.length;o++)o!==r&&((n=this.subscriptions[o]).unsubscribe(),this.remove(n));this.subscriptions=null}this.destination.next(e)},h);function h(t){t=f.call(this,t)||this;return t.hasFirst=!1,t.observables=[],t.subscriptions=[],t}r.RaceSubscriber=p},{"../OuterSubscriber":108,"../util/isArray":279,"../util/subscribeToResult":298,"./fromArray":127}],140:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("../Observable");function u(t){var e=t.start,r=t.index,n=t.count,o=t.subscriber;n<=r?o.complete():(o.next(e),o.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}r.range=function(n,o,i){return void 0===n&&(n=0),new s.Observable(function(t){void 0===o&&(o=n,n=0);var e=0,r=n;if(i)return i.schedule(u,0,{index:e,count:o,start:n,subscriber:t});for(;;){if(e++>=o){t.complete();break}if(t.next(r++),t.closed)break}})},r.dispatch=u},{"../Observable":106}],141:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable");function o(t){var e=t.error;t.subscriber.error(e)}r.throwError=function(e,r){return r?new n.Observable(function(t){return r.schedule(o,0,{error:e,subscriber:t})}):new n.Observable(function(t){return t.error(e)})}},{"../Observable":106}],142:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Observable"),s=t("../scheduler/async"),u=t("../util/isNumeric"),a=t("../util/isScheduler");function c(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}r.timer=function(r,t,n){void 0===r&&(r=0);var o=-1;return u.isNumeric(t)?o=Number(t)<1?1:Number(t):a.isScheduler(t)&&(n=t),a.isScheduler(n)||(n=s.async),new i.Observable(function(t){var e=u.isNumeric(r)?r:+r-n.now();return n.schedule(c,e,{index:0,period:o,subscriber:t})})}},{"../Observable":106,"../scheduler/async":265,"../util/isNumeric":285,"../util/isScheduler":289}],143:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),s=t("./from"),u=t("./empty");r.using=function(o,i){return new n.Observable(function(e){var t,r;try{t=o()}catch(t){return void e.error(t)}try{r=i(t)}catch(t){return void e.error(t)}var n=(r?s.from(r):u.EMPTY).subscribe(e);return function(){n.unsubscribe(),t&&t.unsubscribe()}})}},{"../Observable":106,"./empty":124,"./from":126}],144:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("./fromArray"),s=t("../util/isArray"),u=t("../Subscriber"),a=t("../../internal/symbol/iterator"),c=t("../innerSubscribe");r.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),i.fromArray(t,void 0).lift(new l(r))};var l=(f.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},f);function f(t){this.resultSelector=t}r.ZipOperator=l;var p,h=(p=u.Subscriber,o(d,p),d.prototype._next=function(t){var e=this.iterators;s.isArray(t)?e.push(new y(t)):"function"==typeof t[a.iterator]?e.push(new b(t[a.iterator]())):e.push(new g(this.destination,this,t))},d.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];n.stillUnsubscribed?this.destination.add(n.subscribe()):this.active--}}else this.destination.complete()},d.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},d.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++)if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return;for(var o=!1,i=[],n=0;n<e;n++){var s,u=(s=t[n]).next();if(s.hasCompleted()&&(o=!0),u.done)return void r.complete();i.push(u.value)}this.resultSelector?this._tryresultSelector(i):r.next(i),o&&r.complete()},d.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},d);function d(t,e,r){void 0===r&&(r=Object.create(null));t=p.call(this,t)||this;return t.resultSelector=e,t.iterators=[],t.active=0,t.resultSelector="function"==typeof e?e:void 0,t}r.ZipSubscriber=h;var b=(_.prototype.hasValue=function(){return!0},_.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},_.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},_);function _(t){this.iterator=t,this.nextResult=t.next()}var y=(v.prototype[a.iterator]=function(){return this},v.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},v.prototype.hasValue=function(){return this.array.length>this.index},v.prototype.hasCompleted=function(){return this.array.length===this.index},v);function v(t){this.array=t,this.index=0,this.length=0,this.length=t.length}var m,g=(m=c.SimpleOuterSubscriber,o(O,m),O.prototype[a.iterator]=function(){return this},O.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},O.prototype.hasValue=function(){return 0<this.buffer.length},O.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},O.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},O.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},O.prototype.subscribe=function(){return c.innerSubscribe(this.observable,new c.SimpleInnerSubscriber(this))},O);function O(t,e,r){t=m.call(this,t)||this;return t.parent=e,t.observable=r,t.stillUnsubscribed=!0,t.buffer=[],t.isComplete=!1,t}},{"../../internal/symbol/iterator":267,"../Subscriber":113,"../innerSubscribe":116,"../util/isArray":279,"./fromArray":127}],145:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.audit=function(e){return function(t){return t.lift(new s(e))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector))},u);function u(t){this.durationSelector=t}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}e=i.innerSubscribe(e,new i.SimpleInnerSubscriber(this));!e||e.closed?this.clearThrottle():this.add(this.throttled=e)}},l.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},l.prototype.notifyNext=function(){this.clearThrottle()},l.prototype.notifyComplete=function(){this.clearThrottle()},l);function l(t,e){t=a.call(this,t)||this;return t.durationSelector=e,t.hasValue=!1,t}},{"../innerSubscribe":116}],146:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),o=t("./audit"),i=t("../observable/timer");r.auditTime=function(t,e){return void 0===e&&(e=n.async),o.audit(function(){return i.timer(t,e)})}},{"../observable/timer":142,"../scheduler/async":265,"./audit":145}],147:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.buffer=function(e){return function(t){return t.lift(new s(e))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingNotifier))},u);function u(t){this.closingNotifier=t}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype._next=function(t){this.buffer.push(t)},l.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},l);function l(t,e){t=a.call(this,t)||this;return t.buffer=[],t.add(i.innerSubscribe(e,new i.SimpleInnerSubscriber(t))),t}},{"../innerSubscribe":116}],148:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.bufferCount=function(e,r){return void 0===r&&(r=null),function(t){return t.lift(new i(e,r))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},s);function s(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?f:a}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},c.prototype._complete=function(){var t=this.buffer;0<t.length&&this.destination.next(t),u.prototype._complete.call(this)},c);function c(t,e){t=u.call(this,t)||this;return t.bufferSize=e,t.buffer=[],t}var l,f=(l=t.Subscriber,o(p,l),p.prototype._next=function(t){var e=this.bufferSize,r=this.startBufferEvery,n=this.buffers,o=this.count;this.count++,o%r==0&&n.push([]);for(var i=n.length;i--;){var s=n[i];s.push(t),s.length===e&&(n.splice(i,1),this.destination.next(s))}},p.prototype._complete=function(){for(var t=this.buffers,e=this.destination;0<t.length;){var r=t.shift();0<r.length&&e.next(r)}l.prototype._complete.call(this)},p);function p(t,e,r){t=l.call(this,t)||this;return t.bufferSize=e,t.startBufferEvery=r,t.buffers=[],t.count=0,t}},{"../Subscriber":113}],149:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../scheduler/async"),s=t("../Subscriber"),u=t("../util/isScheduler");r.bufferTime=function(e){var t=arguments.length,r=i.async;u.isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],t--);var n=null;2<=t&&(n=arguments[1]);var o=Number.POSITIVE_INFINITY;return 3<=t&&(o=arguments[2]),function(t){return t.lift(new a(e,n,o,r))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new p(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},c);function c(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}var l,f=function(){this.buffer=[]},p=(l=s.Subscriber,o(h,l),h.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,o=0;o<n;o++){var i=r[o],s=i.buffer;s.push(t),s.length==this.maxBufferSize&&(e=i)}e&&this.onBufferFull(e)},h.prototype._error=function(t){this.contexts.length=0,l.prototype._error.call(this,t)},h.prototype._complete=function(){for(var t=this.contexts,e=this.destination;0<t.length;){var r=t.shift();e.next(r.buffer)}l.prototype._complete.call(this)},h.prototype._unsubscribe=function(){this.contexts=null},h.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly&&(t=this.openContext(),e=this.bufferTimeSpan,this.add(t.closeAction=this.scheduler.schedule(d,e,{subscriber:this,context:t,bufferTimeSpan:e})))},h.prototype.openContext=function(){var t=new f;return this.contexts.push(t),t},h.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;0<=(e?e.indexOf(t):-1)&&e.splice(e.indexOf(t),1)},h);function h(t,e,r,n,o){var i=l.call(this,t)||this;i.bufferTimeSpan=e,i.bufferCreationInterval=r,i.maxBufferSize=n,i.scheduler=o,i.contexts=[];t=i.openContext();return i.timespanOnly=null==r||r<0,i.timespanOnly?i.add(t.closeAction=o.schedule(d,e,{subscriber:i,context:t,bufferTimeSpan:e})):(n={bufferTimeSpan:e,bufferCreationInterval:r,subscriber:i,scheduler:o},i.add(t.closeAction=o.schedule(_,e,{subscriber:i,context:t})),i.add(o.schedule(b,r,n))),i}function d(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function b(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,o=t.scheduler,i=n.openContext();n.closed||(n.add(i.closeAction=o.schedule(_,r,{subscriber:n,context:i})),this.schedule(t,e))}function _(t){var e=t.subscriber,t=t.context;e.closeContext(t)}},{"../Subscriber":113,"../scheduler/async":265,"../util/isScheduler":289}],150:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscription"),s=t("../util/subscribeToResult"),t=t("../OuterSubscriber");r.bufferToggle=function(e,r){return function(t){return t.lift(new u(e,r))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.openings,this.closingSelector))},a);function a(t,e){this.openings=t,this.closingSelector=e}var c,l=(c=t.OuterSubscriber,o(f,c),f.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},f.prototype._error=function(t){for(var e=this.contexts;0<e.length;){var r=e.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,c.prototype._error.call(this,t)},f.prototype._complete=function(){for(var t=this.contexts;0<t.length;){var e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,c.prototype._complete.call(this)},f.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},f.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},f.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},f.prototype.closeBuffer=function(t){var e,r,n=this.contexts;n&&t&&(e=t.buffer,r=t.subscription,this.destination.next(e),n.splice(n.indexOf(t),1),this.remove(r),r.unsubscribe())},f.prototype.trySubscribe=function(t){var e=this.contexts,r=new i.Subscription,n={buffer:[],subscription:r};e.push(n);t=s.subscribeToResult(this,t,n);!t||t.closed?this.closeBuffer(n):(t.context=n,this.add(t),r.add(t))},f);function f(t,e,r){t=c.call(this,t)||this;return t.closingSelector=r,t.contexts=[],t.add(s.subscribeToResult(t,e)),t}},{"../OuterSubscriber":108,"../Subscription":114,"../util/subscribeToResult":298}],151:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscription"),s=t("../innerSubscribe");r.bufferWhen=function(e){return function(t){return t.lift(new u(e))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.closingSelector))},a);function a(t){this.closingSelector=t}var c,l=(c=s.SimpleOuterSubscriber,o(f,c),f.prototype._next=function(t){this.buffer.push(t)},f.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),c.prototype._complete.call(this)},f.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},f.prototype.notifyNext=function(){this.openBuffer()},f.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},f.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];try{var r=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new i.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(s.innerSubscribe(r,new s.SimpleInnerSubscriber(this))),this.subscribing=!1},f);function f(t,e){t=c.call(this,t)||this;return t.closingSelector=e,t.subscribing=!1,t.openBuffer(),t}},{"../Subscription":114,"../innerSubscribe":116}],152:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.catchError=function(r){return function(t){var e=new s(r),t=t.lift(e);return e.caught=t}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.selector,this.caught))},u);function u(t){this.selector=t}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype.error=function(t){if(!this.isStopped){var e=void 0;try{e=this.selector(t,this.caught)}catch(t){return void a.prototype.error.call(this,t)}this._unsubscribeAndRecycle();t=new i.SimpleInnerSubscriber(this);this.add(t);e=i.innerSubscribe(e,t);e!==t&&this.add(e)}},l);function l(t,e,r){t=a.call(this,t)||this;return t.selector=e,t.caught=r,t}},{"../innerSubscribe":116}],153:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/combineLatest");r.combineAll=function(e){return function(t){return t.lift(new n.CombineLatestOperator(e))}}},{"../observable/combineLatest":121}],154:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/isArray"),o=t("../observable/combineLatest"),i=t("../observable/from");r.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=null;return"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&n.isArray(e[0])&&(e=e[0].slice()),function(t){return t.lift.call(i.from([t].concat(e)),new o.CombineLatestOperator(r))}}},{"../observable/combineLatest":121,"../observable/from":126,"../util/isArray":279}],155:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/concat");r.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(n.concat.apply(void 0,[t].concat(e)))}}},{"../observable/concat":122}],156:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeAll");r.concatAll=function(){return n.mergeAll(1)}},{"./mergeAll":189}],157:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeMap");r.concatMap=function(t,e){return n.mergeMap(t,e,1)}},{"./mergeMap":190}],158:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./concatMap");r.concatMapTo=function(t,e){return n.concatMap(function(){return t},e)}},{"./concatMap":157}],159:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.count=function(e){return function(t){return t.lift(new i(e,t))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source))},s);function s(t,e){this.predicate=t,this.source=e}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},c.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},c.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},c);function c(t,e,r){t=u.call(this,t)||this;return t.predicate=e,t.source=r,t.count=0,t.index=0,t}},{"../Subscriber":113}],160:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.debounce=function(e){return function(t){return t.lift(new s(e))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector))},u);function u(t){this.durationSelector=t}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},l.prototype._complete=function(){this.emitValue(),this.destination.complete()},l.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=i.innerSubscribe(e,new i.SimpleInnerSubscriber(this)))&&!r.closed&&this.add(this.durationSubscription=r)},l.prototype.notifyNext=function(){this.emitValue()},l.prototype.notifyComplete=function(){this.emitValue()},l.prototype.emitValue=function(){var t,e;this.hasValue&&(t=this.value,(e=this.durationSubscription)&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,a.prototype._next.call(this,t))},l);function l(t,e){t=a.call(this,t)||this;return t.durationSelector=e,t.hasValue=!1,t}},{"../innerSubscribe":116}],161:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../scheduler/async");r.debounceTime=function(e,r){return void 0===r&&(r=s.async),function(t){return t.lift(new u(e,r))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.dueTime,this.scheduler))},a);function a(t,e){this.dueTime=t,this.scheduler=e}var c,l=(c=i.Subscriber,o(f,c),f.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p,this.dueTime,this))},f.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},f.prototype.debouncedNext=function(){var t;this.clearDebounce(),this.hasValue&&(t=this.lastValue,this.lastValue=null,this.hasValue=!1,this.destination.next(t))},f.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},f);function f(t,e,r){t=c.call(this,t)||this;return t.dueTime=e,t.scheduler=r,t.debouncedSubscription=null,t.lastValue=null,t.hasValue=!1,t}function p(t){t.debouncedNext()}},{"../Subscriber":113,"../scheduler/async":265}],162:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new i(e))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},s);function s(t){this.defaultValue=t}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},c.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},c);function c(t,e){t=u.call(this,t)||this;return t.defaultValue=e,t.isEmpty=!0,t}},{"../Subscriber":113}],163:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../scheduler/async"),s=t("../util/isDate"),u=t("../Subscriber"),a=t("../Notification");r.delay=function(t,e){void 0===e&&(e=i.async);var r=s.isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new c(r,e))}};var c=(l.prototype.call=function(t,e){return e.subscribe(new p(t,this.delay,this.scheduler))},l);function l(t,e){this.delay=t,this.scheduler=e}var f,p=(f=u.Subscriber,o(h,f),h.dispatch=function(t){for(var e,r=t.source,n=r.queue,o=t.scheduler,i=t.destination;0<n.length&&n[0].time-o.now()<=0;)n.shift().notification.observe(i);0<n.length?(e=Math.max(0,n[0].time-o.now()),this.schedule(t,e)):(this.unsubscribe(),r.active=!1)},h.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(h.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},h.prototype.scheduleNotification=function(t){var e;!0!==this.errored&&(e=this.scheduler,t=new d(e.now()+this.delay,t),this.queue.push(t),!1===this.active&&this._schedule(e))},h.prototype._next=function(t){this.scheduleNotification(a.Notification.createNext(t))},h.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},h.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete()),this.unsubscribe()},h);function h(t,e,r){t=f.call(this,t)||this;return t.delay=e,t.scheduler=r,t.queue=[],t.active=!1,t.errored=!1,t}var d=function(t,e){this.time=t,this.notification=e}},{"../Notification":105,"../Subscriber":113,"../scheduler/async":265,"../util/isDate":281}],164:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../Observable"),u=t("../OuterSubscriber"),a=t("../util/subscribeToResult");r.delayWhen=function(e,r){return r?function(t){return new b(t,r).lift(new c(e))}:function(t){return t.lift(new c(e))}};var c=(l.prototype.call=function(t,e){return e.subscribe(new p(t,this.delayDurationSelector))},l);function l(t){this.delayDurationSelector=t}var f,p=(f=u.OuterSubscriber,o(h,f),h.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(t),this.removeSubscription(o),this.tryComplete()},h.prototype.notifyError=function(t,e){this._error(t)},h.prototype.notifyComplete=function(t){t=this.removeSubscription(t);t&&this.destination.next(t),this.tryComplete()},h.prototype._next=function(t){var e=this.index++;try{var r=this.delayDurationSelector(t,e);r&&this.tryDelay(r,t)}catch(t){this.destination.error(t)}},h.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},h.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},h.prototype.tryDelay=function(t,e){e=a.subscribeToResult(this,t,e);e&&!e.closed&&(this.destination.add(e),this.delayNotifierSubscriptions.push(e))},h.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},h);function h(t,e){t=f.call(this,t)||this;return t.delayDurationSelector=e,t.completed=!1,t.delayNotifierSubscriptions=[],t.index=0,t}var d,b=(d=s.Observable,o(_,d),_.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new v(t,this.source))},_);function _(t,e){var r=d.call(this)||this;return r.source=t,r.subscriptionDelay=e,r}var y,v=(y=i.Subscriber,o(m,y),m.prototype._next=function(t){this.subscribeToSource()},m.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},m.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},m.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},m);function m(t,e){var r=y.call(this)||this;return r.parent=t,r.source=e,r.sourceSubscribed=!1,r}},{"../Observable":106,"../OuterSubscriber":108,"../Subscriber":113,"../util/subscribeToResult":298}],165:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.dematerialize=function(){return function(t){return t.lift(new i)}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t))},s);function s(){}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){t.observe(this.destination)},c);function c(t){return u.call(this,t)||this}},{"../Subscriber":113}],166:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.distinct=function(e,r){return function(t){return t.lift(new s(e,r))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.keySelector,this.flushes))},u);function u(t,e){this.keySelector=t,this.flushes=e}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype.notifyNext=function(){this.values.clear()},l.prototype.notifyError=function(t){this._error(t)},l.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},l.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},l.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},l);function l(t,e,r){t=a.call(this,t)||this;return t.keySelector=e,t.values=new Set,r&&t.add(i.innerSubscribe(r,new i.SimpleInnerSubscriber(t))),t}r.DistinctSubscriber=c},{"../innerSubscribe":116}],167:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.distinctUntilChanged=function(e,r){return function(t){return t.lift(new i(e,r))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))},s);function s(t,e){this.compare=t,this.keySelector=e}var u,a=(u=t.Subscriber,o(c,u),c.prototype.compare=function(t,e){return t===e},c.prototype._next=function(t){try{var e=this.keySelector,r=e?e(t):t}catch(t){return this.destination.error(t)}e=!1;if(this.hasKey)try{e=(0,this.compare)(this.key,r)}catch(t){return this.destination.error(t)}else this.hasKey=!0;e||(this.key=r,this.destination.next(t))},c);function c(t,e,r){t=u.call(this,t)||this;return t.keySelector=r,t.hasKey=!1,"function"==typeof e&&(t.compare=e),t}},{"../Subscriber":113}],168:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("./distinctUntilChanged");r.distinctUntilKeyChanged=function(r,n){return o.distinctUntilChanged(function(t,e){return n?n(t[r],e[r]):t[r]===e[r]})}},{"./distinctUntilChanged":167}],169:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../util/ArgumentOutOfRangeError"),i=t("./filter"),s=t("./throwIfEmpty"),u=t("./defaultIfEmpty"),a=t("./take");r.elementAt=function(r,e){if(r<0)throw new o.ArgumentOutOfRangeError;var n=2<=arguments.length;return function(t){return t.pipe(i.filter(function(t,e){return e===r}),a.take(1),n?u.defaultIfEmpty(e):s.throwIfEmpty(function(){return new o.ArgumentOutOfRangeError}))}}},{"../util/ArgumentOutOfRangeError":270,"./defaultIfEmpty":162,"./filter":175,"./take":227,"./throwIfEmpty":234}],170:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/concat"),o=t("../observable/of");r.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return n.concat(t,o.of.apply(void 0,e))}}},{"../observable/concat":122,"../observable/of":135}],171:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.every=function(e,r){return function(t){return t.lift(new i(e,r,t))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg,this.source))},s);function s(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}var u,a=(u=t.Subscriber,o(c,u),c.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},c.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},c.prototype._complete=function(){this.notifyComplete(!0)},c);function c(t,e,r,n){t=u.call(this,t)||this;return t.predicate=e,t.thisArg=r,t.source=n,t.index=0,t.thisArg=r||t,t}},{"../Subscriber":113}],172:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.exhaust=function(){return function(t){return t.lift(new s)}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t))},u);function u(){}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(i.innerSubscribe(t,new i.SimpleInnerSubscriber(this))))},l.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},l.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},l);function l(t){t=a.call(this,t)||this;return t.hasCompleted=!1,t.hasSubscription=!1,t}},{"../innerSubscribe":116}],173:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s=t("./map"),u=t("../observable/from"),i=t("../innerSubscribe");r.exhaustMap=function e(o,i){return i?function(t){return t.pipe(e(function(r,n){return u.from(o(r,n)).pipe(s.map(function(t,e){return i(r,t,n,e)}))}))}:function(t){return t.lift(new a(o))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},c);function c(t){this.project=t}var l,f=(l=i.SimpleOuterSubscriber,o(p,l),p.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},p.prototype.tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e)},p.prototype._innerSub=function(t){var e=new i.SimpleInnerSubscriber(this),r=this.destination;r.add(e);t=i.innerSubscribe(t,e);t!==e&&r.add(t)},p.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},p.prototype.notifyNext=function(t){this.destination.next(t)},p.prototype.notifyError=function(t){this.destination.error(t)},p.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},p);function p(t,e){t=l.call(this,t)||this;return t.project=e,t.hasSubscription=!1,t.hasCompleted=!1,t.index=0,t}},{"../innerSubscribe":116,"../observable/from":126,"./map":184}],174:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.expand=function(e,r,n){return r=((r=void 0===r?Number.POSITIVE_INFINITY:r)||0)<1?Number.POSITIVE_INFINITY:r,function(t){return t.lift(new s(e,r,n))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.concurrent,this.scheduler))},u);function u(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}r.ExpandOperator=s;var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,t=t.index;e.subscribeToProjection(r,n,t)},l.prototype._next=function(t){var e=this.destination;if(e.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){e.next(t);try{var n,o=(0,this.project)(t,r);this.scheduler?(n={subscriber:this,result:o,value:t,index:r},this.destination.add(this.scheduler.schedule(l.dispatch,0,n))):this.subscribeToProjection(o,t,r)}catch(t){e.error(t)}}else this.buffer.push(t)}},l.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add(i.innerSubscribe(t,new i.SimpleInnerSubscriber(this)))},l.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},l.prototype.notifyNext=function(t){this._next(t)},l.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&0<t.length&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},l);function l(t,e,r,n){t=a.call(this,t)||this;return t.project=e,t.concurrent=r,t.scheduler=n,t.index=0,t.active=0,t.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(t.buffer=[]),t}r.ExpandSubscriber=c},{"../innerSubscribe":116}],175:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.filter=function(e,r){return function(t){return t.lift(new i(e,r))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},s);function s(t,e){this.predicate=t,this.thisArg=e}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},c);function c(t,e,r){t=u.call(this,t)||this;return t.predicate=e,t.thisArg=r,t.count=0,t}},{"../Subscriber":113}],176:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../Subscription");r.finalize=function(e){return function(t){return t.lift(new u(e))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.callback))},a);function a(t){this.callback=t}var c,l=(c=i.Subscriber,o(f,c),f);function f(t,e){t=c.call(this,t)||this;return t.add(new s.Subscription(e)),t}},{"../Subscriber":113,"../Subscription":114}],177:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.find=function(e,r){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(t){return t.lift(new i(e,t,!1,r))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},s);function s(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}r.FindValueOperator=i;var u,a=(u=t.Subscriber,o(c,u),c.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},c.prototype._next=function(t){var e=this.predicate,r=this.thisArg,n=this.index++;try{e.call(r||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(t){this.destination.error(t)}},c.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},c);function c(t,e,r,n,o){t=u.call(this,t)||this;return t.predicate=e,t.source=r,t.yieldIndex=n,t.thisArg=o,t.index=0,t}r.FindValueSubscriber=a},{"../Subscriber":113}],178:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../operators/find");r.findIndex=function(e,r){return function(t){return t.lift(new n.FindValueOperator(e,t,!0,r))}}},{"../operators/find":177}],179:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../util/EmptyError"),i=t("./filter"),s=t("./take"),u=t("./defaultIfEmpty"),a=t("./throwIfEmpty"),c=t("../util/identity");r.first=function(n,t){var e=2<=arguments.length;return function(r){return r.pipe(n?i.filter(function(t,e){return n(t,e,r)}):c.identity,s.take(1),e?u.defaultIfEmpty(t):a.throwIfEmpty(function(){return new o.EmptyError}))}}},{"../util/EmptyError":271,"../util/identity":278,"./defaultIfEmpty":162,"./filter":175,"./take":227,"./throwIfEmpty":234}],180:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../Subscription"),u=t("../Observable"),a=t("../Subject");r.groupBy=function(e,r,n,o){return function(t){return t.lift(new c(e,r,n,o))}};var c=(l.prototype.call=function(t,e){return e.subscribe(new p(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},l);function l(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}var f,p=(f=i.Subscriber,o(h,f),h.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},h.prototype._group=function(t,e){var r,n=this.groups,o=(n=n||(this.groups=new Map)).get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!o){o=this.subjectSelector?this.subjectSelector():new a.Subject,n.set(e,o);n=new v(e,o,this);if(this.destination.next(n),this.durationSelector){n=void 0;try{n=this.durationSelector(new v(e,o))}catch(t){return void this.error(t)}this.add(n.subscribe(new b(e,o,this)))}}o.closed||o.next(r)},h.prototype._error=function(r){var t=this.groups;t&&(t.forEach(function(t,e){t.error(r)}),t.clear()),this.destination.error(r)},h.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},h.prototype.removeGroup=function(t){this.groups.delete(t)},h.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&f.prototype.unsubscribe.call(this))},h);function h(t,e,r,n,o){t=f.call(this,t)||this;return t.keySelector=e,t.elementSelector=r,t.durationSelector=n,t.subjectSelector=o,t.groups=null,t.attemptedToUnsubscribe=!1,t.count=0,t}var d,b=(d=i.Subscriber,o(_,d),_.prototype._next=function(t){this.complete()},_.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},_);function _(t,e,r){var n=d.call(this,e)||this;return n.key=t,n.group=e,n.parent=r,n}var y,v=(y=u.Observable,o(m,y),m.prototype._subscribe=function(t){var e=new s.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new O(r)),e.add(n.subscribe(t)),e},m);function m(t,e,r){var n=y.call(this)||this;return n.key=t,n.groupSubject=e,n.refCountSubscription=r,n}r.GroupedObservable=v;var g,O=(g=s.Subscription,o(w,g),w.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(g.prototype.unsubscribe.call(this),--t.count,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},w);function w(t){var e=g.call(this)||this;return(e.parent=t).count++,e}},{"../Observable":106,"../Subject":111,"../Subscriber":113,"../Subscription":114}],181:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.ignoreElements=function(){return function(t){return t.lift(new i)}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t))},s);function s(){}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){},c);function c(){return null!==u&&u.apply(this,arguments)||this}},{"../Subscriber":113}],182:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.isEmpty=function(){return function(t){return t.lift(new i)}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t))},s);function s(){}var u,a=(u=t.Subscriber,o(c,u),c.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},c.prototype._next=function(t){this.notifyComplete(!1)},c.prototype._complete=function(){this.notifyComplete(!0)},c);function c(t){return u.call(this,t)||this}},{"../Subscriber":113}],183:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../util/EmptyError"),i=t("./filter"),s=t("./takeLast"),u=t("./throwIfEmpty"),a=t("./defaultIfEmpty"),c=t("../util/identity");r.last=function(n,t){var e=2<=arguments.length;return function(r){return r.pipe(n?i.filter(function(t,e){return n(t,e,r)}):c.identity,s.takeLast(1),e?a.defaultIfEmpty(t):u.throwIfEmpty(function(){return new o.EmptyError}))}}},{"../util/EmptyError":271,"../util/identity":278,"./defaultIfEmpty":162,"./filter":175,"./takeLast":228,"./throwIfEmpty":234}],184:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.map=function(e,r){return function(t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return t.lift(new i(e,r))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},s);function s(t,e){this.project=t,this.thisArg=e}r.MapOperator=i;var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},c);function c(t,e,r){t=u.call(this,t)||this;return t.project=e,t.count=0,t.thisArg=r||t,t}},{"../Subscriber":113}],185:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.mapTo=function(e){return function(t){return t.lift(new i(e))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.value))},s);function s(t){this.value=t}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){this.destination.next(this.value)},c);function c(t,e){t=u.call(this,t)||this;return t.value=e,t}},{"../Subscriber":113}],186:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../Notification");r.materialize=function(){return function(t){return t.lift(new u)}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t))},a);function a(){}var c,l=(c=i.Subscriber,o(f,c),f.prototype._next=function(t){this.destination.next(s.Notification.createNext(t))},f.prototype._error=function(t){var e=this.destination;e.next(s.Notification.createError(t)),e.complete()},f.prototype._complete=function(){var t=this.destination;t.next(s.Notification.createComplete()),t.complete()},f);function f(t){return c.call(this,t)||this}},{"../Notification":105,"../Subscriber":113}],187:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./reduce");r.max=function(r){return n.reduce("function"==typeof r?function(t,e){return 0<r(t,e)?t:e}:function(t,e){return e<t?t:e})}},{"./reduce":205}],188:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/merge");r.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(n.merge.apply(void 0,[t].concat(e)))}}},{"../observable/merge":133}],189:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeMap"),o=t("../util/identity");r.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(o.identity,t)}},{"../util/identity":278,"./mergeMap":190}],190:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("./map"),s=t("../observable/from"),u=t("../innerSubscribe");function a(e,o,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof o?function(t){return t.pipe(a(function(r,n){return s.from(e(r,n)).pipe(i.map(function(t,e){return o(r,t,n,e)}))},r))}:("number"==typeof o&&(r=o),function(t){return t.lift(new c(e,r))})}r.mergeMap=a;var c=(l.prototype.call=function(t,e){return e.subscribe(new p(t,this.project,this.concurrent))},l);function l(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}r.MergeMapOperator=c;var f,p=(f=u.SimpleOuterSubscriber,o(h,f),h.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},h.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)},h.prototype._innerSub=function(t){var e=new u.SimpleInnerSubscriber(this),r=this.destination;r.add(e);t=u.innerSubscribe(t,e);t!==e&&r.add(t)},h.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},h.prototype.notifyNext=function(t){this.destination.next(t)},h.prototype.notifyComplete=function(){var t=this.buffer;this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},h);function h(t,e,r){void 0===r&&(r=Number.POSITIVE_INFINITY);t=f.call(this,t)||this;return t.project=e,t.concurrent=r,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}r.MergeMapSubscriber=p,r.flatMap=a},{"../innerSubscribe":116,"../observable/from":126,"./map":184}],191:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./mergeMap");r.mergeMapTo=function(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?n.mergeMap(function(){return t},e,r):n.mergeMap(function(){return t},r="number"==typeof e?e:r)}},{"./mergeMap":190}],192:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.mergeScan=function(e,r,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(t){return t.lift(new s(e,r,n))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.accumulator,this.seed,this.concurrent))},u);function u(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}r.MergeScanOperator=s;var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=this.destination,n=void 0;try{n=(0,this.accumulator)(this.acc,t,e)}catch(t){return r.error(t)}this.active++,this._innerSub(n)}else this.buffer.push(t)},l.prototype._innerSub=function(t){var e=new i.SimpleInnerSubscriber(this),r=this.destination;r.add(e);t=i.innerSubscribe(t,e);t!==e&&r.add(t)},l.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},l.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},l.prototype.notifyComplete=function(){var t=this.buffer;this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},l);function l(t,e,r,n){t=a.call(this,t)||this;return t.accumulator=e,t.acc=r,t.concurrent=n,t.hasValue=!1,t.hasCompleted=!1,t.buffer=[],t.active=0,t.index=0,t}r.MergeScanSubscriber=c},{"../innerSubscribe":116}],193:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./reduce");r.min=function(r){return n.reduce("function"==typeof r?function(t,e){return r(t,e)<0?t:e}:function(t,e){return t<e?t:e})}},{"./reduce":205}],194:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../observable/ConnectableObservable");r.multicast=function(n,o){return function(t){var e="function"==typeof n?n:function(){return n};if("function"==typeof o)return t.lift(new s(e,o));var r=Object.create(t,i.connectableObservableDescriptor);return r.source=t,r.subjectFactory=e,r}};var s=(n.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),t=r(n).subscribe(t);return t.add(e.subscribe(n)),t},n);function n(t,e){this.subjectFactory=t,this.selector=e}r.MulticastOperator=s},{"../observable/ConnectableObservable":117}],195:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../Notification");r.observeOn=function(e,r){return void 0===r&&(r=0),function(t){return t.lift(new u(e,r))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))},a);function a(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}r.ObserveOnOperator=u;var c,l=(c=i.Subscriber,o(f,c),f.dispatch=function(t){var e=t.notification,t=t.destination;e.observe(t),this.unsubscribe()},f.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(f.dispatch,this.delay,new p(t,this.destination)))},f.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},f.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t)),this.unsubscribe()},f.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete()),this.unsubscribe()},f);function f(t,e,r){void 0===r&&(r=0);t=c.call(this,t)||this;return t.scheduler=e,t.delay=r,t}r.ObserveOnSubscriber=l;var p=function(t,e){this.notification=t,this.destination=e};r.ObserveOnMessage=p},{"../Notification":105,"../Subscriber":113}],196:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../observable/from"),s=t("../util/isArray"),u=t("../innerSubscribe");r.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&s.isArray(e[0])&&(e=e[0]),function(t){return t.lift(new a(e))}},r.onErrorResumeNextStatic=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(t=1===t.length&&s.isArray(t[0])?t[0]:t).shift();return i.from(r).lift(new a(t))};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.nextSources))},c);function c(t){this.nextSources=t}var l,f=(l=u.SimpleOuterSubscriber,o(p,l),p.prototype.notifyError=function(){this.subscribeToNextSource()},p.prototype.notifyComplete=function(){this.subscribeToNextSource()},p.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},p.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},p.prototype.subscribeToNextSource=function(){var t,e,r=this.nextSources.shift();r?(t=new u.SimpleInnerSubscriber(this),(e=this.destination).add(t),(r=u.innerSubscribe(r,t))!==t&&e.add(r)):this.destination.complete()},p);function p(t,e){var r=l.call(this,t)||this;return r.destination=t,r.nextSources=e,r}},{"../innerSubscribe":116,"../observable/from":126,"../util/isArray":279}],197:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.pairwise=function(){return function(t){return t.lift(new i)}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t))},s);function s(){}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},c);function c(t){t=u.call(this,t)||this;return t.hasPrev=!1,t}},{"../Subscriber":113}],198:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/not"),o=t("./filter");r.partition=function(e,r){return function(t){return[o.filter(e,r)(t),o.filter(n.not(e,r))(t)]}}},{"../util/not":291,"./filter":175}],199:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./map");r.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(t){return n.map((o=e,i=r,function(t){for(var e=t,r=0;r<i;r++){var n=null!=e?e[o[r]]:void 0;if(void 0===n)return;e=n}return e}))(t);var o,i}}},{"./map":184}],200:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subject"),o=t("./multicast");r.publish=function(t){return t?o.multicast(function(){return new n.Subject},t):o.multicast(new n.Subject)}},{"../Subject":111,"./multicast":194}],201:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../BehaviorSubject"),o=t("./multicast");r.publishBehavior=function(e){return function(t){return o.multicast(new n.BehaviorSubject(e))(t)}}},{"../BehaviorSubject":103,"./multicast":194}],202:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../AsyncSubject"),o=t("./multicast");r.publishLast=function(){return function(t){return o.multicast(new n.AsyncSubject)(t)}}},{"../AsyncSubject":102,"./multicast":194}],203:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("../ReplaySubject"),u=t("./multicast");r.publishReplay=function(t,e,r,n){var o="function"==typeof r?r:void 0,i=new s.ReplaySubject(t,e,n=r&&"function"!=typeof r?r:n);return function(t){return u.multicast(function(){return i},o)(t)}}},{"../ReplaySubject":109,"./multicast":194}],204:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../util/isArray"),o=t("../observable/race");r.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&n.isArray(e[0])&&(e=e[0]),t.lift.call(o.race.apply(void 0,[t].concat(e)))}}},{"../observable/race":139,"../util/isArray":279}],205:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("./scan"),i=t("./takeLast"),s=t("./defaultIfEmpty"),u=t("../util/pipe");r.reduce=function(n,e){return 2<=arguments.length?function(t){return u.pipe(o.scan(n,e),i.takeLast(1),s.defaultIfEmpty(e))(t)}:function(t){return u.pipe(o.scan(function(t,e,r){return n(t,e,r+1)}),i.takeLast(1))(t)}}},{"../util/pipe":292,"./defaultIfEmpty":162,"./scan":213,"./takeLast":228}],206:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.refCount=function(){return function(t){return t.lift(new i(t))}};var i=(s.prototype.call=function(t,e){var r=this.connectable;r._refCount++;t=new a(t,r),e=e.subscribe(t);return t.closed||(t.connection=r.connect()),e},s);function s(t){this.connectable=t}var u,a=(u=t.Subscriber,o(c,u),c.prototype._unsubscribe=function(){var t,e=this.connectable;e?(this.connectable=null,(t=e._refCount)<=0?this.connection=null:(e._refCount=t-1,1<t?this.connection=null:(t=this.connection,e=e._connection,this.connection=null,!e||t&&e!==t||e.unsubscribe()))):this.connection=null},c);function c(t,e){t=u.call(this,t)||this;return t.connectable=e,t}},{"../Subscriber":113}],207:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../observable/empty");r.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?s.empty():e<0?t.lift(new u(-1,t)):t.lift(new u(e-1,t))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.count,this.source))},a);function a(t,e){this.count=t,this.source=e}var c,l=(c=i.Subscriber,o(f,c),f.prototype.complete=function(){if(!this.isStopped){var t=this.source,e=this.count;if(0===e)return c.prototype.complete.call(this);-1<e&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}},f);function f(t,e,r){t=c.call(this,t)||this;return t.count=e,t.source=r,t}},{"../Subscriber":113,"../observable/empty":124}],208:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subject"),s=t("../innerSubscribe");r.repeatWhen=function(e){return function(t){return t.lift(new u(e))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,e))},a);function a(t){this.notifier=t}var c,l=(c=s.SimpleOuterSubscriber,o(f,c),f.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},f.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return c.prototype.complete.call(this)},f.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return c.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},f.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},f.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,c.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},f.prototype.subscribeToRetries=function(){this.notifications=new i.Subject;try{var t=(0,this.notifier)(this.notifications)}catch(t){return c.prototype.complete.call(this)}this.retries=t,this.retriesSubscription=s.innerSubscribe(t,new s.SimpleInnerSubscriber(this))},f);function f(t,e,r){t=c.call(this,t)||this;return t.notifier=e,t.source=r,t.sourceIsBeingSubscribedTo=!0,t}},{"../Subject":111,"../innerSubscribe":116}],209:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new i(e,t))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.count,this.source))},s);function s(t,e){this.count=t,this.source=e}var u,a=(u=t.Subscriber,o(c,u),c.prototype.error=function(t){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return u.prototype.error.call(this,t);-1<r&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},c);function c(t,e,r){t=u.call(this,t)||this;return t.count=e,t.source=r,t}},{"../Subscriber":113}],210:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subject"),s=t("../innerSubscribe");r.retryWhen=function(e){return function(t){return t.lift(new u(e,t))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.notifier,this.source))},a);function a(t,e){this.notifier=t,this.source=e}var c,l=(c=s.SimpleOuterSubscriber,o(f,c),f.prototype.error=function(t){if(!this.isStopped){var e=this.errors,r=this.retries,n=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{e=new i.Subject;try{r=(0,this.notifier)(e)}catch(t){return c.prototype.error.call(this,t)}n=s.innerSubscribe(r,new s.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=r,this.retriesSubscription=n,e.next(t)}},f.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},f.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},f);function f(t,e,r){t=c.call(this,t)||this;return t.notifier=e,t.source=r,t}},{"../Subject":111,"../innerSubscribe":116}],211:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.sample=function(e){return function(t){return t.lift(new s(e))}};var s=(u.prototype.call=function(t,e){t=new c(t),e=e.subscribe(t);return e.add(i.innerSubscribe(this.notifier,new i.SimpleInnerSubscriber(t))),e},u);function u(t){this.notifier=t}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype._next=function(t){this.value=t,this.hasValue=!0},l.prototype.notifyNext=function(){this.emitValue()},l.prototype.notifyComplete=function(){this.emitValue()},l.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},l);function l(){var t=null!==a&&a.apply(this,arguments)||this;return t.hasValue=!1,t}},{"../innerSubscribe":116}],212:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../scheduler/async");r.sampleTime=function(e,r){return void 0===r&&(r=s.async),function(t){return t.lift(new u(e,r))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.period,this.scheduler))},a);function a(t,e){this.period=t,this.scheduler=e}var c,l=(c=i.Subscriber,o(f,c),f.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},f.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},f);function f(t,e,r){t=c.call(this,t)||this;return t.period=e,t.scheduler=r,t.hasValue=!1,t.add(r.schedule(p,e,{subscriber:t,period:e})),t}function p(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}},{"../Subscriber":113,"../scheduler/async":265}],213:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.scan=function(e,r){var n=2<=arguments.length?!0:!1;return function(t){return t.lift(new i(e,r,n))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},s);function s(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}var u,a=(u=t.Subscriber,o(c,u),Object.defineProperty(c.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),c.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},c.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},c);function c(t,e,r,n){t=u.call(this,t)||this;return t.accumulator=e,t._seed=r,t.hasSeed=n,t.index=0,t}},{"../Subscriber":113}],214:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.sequenceEqual=function(e,r){return function(t){return t.lift(new i(e,r))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.compareTo,this.comparator))},s);function s(t,e){this.compareTo=t,this.comparator=e}r.SequenceEqualOperator=i;var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},c.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},c.prototype.checkValues=function(){for(var t=this._a,e=this._b,r=this.comparator;0<t.length&&0<e.length;){var n=t.shift(),o=e.shift(),i=!1;try{i=r?r(n,o):n===o}catch(t){this.destination.error(t)}i||this.emit(!1)}},c.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},c.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},c.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},c);function c(t,e,r){var n=u.call(this,t)||this;return n.compareTo=e,n.comparator=r,n._a=[],n._b=[],n._oneComplete=!1,n.destination.add(e.subscribe(new f(t,n))),n}r.SequenceEqualSubscriber=a;var l,f=(l=t.Subscriber,o(p,l),p.prototype._next=function(t){this.parent.nextB(t)},p.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},p.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},p);function p(t,e){t=l.call(this,t)||this;return t.parent=e,t}},{"../Subscriber":113}],215:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./multicast"),o=t("./refCount"),i=t("../Subject");function s(){return new i.Subject}r.share=function(){return function(t){return o.refCount()(n.multicast(s)(t))}}},{"../Subject":111,"./multicast":194,"./refCount":206}],216:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var p=t("../ReplaySubject");r.shareReplay=function(t,e,r){var f=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:r};return function(t){return t.lift((t=(e=f).bufferSize,o=void 0===t?Number.POSITIVE_INFINITY:t,t=e.windowTime,i=void 0===t?Number.POSITIVE_INFINITY:t,s=e.refCount,u=e.scheduler,a=0,l=c=!1,function(t){var e;a++,!r||c?(c=!1,r=new p.ReplaySubject(o,i,u),e=r.subscribe(this),n=t.subscribe({next:function(t){r.next(t)},error:function(t){c=!0,r.error(t)},complete:function(){l=!0,n=void 0,r.complete()}}),l&&(n=void 0)):e=r.subscribe(this),this.add(function(){a--,e.unsubscribe(),e=void 0,n&&!l&&s&&0===a&&(n.unsubscribe(),r=n=void 0)})}));var e,r,n,o,i,s,u,a,c,l}}},{"../ReplaySubject":109}],217:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../util/EmptyError");r.single=function(e){return function(t){return t.lift(new u(e,t))}};var u=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.predicate,this.source))},a);function a(t,e){this.predicate=t,this.source=e}var c,l=(c=i.Subscriber,o(f,c),f.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},f.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},f.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},f.prototype._complete=function(){var t=this.destination;0<this.index?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new s.EmptyError)},f);function f(t,e,r){t=c.call(this,t)||this;return t.predicate=e,t.source=r,t.seenValue=!1,t.index=0,t}},{"../Subscriber":113,"../util/EmptyError":271}],218:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.skip=function(e){return function(t){return t.lift(new i(e))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.total))},s);function s(t){this.total=t}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},c);function c(t,e){t=u.call(this,t)||this;return t.total=e,t.count=0,t}},{"../Subscriber":113}],219:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError");r.skipLast=function(e){return function(t){return t.lift(new u(e))}};var u=(a.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new i.Subscriber(t)):e.subscribe(new l(t,this._skipCount))},a);function a(t){if(this._skipCount=t,this._skipCount<0)throw new s.ArgumentOutOfRangeError}var c,l=(c=i.Subscriber,o(f,c),f.prototype._next=function(t){var e,r=this._skipCount,n=this._count++;n<r?this._ring[n]=t:(r=(e=this._ring)[n=n%r],e[n]=t,this.destination.next(r))},f);function f(t,e){t=c.call(this,t)||this;return t._skipCount=e,t._count=0,t._ring=new Array(e),t}},{"../Subscriber":113,"../util/ArgumentOutOfRangeError":270}],220:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.skipUntil=function(e){return function(t){return t.lift(new s(e))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier))},u);function u(t){this.notifier=t}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype._next=function(t){this.hasValue&&a.prototype._next.call(this,t)},l.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},l.prototype.notifyComplete=function(){},l);function l(t,e){var r=a.call(this,t)||this;r.hasValue=!1;t=new i.SimpleInnerSubscriber(r);r.add(t),r.innerSubscription=t;e=i.innerSubscribe(e,t);return e!==t&&(r.add(e),r.innerSubscription=e),r}},{"../innerSubscribe":116}],221:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.skipWhile=function(e){return function(t){return t.lift(new i(e))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate))},s);function s(t){this.predicate=t}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},c.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},c);function c(t,e){t=u.call(this,t)||this;return t.predicate=e,t.skipping=!0,t.index=0,t}},{"../Subscriber":113}],222:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/concat"),o=t("../util/isScheduler");r.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[e.length-1];return o.isScheduler(r)?(e.pop(),function(t){return n.concat(e,t,r)}):function(t){return n.concat(e,t)}}},{"../observable/concat":122,"../util/isScheduler":289}],223:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/SubscribeOnObservable");r.subscribeOn=function(e,r){return void 0===r&&(r=0),function(t){return t.lift(new o(e,r))}};var o=(i.prototype.call=function(t,e){return new n.SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},i);function i(t,e){this.scheduler=t,this.delay=e}},{"../observable/SubscribeOnObservable":118}],224:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./switchMap"),o=t("../util/identity");r.switchAll=function(){return n.switchMap(o.identity)}},{"../util/identity":278,"./switchMap":225}],225:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s=t("./map"),u=t("../observable/from"),i=t("../innerSubscribe");r.switchMap=function e(o,i){return"function"==typeof i?function(t){return t.pipe(e(function(r,n){return u.from(o(r,n)).pipe(s.map(function(t,e){return i(r,t,n,e)}))}))}:function(t){return t.lift(new a(o))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},c);function c(t){this.project=t}var l,f=(l=i.SimpleOuterSubscriber,o(p,l),p.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e)},p.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var r=new i.SimpleInnerSubscriber(this),e=this.destination;e.add(r),this.innerSubscription=i.innerSubscribe(t,r),this.innerSubscription!==r&&e.add(this.innerSubscription)},p.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||l.prototype._complete.call(this),this.unsubscribe()},p.prototype._unsubscribe=function(){this.innerSubscription=void 0},p.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&l.prototype._complete.call(this)},p.prototype.notifyNext=function(t){this.destination.next(t)},p);function p(t,e){t=l.call(this,t)||this;return t.project=e,t.index=0,t}},{"../innerSubscribe":116,"../observable/from":126,"./map":184}],226:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./switchMap");r.switchMapTo=function(t,e){return e?n.switchMap(function(){return t},e):n.switchMap(function(){return t})}},{"./switchMap":225}],227:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/empty");r.take=function(e){return function(t){return 0===e?u.empty():t.lift(new a(e))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.total))},c);function c(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}var l,f=(l=i.Subscriber,o(p,l),p.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},p);function p(t,e){t=l.call(this,t)||this;return t.total=e,t.count=0,t}},{"../Subscriber":113,"../observable/empty":124,"../util/ArgumentOutOfRangeError":270}],228:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../util/ArgumentOutOfRangeError"),u=t("../observable/empty");r.takeLast=function(e){return function(t){return 0===e?u.empty():t.lift(new a(e))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.total))},c);function c(t){if(this.total=t,this.total<0)throw new s.ArgumentOutOfRangeError}var l,f=(l=i.Subscriber,o(p,l),p.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},p.prototype._complete=function(){var t=this.destination,e=this.count;if(0<e)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,o=0;o<r;o++){var i=e++%r;t.next(n[i])}t.complete()},p);function p(t,e){t=l.call(this,t)||this;return t.total=e,t.ring=new Array,t.count=0,t}},{"../Subscriber":113,"../observable/empty":124,"../util/ArgumentOutOfRangeError":270}],229:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../innerSubscribe");r.takeUntil=function(e){return function(t){return t.lift(new s(e))}};var s=(u.prototype.call=function(t,e){var r=new c(t),t=i.innerSubscribe(this.notifier,new i.SimpleInnerSubscriber(r));return t&&!r.seenValue?(r.add(t),e.subscribe(r)):r},u);function u(t){this.notifier=t}var a,c=(a=i.SimpleOuterSubscriber,o(l,a),l.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},l.prototype.notifyComplete=function(){},l);function l(t){t=a.call(this,t)||this;return t.seenValue=!1,t}},{"../innerSubscribe":116}],230:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});t=t("../Subscriber");r.takeWhile=function(e,r){return void 0===r&&(r=!1),function(t){return t.lift(new i(e,r))}};var i=(s.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.inclusive))},s);function s(t,e){this.predicate=t,this.inclusive=e}var u,a=(u=t.Subscriber,o(c,u),c.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},c.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):(this.inclusive&&r.next(t),r.complete())},c);function c(t,e,r){t=u.call(this,t)||this;return t.predicate=e,t.inclusive=r,t.index=0,t}},{"../Subscriber":113}],231:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../util/noop"),u=t("../util/isFunction");r.tap=function(e,r,n){return function(t){return t.lift(new a(e,r,n))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.nextOrObserver,this.error,this.complete))},c);function c(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}var l,f=(l=i.Subscriber,o(p,l),p.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},p.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},p.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},p);function p(t,e,r,n){t=l.call(this,t)||this;return t._tapNext=s.noop,t._tapError=s.noop,t._tapComplete=s.noop,t._tapError=r||s.noop,t._tapComplete=n||s.noop,u.isFunction(e)?(t._context=t)._tapNext=e:e&&(t._context=e,t._tapNext=e.next||s.noop,t._tapError=e.error||s.noop,t._tapComplete=e.complete||s.noop),t}},{"../Subscriber":113,"../util/isFunction":282,"../util/noop":290}],232:[function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(n,"__esModule",{value:!0});var i=t("../innerSubscribe");n.defaultThrottleConfig={leading:!0,trailing:!1},n.throttle=function(e,r){return void 0===r&&(r=n.defaultThrottleConfig),function(t){return t.lift(new s(e,!!r.leading,!!r.trailing))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.durationSelector,this.leading,this.trailing))},u);function u(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}var a,c=(a=i.SimpleOuterSubscriber,r(l,a),l.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},l.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},l.prototype.throttle=function(t){t=this.tryDurationSelector(t);t&&this.add(this._throttled=i.innerSubscribe(t,new i.SimpleInnerSubscriber(this)))},l.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},l.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},l.prototype.notifyNext=function(){this.throttlingDone()},l.prototype.notifyComplete=function(){this.throttlingDone()},l);function l(t,e,r,n){var o=a.call(this,t)||this;return o.destination=t,o.durationSelector=e,o._leading=r,o._trailing=n,o._hasValue=!1,o}},{"../innerSubscribe":116}],233:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),s=t("../scheduler/async"),u=t("./throttle");r.throttleTime=function(e,r,n){return void 0===r&&(r=s.async),void 0===n&&(n=u.defaultThrottleConfig),function(t){return t.lift(new a(e,r,n.leading,n.trailing))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.duration,this.scheduler,this.leading,this.trailing))},c);function c(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}var l,f=(l=i.Subscriber,o(p,l),p.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(h,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},p.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},p.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},p);function p(t,e,r,n,o){t=l.call(this,t)||this;return t.duration=e,t.scheduler=r,t.leading=n,t.trailing=o,t._hasTrailingValue=!1,t._trailingValue=null,t}function h(t){t.subscriber.clearThrottle()}},{"../Subscriber":113,"../scheduler/async":265,"./throttle":232}],234:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../util/EmptyError"),t=t("../Subscriber");r.throwIfEmpty=function(e){return void 0===e&&(e=f),function(t){return t.lift(new s(e))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new c(t,this.errorFactory))},u);function u(t){this.errorFactory=t}var a,c=(a=t.Subscriber,o(l,a),l.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},l.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var e=void 0;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)},l);function l(t,e){t=a.call(this,t)||this;return t.errorFactory=e,t.hasValue=!1,t}function f(){return new i.EmptyError}},{"../Subscriber":113,"../util/EmptyError":271}],235:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),o=t("./scan"),i=t("../observable/defer"),s=t("./map");r.timeInterval=function(r){return void 0===r&&(r=n.async),function(t){return i.defer(function(){return t.pipe(o.scan(function(t,e){t=t.current;return{value:e,current:r.now(),last:t}},{current:r.now(),value:void 0,last:void 0}),s.map(function(t){var e=t.current,r=t.last,t=t.value;return new u(t,e-r)}))})}};var u=function(t,e){this.value=t,this.interval=e};r.TimeInterval=u},{"../observable/defer":123,"../scheduler/async":265,"./map":184,"./scan":213}],236:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),o=t("../util/TimeoutError"),i=t("./timeoutWith"),s=t("../observable/throwError");r.timeout=function(t,e){return void 0===e&&(e=n.async),i.timeoutWith(t,s.throwError(new o.TimeoutError),e)}},{"../observable/throwError":141,"../scheduler/async":265,"../util/TimeoutError":274,"./timeoutWith":237}],237:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var s=t("../scheduler/async"),u=t("../util/isDate"),i=t("../innerSubscribe");r.timeoutWith=function(n,o,i){return void 0===i&&(i=s.async),function(t){var e=u.isDate(n),r=e?+n-i.now():Math.abs(n);return t.lift(new a(r,e,o,i))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},c);function c(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}var l,f=(l=i.SimpleOuterSubscriber,o(p,l),p.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(i.innerSubscribe(e,new i.SimpleInnerSubscriber(t)))},p.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(p.dispatchTimeout,this.waitFor,this))},p.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),l.prototype._next.call(this,t)},p.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},p);function p(t,e,r,n,o){t=l.call(this,t)||this;return t.absoluteTimeout=e,t.waitFor=r,t.withObservable=n,t.scheduler=o,t.scheduleTimeout(),t}},{"../innerSubscribe":116,"../scheduler/async":265,"../util/isDate":281}],238:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../scheduler/async"),o=t("./map");r.timestamp=function(e){return void 0===e&&(e=n.async),o.map(function(t){return new i(t,e.now())})};var i=function(t,e){this.value=t,this.timestamp=e};r.Timestamp=i},{"../scheduler/async":265,"./map":184}],239:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./reduce");function o(t,e,r){return 0===r?[e]:(t.push(e),t)}r.toArray=function(){return n.reduce(o,[])}},{"./reduce":205}],240:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subject"),s=t("../innerSubscribe");r.window=function(e){return function(t){return t.lift(new u(e))}};var u=(a.prototype.call=function(t,e){t=new l(t),e=e.subscribe(t);return e.closed||t.add(s.innerSubscribe(this.windowBoundaries,new s.SimpleInnerSubscriber(t))),e},a);function a(t){this.windowBoundaries=t}var c,l=(c=s.SimpleOuterSubscriber,o(f,c),f.prototype.notifyNext=function(){this.openWindow()},f.prototype.notifyError=function(t){this._error(t)},f.prototype.notifyComplete=function(){this._complete()},f.prototype._next=function(t){this.window.next(t)},f.prototype._error=function(t){this.window.error(t),this.destination.error(t)},f.prototype._complete=function(){this.window.complete(),this.destination.complete()},f.prototype._unsubscribe=function(){this.window=null},f.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,t=this.window=new i.Subject;e.next(t)},f);function f(t){var e=c.call(this,t)||this;return e.window=new i.Subject,t.next(e.window),e}},{"../Subject":111,"../innerSubscribe":116}],241:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber"),u=t("../Subject");r.windowCount=function(e,r){return void 0===r&&(r=0),function(t){return t.lift(new s(e,r))}};var s=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.windowSize,this.startWindowEvery))},a);function a(t,e){this.windowSize=t,this.startWindowEvery=e}var c,l=(c=i.Subscriber,o(f,c),f.prototype._next=function(t){for(var e=0<this.startWindowEvery?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,o=this.windows,i=o.length,s=0;s<i&&!this.closed;s++)o[s].next(t);n=this.count-n+1;0<=n&&n%e==0&&!this.closed&&o.shift().complete(),++this.count%e!=0||this.closed||(e=new u.Subject,o.push(e),r.next(e))},f.prototype._error=function(t){var e=this.windows;if(e)for(;0<e.length&&!this.closed;)e.shift().error(t);this.destination.error(t)},f.prototype._complete=function(){var t=this.windows;if(t)for(;0<t.length&&!this.closed;)t.shift().complete();this.destination.complete()},f.prototype._unsubscribe=function(){this.count=0,this.windows=null},f);function f(t,e,r){var n=c.call(this,t)||this;return n.destination=t,n.windowSize=e,n.startWindowEvery=r,n.windows=[new u.Subject],n.count=0,t.next(n.windows[0]),n}},{"../Subject":111,"../Subscriber":113}],242:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subject"),s=t("../scheduler/async"),u=t("../Subscriber"),a=t("../util/isNumeric"),c=t("../util/isScheduler");r.windowTime=function(e){var r=s.async,n=null,o=Number.POSITIVE_INFINITY;return c.isScheduler(arguments[3])&&(r=arguments[3]),c.isScheduler(arguments[2])?r=arguments[2]:a.isNumeric(arguments[2])&&(o=Number(arguments[2])),c.isScheduler(arguments[1])?r=arguments[1]:a.isNumeric(arguments[1])&&(n=Number(arguments[1])),function(t){return t.lift(new l(e,n,o,r))}};var l=(f.prototype.call=function(t,e){return e.subscribe(new _(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},f);function f(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}var p,h=(p=i.Subject,o(d,p),d.prototype.next=function(t){this._numberOfNextedValues++,p.prototype.next.call(this,t)},Object.defineProperty(d.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),d);function d(){var t=null!==p&&p.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}var b,_=(b=u.Subscriber,o(y,b),y.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var o=e[n];o.closed||(o.next(t),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},y.prototype._error=function(t){for(var e=this.windows;0<e.length;)e.shift().error(t);this.destination.error(t)},y.prototype._complete=function(){for(var t=this.windows;0<t.length;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},y.prototype.openWindow=function(){var t=new h;return this.windows.push(t),this.destination.next(t),t},y.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},y);function y(t,e,r,n,o){var i=b.call(this,t)||this;i.destination=t,i.windowTimeSpan=e,i.windowCreationInterval=r,i.maxWindowSize=n,i.scheduler=o,i.windows=[];t=i.openWindow();return null!==r&&0<=r?(n={windowTimeSpan:e,windowCreationInterval:r,subscriber:i,scheduler:o},i.add(o.schedule(g,e,{subscriber:i,window:t,context:null})),i.add(o.schedule(m,r,n))):i.add(o.schedule(v,e,{subscriber:i,window:t,windowTimeSpan:e})),i}function v(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function m(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,o=t.windowCreationInterval,i=r.openWindow(),s={action:this,subscription:null};s.subscription=n.schedule(g,e,{subscriber:r,window:i,context:s}),this.add(s.subscription),this.schedule(t,o)}function g(t){var e=t.subscriber,r=t.window,t=t.context;t&&t.action&&t.subscription&&t.action.remove(t.subscription),e.closeWindow(r)}},{"../Subject":111,"../Subscriber":113,"../scheduler/async":265,"../util/isNumeric":285,"../util/isScheduler":289}],243:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var a=t("../Subject"),c=t("../Subscription"),i=t("../OuterSubscriber"),l=t("../util/subscribeToResult");r.windowToggle=function(e,r){return function(t){return t.lift(new s(e,r))}};var s=(u.prototype.call=function(t,e){return e.subscribe(new p(t,this.openings,this.closingSelector))},u);function u(t,e){this.openings=t,this.closingSelector=e}var f,p=(f=i.OuterSubscriber,o(h,f),h.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},h.prototype._error=function(t){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var o=e[n];o.window.error(t),o.subscription.unsubscribe()}f.prototype._error.call(this,t)},h.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.complete(),n.subscription.unsubscribe()}f.prototype._complete.call(this)},h.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},h.prototype.notifyNext=function(t,e,r,n,o){if(t===this.openings){var i=void 0;try{i=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var s=new a.Subject,u=new c.Subscription,e={window:s,subscription:u};this.contexts.push(e);i=l.subscribeToResult(this,i,e);i.closed?this.closeWindow(this.contexts.length-1):(i.context=e,u.add(i)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},h.prototype.notifyError=function(t){this.error(t)},h.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},h.prototype.closeWindow=function(t){var e,r,n;-1!==t&&(r=(n=(e=this.contexts)[t]).window,n=n.subscription,e.splice(t,1),r.complete(),n.unsubscribe())},h);function h(t,e,r){t=f.call(this,t)||this;return t.openings=e,t.closingSelector=r,t.contexts=[],t.add(t.openSubscription=l.subscribeToResult(t,e,e)),t}},{"../OuterSubscriber":108,"../Subject":111,"../Subscription":114,"../util/subscribeToResult":298}],244:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subject"),s=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.windowWhen=function(e){return function(t){return t.lift(new a(e))}};var a=(c.prototype.call=function(t,e){return e.subscribe(new f(t,this.closingSelector))},c);function c(t){this.closingSelector=t}var l,f=(l=s.OuterSubscriber,o(p,l),p.prototype.notifyNext=function(t,e,r,n,o){this.openWindow(o)},p.prototype.notifyError=function(t){this._error(t)},p.prototype.notifyComplete=function(t){this.openWindow(t)},p.prototype._next=function(t){this.window.next(t)},p.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},p.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},p.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},p.prototype.openWindow=function(t){(t=void 0===t?null:t)&&(this.remove(t),t.unsubscribe());t=this.window;t&&t.complete();t=this.window=new i.Subject;this.destination.next(t);try{var e=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=u.subscribeToResult(this,e))},p);function p(t,e){var r=l.call(this,t)||this;return r.destination=t,r.closingSelector=e,r.openWindow(),r}},{"../OuterSubscriber":108,"../Subject":111,"../util/subscribeToResult":298}],245:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../OuterSubscriber"),u=t("../util/subscribeToResult");r.withLatestFrom=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return function(t){var e;"function"==typeof r[r.length-1]&&(e=r.pop());return t.lift(new s(r,e))}};var s=(a.prototype.call=function(t,e){return e.subscribe(new l(t,this.observables,this.project))},a);function a(t,e){this.observables=t,this.project=e}var c,l=(c=i.OuterSubscriber,o(f,c),f.prototype.notifyNext=function(t,e,r){this.values[r]=e;e=this.toRespond;0<e.length&&(-1!==(r=e.indexOf(r))&&e.splice(r,1))},f.prototype.notifyComplete=function(){},f.prototype._next=function(t){0===this.toRespond.length&&(t=[t].concat(this.values),this.project?this._tryProject(t):this.destination.next(t))},f.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},f);function f(t,e,r){var n=c.call(this,t)||this;n.observables=e,n.project=r,n.toRespond=[];var o=e.length;n.values=new Array(o);for(var i=0;i<o;i++)n.toRespond.push(i);for(i=0;i<o;i++){var s=e[i];n.add(u.subscribeToResult(n,s,void 0,i))}return n}},{"../OuterSubscriber":108,"../util/subscribeToResult":298}],246:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/zip");r.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(n.zip.apply(void 0,[t].concat(e)))}}},{"../observable/zip":144}],247:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../observable/zip");r.zipAll=function(e){return function(t){return t.lift(new n.ZipOperator(e))}}},{"../observable/zip":144}],248:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Observable"),s=t("../Subscription");r.scheduleArray=function(n,o){return new i.Observable(function(t){var e=new s.Subscription,r=0;return e.add(o.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||e.add(this.schedule())):t.complete()})),e})}},{"../Observable":106,"../Subscription":114}],249:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable"),i=t("../Subscription"),s=t("../symbol/iterator");r.scheduleIterable=function(e,r){if(!e)throw new Error("Iterable cannot be null");return new n.Observable(function(n){var o,t=new i.Subscription;return t.add(function(){o&&"function"==typeof o.return&&o.return()}),t.add(r.schedule(function(){o=e[s.iterator](),t.add(r.schedule(function(){if(!n.closed){try{var t=o.next(),e=t.value,r=t.done}catch(t){return void n.error(t)}r?n.complete():(n.next(e),this.schedule())}}))})),t})}},{"../Observable":106,"../Subscription":114,"../symbol/iterator":267}],250:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Observable"),s=t("../Subscription"),u=t("../symbol/observable");r.scheduleObservable=function(n,o){return new i.Observable(function(e){var r=new s.Subscription;return r.add(o.schedule(function(){var t=n[u.observable]();r.add(t.subscribe({next:function(t){r.add(o.schedule(function(){return e.next(t)}))},error:function(t){r.add(o.schedule(function(){return e.error(t)}))},complete:function(){r.add(o.schedule(function(){return e.complete()}))}}))})),r})}},{"../Observable":106,"../Subscription":114,"../symbol/observable":268}],251:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Observable"),i=t("../Subscription");r.schedulePromise=function(t,n){return new o.Observable(function(e){var r=new i.Subscription;return r.add(n.schedule(function(){return t.then(function(t){r.add(n.schedule(function(){e.next(t),r.add(n.schedule(function(){return e.complete()}))}))},function(t){r.add(n.schedule(function(){return e.error(t)}))})})),r})}},{"../Observable":106,"../Subscription":114}],252:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./scheduleObservable"),o=t("./schedulePromise"),i=t("./scheduleArray"),s=t("./scheduleIterable"),u=t("../util/isInteropObservable"),a=t("../util/isPromise"),c=t("../util/isArrayLike"),l=t("../util/isIterable");r.scheduled=function(t,e){if(null!=t){if(u.isInteropObservable(t))return n.scheduleObservable(t,e);if(a.isPromise(t))return o.schedulePromise(t,e);if(c.isArrayLike(t))return i.scheduleArray(t,e);if(l.isIterable(t)||"string"==typeof t)return s.scheduleIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},{"../util/isArrayLike":280,"../util/isInteropObservable":283,"../util/isIterable":284,"../util/isPromise":288,"./scheduleArray":248,"./scheduleIterable":249,"./scheduleObservable":250,"./schedulePromise":251}],253:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("../Subscription"),o=(i=t.Subscription,o(s,i),s.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},s);function s(t,e){return i.call(this)||this}r.Action=o},{"../Subscription":114}],254:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./AsyncAction"),o=(i=t.AsyncAction,o(s,i),s.prototype.requestAsyncId=function(t,e,r){return null!==(r=void 0===r?0:r)&&0<r?i.prototype.requestAsyncId.call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))},s.prototype.recycleAsyncId=function(t,e,r){if(null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay)return i.prototype.recycleAsyncId.call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)},s);function s(t,e){var r=i.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}r.AnimationFrameAction=o},{"./AsyncAction":258}],255:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./AsyncScheduler"),o=(i=t.AsyncScheduler,o(s,i),s.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,o=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},s);function s(){return null!==i&&i.apply(this,arguments)||this}r.AnimationFrameScheduler=o},{"./AsyncScheduler":259}],256:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("../util/Immediate"),t=t("./AsyncAction"),o=(i=t.AsyncAction,o(u,i),u.prototype.requestAsyncId=function(t,e,r){return null!==(r=void 0===r?0:r)&&0<r?i.prototype.requestAsyncId.call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s.Immediate.setImmediate(t.flush.bind(t,null))))},u.prototype.recycleAsyncId=function(t,e,r){if(null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay)return i.prototype.recycleAsyncId.call(this,t,e,r);0===t.actions.length&&(s.Immediate.clearImmediate(e),t.scheduled=void 0)},u);function u(t,e){var r=i.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}r.AsapAction=o},{"../util/Immediate":272,"./AsyncAction":258}],257:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./AsyncScheduler"),o=(i=t.AsyncScheduler,o(s,i),s.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,o=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},s);function s(){return null!==i&&i.apply(this,arguments)||this}r.AsapScheduler=o},{"./AsyncScheduler":259}],258:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./Action"),o=(i=t.Action,o(s,i),s.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,t=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(t,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(t,this.id,e),this},s.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},s.prototype.recycleAsyncId=function(t,e,r){if(null!==(r=void 0===r?0:r)&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},s.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;e=this._execute(t,e);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},s.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},s.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},s);function s(t,e){var r=i.call(this,t,e)||this;return r.scheduler=t,r.work=e,r.pending=!1,r}r.AsyncAction=o},{"./Action":253}],259:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("../Scheduler"),o=(i=s.Scheduler,o(u,i),u.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),u.delegate&&u.delegate!==this?u.delegate.schedule(t,e,r):i.prototype.schedule.call(this,t,e,r)},u.prototype.flush=function(t){var e,r=this.actions;if(this.active)r.push(t);else{this.active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=r.shift());if(this.active=!1,e){for(;t=r.shift();)t.unsubscribe();throw e}}},u);function u(t,e){void 0===e&&(e=s.Scheduler.now);var r=i.call(this,t,function(){return u.delegate&&u.delegate!==r?u.delegate.now():e()})||this;return r.actions=[],r.active=!1,r.scheduled=void 0,r}r.AsyncScheduler=o},{"../Scheduler":110}],260:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./AsyncAction"),o=(i=t.AsyncAction,o(s,i),s.prototype.schedule=function(t,e){return 0<(e=void 0===e?0:e)?i.prototype.schedule.call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)},s.prototype.execute=function(t,e){return 0<e||this.closed?i.prototype.execute.call(this,t,e):this._execute(t,e)},s.prototype.requestAsyncId=function(t,e,r){return null!==(r=void 0===r?0:r)&&0<r||null===r&&0<this.delay?i.prototype.requestAsyncId.call(this,t,e,r):t.flush(this)},s);function s(t,e){var r=i.call(this,t,e)||this;return r.scheduler=t,r.work=e,r}r.QueueAction=o},{"./AsyncAction":258}],261:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,t=t("./AsyncScheduler"),o=(i=t.AsyncScheduler,o(s,i),s);function s(){return null!==i&&i.apply(this,arguments)||this}r.QueueScheduler=o},{"./AsyncScheduler":259}],262:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i,s=t("./AsyncAction"),t=t("./AsyncScheduler"),t=(i=t.AsyncScheduler,o(u,i),u.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},u.frameTimeFactor=10,u);function u(t,e){void 0===t&&(t=c),void 0===e&&(e=Number.POSITIVE_INFINITY);var r=i.call(this,t,function(){return r.frame})||this;return r.maxFrames=e,r.frame=0,r.index=-1,r}r.VirtualTimeScheduler=t;var a,c=(a=s.AsyncAction,o(l,a),l.prototype.schedule=function(t,e){if(void 0===e&&(e=0),!this.id)return a.prototype.schedule.call(this,t,e);this.active=!1;var r=new l(this.scheduler,this.work);return this.add(r),r.schedule(t,e)},l.prototype.requestAsyncId=function(t,e,r){this.delay=t.frame+(r=void 0===r?0:r);t=t.actions;return t.push(this),t.sort(l.sortActions),!0},l.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},l.prototype._execute=function(t,e){if(!0===this.active)return a.prototype._execute.call(this,t,e)},l.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},l);function l(t,e,r){void 0===r&&(r=t.index+=1);var n=a.call(this,t,e)||this;return n.scheduler=t,n.work=e,n.index=r,n.active=!0,n.index=t.index=r,n}r.VirtualAction=c},{"./AsyncAction":258,"./AsyncScheduler":259}],263:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./AnimationFrameAction"),t=t("./AnimationFrameScheduler");r.animationFrameScheduler=new t.AnimationFrameScheduler(n.AnimationFrameAction),r.animationFrame=r.animationFrameScheduler},{"./AnimationFrameAction":254,"./AnimationFrameScheduler":255}],264:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./AsapAction"),t=t("./AsapScheduler");r.asapScheduler=new t.AsapScheduler(n.AsapAction),r.asap=r.asapScheduler},{"./AsapAction":256,"./AsapScheduler":257}],265:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./AsyncAction"),t=t("./AsyncScheduler");r.asyncScheduler=new t.AsyncScheduler(n.AsyncAction),r.async=r.asyncScheduler},{"./AsyncAction":258,"./AsyncScheduler":259}],266:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./QueueAction"),t=t("./QueueScheduler");r.queueScheduler=new t.QueueScheduler(n.QueueAction),r.queue=r.queueScheduler},{"./QueueAction":260,"./QueueScheduler":261}],267:[function(t,e,r){"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(r,"__esModule",{value:!0}),r.getSymbolIterator=n,r.iterator=n(),r.$$iterator=r.iterator},{}],268:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},{}],269:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),r.$$rxSubscriber=r.rxSubscriber},{}],270:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype=Object.create(Error.prototype),o);function o(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}r.ArgumentOutOfRangeError=n},{}],271:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype=Object.create(Error.prototype),o);function o(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}r.EmptyError=n},{}],272:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=1,o=Promise.resolve(),i={};function s(t){return t in i&&(delete i[t],!0)}r.Immediate={setImmediate:function(t){var e=n++;return i[e]=!0,o.then(function(){return s(e)&&t()}),e},clearImmediate:function(t){s(t)}},r.TestTools={pending:function(){return Object.keys(i).length}}},{}],273:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype=Object.create(Error.prototype),o);function o(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}r.ObjectUnsubscribedError=n},{}],274:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype=Object.create(Error.prototype),o);function o(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}r.TimeoutError=n},{}],275:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=(o.prototype=Object.create(Error.prototype),o);function o(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}r.UnsubscriptionError=n},{}],276:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../Subscriber");r.canReportError=function(t){for(;t;){var e=t.closed,r=t.destination,n=t.isStopped;if(e||n)return!1;t=r&&r instanceof o.Subscriber?r:null}return!0}},{"../Subscriber":113}],277:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hostReportError=function(t){setTimeout(function(){throw t},0)}},{}],278:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.identity=function(t){return t}},{}],279:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],280:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},{}],281:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isDate=function(t){return t instanceof Date&&!isNaN(+t)}},{}],282:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=function(t){return"function"==typeof t}},{}],283:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../symbol/observable");r.isInteropObservable=function(t){return t&&"function"==typeof t[n.observable]}},{"../symbol/observable":268}],284:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../symbol/iterator");r.isIterable=function(t){return t&&"function"==typeof t[n.iterator]}},{"../symbol/iterator":267}],285:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./isArray");r.isNumeric=function(t){return!n.isArray(t)&&0<=t-parseFloat(t)+1}},{"./isArray":279}],286:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isObject=function(t){return null!==t&&"object"==typeof t}},{}],287:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Observable");r.isObservable=function(t){return!!t&&(t instanceof n.Observable||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},{"../Observable":106}],288:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},{}],289:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=function(t){return t&&"function"==typeof t.schedule}},{}],290:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.noop=function(){}},{}],291:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.not=function(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}},{}],292:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./identity");function o(e){return 0===e.length?n.identity:1===e.length?e[0]:function(t){return e.reduce(function(t,e){return e(t)},t)}}r.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)},r.pipeFromArray=o},{"./identity":278}],293:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./subscribeToArray"),o=t("./subscribeToPromise"),i=t("./subscribeToIterable"),s=t("./subscribeToObservable"),u=t("./isArrayLike"),a=t("./isPromise"),c=t("./isObject"),l=t("../symbol/iterator"),f=t("../symbol/observable");r.subscribeTo=function(t){if(t&&"function"==typeof t[f.observable])return s.subscribeToObservable(t);if(u.isArrayLike(t))return n.subscribeToArray(t);if(a.isPromise(t))return o.subscribeToPromise(t);if(t&&"function"==typeof t[l.iterator])return i.subscribeToIterable(t);t=c.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},{"../symbol/iterator":267,"../symbol/observable":268,"./isArrayLike":280,"./isObject":286,"./isPromise":288,"./subscribeToArray":294,"./subscribeToIterable":295,"./subscribeToObservable":296,"./subscribeToPromise":297}],294:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeToArray=function(n){return function(t){for(var e=0,r=n.length;e<r&&!t.closed;e++)t.next(n[e]);t.complete()}}},{}],295:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("../symbol/iterator");r.subscribeToIterable=function(n){return function(e){for(var t=n[o.iterator]();;){var r=void 0;try{r=t.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof t.return&&e.add(function(){t.return&&t.return()}),e}}},{"../symbol/iterator":267}],296:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../symbol/observable");r.subscribeToObservable=function(r){return function(t){var e=r[n.observable]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)}}},{"../symbol/observable":268}],297:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./hostReportError");r.subscribeToPromise=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,n.hostReportError),e}}},{"./hostReportError":277}],298:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i=t("../InnerSubscriber"),s=t("./subscribeTo"),u=t("../Observable");r.subscribeToResult=function(t,e,r,n,o){if(!(o=void 0===o?new i.InnerSubscriber(t,r,n):o).closed)return e instanceof u.Observable?e.subscribe(o):s.subscribeTo(e)(o)}},{"../InnerSubscriber":104,"../Observable":106,"./subscribeTo":293}],299:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subscriber"),o=t("../symbol/rxSubscriber"),i=t("../Observer");r.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(i.empty)}},{"../Observer":107,"../Subscriber":113,"../symbol/rxSubscriber":269}],300:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../internal/operators/audit");r.audit=n.audit;n=t("../internal/operators/auditTime");r.auditTime=n.auditTime;n=t("../internal/operators/buffer");r.buffer=n.buffer;n=t("../internal/operators/bufferCount");r.bufferCount=n.bufferCount;n=t("../internal/operators/bufferTime");r.bufferTime=n.bufferTime;n=t("../internal/operators/bufferToggle");r.bufferToggle=n.bufferToggle;n=t("../internal/operators/bufferWhen");r.bufferWhen=n.bufferWhen;n=t("../internal/operators/catchError");r.catchError=n.catchError;n=t("../internal/operators/combineAll");r.combineAll=n.combineAll;n=t("../internal/operators/combineLatest");r.combineLatest=n.combineLatest;n=t("../internal/operators/concat");r.concat=n.concat;n=t("../internal/operators/concatAll");r.concatAll=n.concatAll;n=t("../internal/operators/concatMap");r.concatMap=n.concatMap;n=t("../internal/operators/concatMapTo");r.concatMapTo=n.concatMapTo;n=t("../internal/operators/count");r.count=n.count;n=t("../internal/operators/debounce");r.debounce=n.debounce;n=t("../internal/operators/debounceTime");r.debounceTime=n.debounceTime;n=t("../internal/operators/defaultIfEmpty");r.defaultIfEmpty=n.defaultIfEmpty;n=t("../internal/operators/delay");r.delay=n.delay;n=t("../internal/operators/delayWhen");r.delayWhen=n.delayWhen;n=t("../internal/operators/dematerialize");r.dematerialize=n.dematerialize;n=t("../internal/operators/distinct");r.distinct=n.distinct;n=t("../internal/operators/distinctUntilChanged");r.distinctUntilChanged=n.distinctUntilChanged;n=t("../internal/operators/distinctUntilKeyChanged");r.distinctUntilKeyChanged=n.distinctUntilKeyChanged;n=t("../internal/operators/elementAt");r.elementAt=n.elementAt;n=t("../internal/operators/endWith");r.endWith=n.endWith;n=t("../internal/operators/every");r.every=n.every;n=t("../internal/operators/exhaust");r.exhaust=n.exhaust;n=t("../internal/operators/exhaustMap");r.exhaustMap=n.exhaustMap;n=t("../internal/operators/expand");r.expand=n.expand;n=t("../internal/operators/filter");r.filter=n.filter;n=t("../internal/operators/finalize");r.finalize=n.finalize;n=t("../internal/operators/find");r.find=n.find;n=t("../internal/operators/findIndex");r.findIndex=n.findIndex;n=t("../internal/operators/first");r.first=n.first;n=t("../internal/operators/groupBy");r.groupBy=n.groupBy;n=t("../internal/operators/ignoreElements");r.ignoreElements=n.ignoreElements;n=t("../internal/operators/isEmpty");r.isEmpty=n.isEmpty;n=t("../internal/operators/last");r.last=n.last;n=t("../internal/operators/map");r.map=n.map;n=t("../internal/operators/mapTo");r.mapTo=n.mapTo;n=t("../internal/operators/materialize");r.materialize=n.materialize;n=t("../internal/operators/max");r.max=n.max;n=t("../internal/operators/merge");r.merge=n.merge;n=t("../internal/operators/mergeAll");r.mergeAll=n.mergeAll;n=t("../internal/operators/mergeMap");r.mergeMap=n.mergeMap,r.flatMap=n.flatMap;n=t("../internal/operators/mergeMapTo");r.mergeMapTo=n.mergeMapTo;n=t("../internal/operators/mergeScan");r.mergeScan=n.mergeScan;n=t("../internal/operators/min");r.min=n.min;n=t("../internal/operators/multicast");r.multicast=n.multicast;n=t("../internal/operators/observeOn");r.observeOn=n.observeOn;n=t("../internal/operators/onErrorResumeNext");r.onErrorResumeNext=n.onErrorResumeNext;n=t("../internal/operators/pairwise");r.pairwise=n.pairwise;n=t("../internal/operators/partition");r.partition=n.partition;n=t("../internal/operators/pluck");r.pluck=n.pluck;n=t("../internal/operators/publish");r.publish=n.publish;n=t("../internal/operators/publishBehavior");r.publishBehavior=n.publishBehavior;n=t("../internal/operators/publishLast");r.publishLast=n.publishLast;n=t("../internal/operators/publishReplay");r.publishReplay=n.publishReplay;n=t("../internal/operators/race");r.race=n.race;n=t("../internal/operators/reduce");r.reduce=n.reduce;n=t("../internal/operators/repeat");r.repeat=n.repeat;n=t("../internal/operators/repeatWhen");r.repeatWhen=n.repeatWhen;n=t("../internal/operators/retry");r.retry=n.retry;n=t("../internal/operators/retryWhen");r.retryWhen=n.retryWhen;n=t("../internal/operators/refCount");r.refCount=n.refCount;n=t("../internal/operators/sample");r.sample=n.sample;n=t("../internal/operators/sampleTime");r.sampleTime=n.sampleTime;n=t("../internal/operators/scan");r.scan=n.scan;n=t("../internal/operators/sequenceEqual");r.sequenceEqual=n.sequenceEqual;n=t("../internal/operators/share");r.share=n.share;n=t("../internal/operators/shareReplay");r.shareReplay=n.shareReplay;n=t("../internal/operators/single");r.single=n.single;n=t("../internal/operators/skip");r.skip=n.skip;n=t("../internal/operators/skipLast");r.skipLast=n.skipLast;n=t("../internal/operators/skipUntil");r.skipUntil=n.skipUntil;n=t("../internal/operators/skipWhile");r.skipWhile=n.skipWhile;n=t("../internal/operators/startWith");r.startWith=n.startWith;n=t("../internal/operators/subscribeOn");r.subscribeOn=n.subscribeOn;n=t("../internal/operators/switchAll");r.switchAll=n.switchAll;n=t("../internal/operators/switchMap");r.switchMap=n.switchMap;n=t("../internal/operators/switchMapTo");r.switchMapTo=n.switchMapTo;n=t("../internal/operators/take");r.take=n.take;n=t("../internal/operators/takeLast");r.takeLast=n.takeLast;n=t("../internal/operators/takeUntil");r.takeUntil=n.takeUntil;n=t("../internal/operators/takeWhile");r.takeWhile=n.takeWhile;n=t("../internal/operators/tap");r.tap=n.tap;n=t("../internal/operators/throttle");r.throttle=n.throttle;n=t("../internal/operators/throttleTime");r.throttleTime=n.throttleTime;n=t("../internal/operators/throwIfEmpty");r.throwIfEmpty=n.throwIfEmpty;n=t("../internal/operators/timeInterval");r.timeInterval=n.timeInterval;n=t("../internal/operators/timeout");r.timeout=n.timeout;n=t("../internal/operators/timeoutWith");r.timeoutWith=n.timeoutWith;n=t("../internal/operators/timestamp");r.timestamp=n.timestamp;n=t("../internal/operators/toArray");r.toArray=n.toArray;n=t("../internal/operators/window");r.window=n.window;n=t("../internal/operators/windowCount");r.windowCount=n.windowCount;n=t("../internal/operators/windowTime");r.windowTime=n.windowTime;n=t("../internal/operators/windowToggle");r.windowToggle=n.windowToggle;n=t("../internal/operators/windowWhen");r.windowWhen=n.windowWhen;n=t("../internal/operators/withLatestFrom");r.withLatestFrom=n.withLatestFrom;n=t("../internal/operators/zip");r.zip=n.zip;t=t("../internal/operators/zipAll");r.zipAll=t.zipAll},{"../internal/operators/audit":145,"../internal/operators/auditTime":146,"../internal/operators/buffer":147,"../internal/operators/bufferCount":148,"../internal/operators/bufferTime":149,"../internal/operators/bufferToggle":150,"../internal/operators/bufferWhen":151,"../internal/operators/catchError":152,"../internal/operators/combineAll":153,"../internal/operators/combineLatest":154,"../internal/operators/concat":155,"../internal/operators/concatAll":156,"../internal/operators/concatMap":157,"../internal/operators/concatMapTo":158,"../internal/operators/count":159,"../internal/operators/debounce":160,"../internal/operators/debounceTime":161,"../internal/operators/defaultIfEmpty":162,"../internal/operators/delay":163,"../internal/operators/delayWhen":164,"../internal/operators/dematerialize":165,"../internal/operators/distinct":166,"../internal/operators/distinctUntilChanged":167,"../internal/operators/distinctUntilKeyChanged":168,"../internal/operators/elementAt":169,"../internal/operators/endWith":170,"../internal/operators/every":171,"../internal/operators/exhaust":172,"../internal/operators/exhaustMap":173,"../internal/operators/expand":174,"../internal/operators/filter":175,"../internal/operators/finalize":176,"../internal/operators/find":177,"../internal/operators/findIndex":178,"../internal/operators/first":179,"../internal/operators/groupBy":180,"../internal/operators/ignoreElements":181,"../internal/operators/isEmpty":182,"../internal/operators/last":183,"../internal/operators/map":184,"../internal/operators/mapTo":185,"../internal/operators/materialize":186,"../internal/operators/max":187,"../internal/operators/merge":188,"../internal/operators/mergeAll":189,"../internal/operators/mergeMap":190,"../internal/operators/mergeMapTo":191,"../internal/operators/mergeScan":192,"../internal/operators/min":193,"../internal/operators/multicast":194,"../internal/operators/observeOn":195,"../internal/operators/onErrorResumeNext":196,"../internal/operators/pairwise":197,"../internal/operators/partition":198,"../internal/operators/pluck":199,"../internal/operators/publish":200,"../internal/operators/publishBehavior":201,"../internal/operators/publishLast":202,"../internal/operators/publishReplay":203,"../internal/operators/race":204,"../internal/operators/reduce":205,"../internal/operators/refCount":206,"../internal/operators/repeat":207,"../internal/operators/repeatWhen":208,"../internal/operators/retry":209,"../internal/operators/retryWhen":210,"../internal/operators/sample":211,"../internal/operators/sampleTime":212,"../internal/operators/scan":213,"../internal/operators/sequenceEqual":214,"../internal/operators/share":215,"../internal/operators/shareReplay":216,"../internal/operators/single":217,"../internal/operators/skip":218,"../internal/operators/skipLast":219,"../internal/operators/skipUntil":220,"../internal/operators/skipWhile":221,"../internal/operators/startWith":222,"../internal/operators/subscribeOn":223,"../internal/operators/switchAll":224,"../internal/operators/switchMap":225,"../internal/operators/switchMapTo":226,"../internal/operators/take":227,"../internal/operators/takeLast":228,"../internal/operators/takeUntil":229,"../internal/operators/takeWhile":230,"../internal/operators/tap":231,"../internal/operators/throttle":232,"../internal/operators/throttleTime":233,"../internal/operators/throwIfEmpty":234,"../internal/operators/timeInterval":235,"../internal/operators/timeout":236,"../internal/operators/timeoutWith":237,"../internal/operators/timestamp":238,"../internal/operators/toArray":239,"../internal/operators/window":240,"../internal/operators/windowCount":241,"../internal/operators/windowTime":242,"../internal/operators/windowToggle":243,"../internal/operators/windowWhen":244,"../internal/operators/withLatestFrom":245,"../internal/operators/zip":246,"../internal/operators/zipAll":247}],301:[function(t,e,r){"use strict";var n=t("safe-buffer").Buffer,o=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===o||!o(t)))throw new Error("Unknown encoding: "+t);return e||t}function s(t){var e;switch(this.encoding=i(t),this.encoding){case"utf16le":this.text=c,this.end=l,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=f,this.end=p,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function u(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e,r,n=this.lastTotal-this.lastNeed,e=(e=this,128!=(192&(r=t)[0])?(e.lastNeed=0,""):1<e.lastNeed&&1<r.length?128!=(192&r[1])?(e.lastNeed=1,""):2<e.lastNeed&&2<r.length&&128!=(192&r[2])?(e.lastNeed=2,""):void 0:void 0);return void 0!==e?e:this.lastNeed<=t.length?(t.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,n,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);var r=t.toString("utf16le",e);if(r){e=r.charCodeAt(r.length-1);if(55296<=e&&e<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}function l(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function f(t,e){var r=(t.length-e)%3;return 0==r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1==r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function p(t){t=t&&t.length?this.write(t):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}(r.StringDecoder=s).prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},s.prototype.end=function(t){t=t&&t.length?this.write(t):"";return this.lastNeed?t+"":t},s.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var o=u(e[n]);if(0<=o)return 0<o&&(t.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if(0<=(o=u(e[n])))return 0<o&&(t.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if(0<=(o=u(e[n])))return 0<o&&(2===o?o=0:t.lastNeed=o-3),o;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;r=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},s.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},{"safe-buffer":302}],302:[function(t,e,r){var n=t("buffer"),o=n.Buffer;function i(t,e){for(var r in t)e[r]=t[r]}function s(t,e,r){return o(t,e,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(i(n,r),r.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return o(t,e,r)},s.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");t=o(t);return void 0!==e?"string"==typeof r?t.fill(e,r):t.fill(e):t.fill(0),t},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return o(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},{buffer:99}],303:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.WRITE=r.READ=r.Driver=void 0;var o=n(t("@babel/runtime/helpers/classCallCheck")),i=n(t("@babel/runtime/helpers/createClass")),s=n(t("@babel/runtime/helpers/inherits")),u=n(t("@babel/runtime/helpers/possibleConstructorReturn")),a=n(t("@babel/runtime/helpers/getPrototypeOf")),c=t("neo4j-driver-core"),l=n(t("./session-rx"));function f(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=(0,a.default)(r);return e=n?(t=(0,a.default)(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),(0,u.default)(this,e)}}var p=c.internal.constants.FETCH_ALL,t=c.driver.READ,h=c.driver.WRITE;r.WRITE=h,r.READ=t;c=function(t){(0,s.default)(r,t);var e=f(r);function r(){return(0,o.default)(this,r),e.apply(this,arguments)}return(0,i.default)(r,[{key:"rxSession",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultAccessMode,r=t.bookmarks,n=t.database,o=t.fetchSize,t=t.impersonatedUser;return new l.default({session:this._newSession({defaultAccessMode:void 0===e?h:e,bookmarkOrBookmarks:r,database:void 0===n?"":n,impersonatedUser:t,reactive:!0,fetchSize:function(t,e){t=parseInt(t,10);{if(0<t||t===p)return t;if(0===t||t<0)throw new Error("The fetch size can only be a positive value or ".concat(p," for ALL. However fetchSize = ").concat(t));return e}}(o,this._config.fetchSize)}),config:this._config})}}]),r}(c.Driver);r.Driver=c,r.default=c},{"./session-rx":307,"@babel/runtime/helpers/classCallCheck":90,"@babel/runtime/helpers/createClass":91,"@babel/runtime/helpers/getPrototypeOf":92,"@babel/runtime/helpers/inherits":93,"@babel/runtime/helpers/interopRequireDefault":94,"@babel/runtime/helpers/possibleConstructorReturn":95,"neo4j-driver-core":60}],304:[function(w,t,S){!function(O){!function(){"use strict";var t=w("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(S,"__esModule",{value:!0}),S.driver=u,Object.defineProperty(S,"Driver",{enumerable:!0,get:function(){return a.Driver}}),Object.defineProperty(S,"Neo4jError",{enumerable:!0,get:function(){return r.Neo4jError}}),Object.defineProperty(S,"error",{enumerable:!0,get:function(){return r.error}}),Object.defineProperty(S,"Integer",{enumerable:!0,get:function(){return r.Integer}}),Object.defineProperty(S,"int",{enumerable:!0,get:function(){return r.int}}),Object.defineProperty(S,"isInt",{enumerable:!0,get:function(){return r.isInt}}),Object.defineProperty(S,"isPoint",{enumerable:!0,get:function(){return r.isPoint}}),Object.defineProperty(S,"Point",{enumerable:!0,get:function(){return r.Point}}),Object.defineProperty(S,"Date",{enumerable:!0,get:function(){return r.Date}}),Object.defineProperty(S,"DateTime",{enumerable:!0,get:function(){return r.DateTime}}),Object.defineProperty(S,"Duration",{enumerable:!0,get:function(){return r.Duration}}),Object.defineProperty(S,"isDate",{enumerable:!0,get:function(){return r.isDate}}),Object.defineProperty(S,"isDateTime",{enumerable:!0,get:function(){return r.isDateTime}}),Object.defineProperty(S,"isDuration",{enumerable:!0,get:function(){return r.isDuration}}),Object.defineProperty(S,"isLocalDateTime",{enumerable:!0,get:function(){return r.isLocalDateTime}}),Object.defineProperty(S,"isLocalTime",{enumerable:!0,get:function(){return r.isLocalTime}}),Object.defineProperty(S,"isTime",{enumerable:!0,get:function(){return r.isTime}}),Object.defineProperty(S,"LocalDateTime",{enumerable:!0,get:function(){return r.LocalDateTime}}),Object.defineProperty(S,"LocalTime",{enumerable:!0,get:function(){return r.LocalTime}}),Object.defineProperty(S,"Time",{enumerable:!0,get:function(){return r.Time}}),Object.defineProperty(S,"Node",{enumerable:!0,get:function(){return r.Node}}),Object.defineProperty(S,"Path",{enumerable:!0,get:function(){return r.Path}}),Object.defineProperty(S,"PathSegment",{enumerable:!0,get:function(){return r.PathSegment}}),Object.defineProperty(S,"Relationship",{enumerable:!0,get:function(){return r.Relationship}}),Object.defineProperty(S,"UnboundRelationship",{enumerable:!0,get:function(){return r.UnboundRelationship}}),Object.defineProperty(S,"Record",{enumerable:!0,get:function(){return r.Record}}),Object.defineProperty(S,"ResultSummary",{enumerable:!0,get:function(){return r.ResultSummary}}),Object.defineProperty(S,"Plan",{enumerable:!0,get:function(){return r.Plan}}),Object.defineProperty(S,"ProfiledPlan",{enumerable:!0,get:function(){return r.ProfiledPlan}}),Object.defineProperty(S,"QueryStatistics",{enumerable:!0,get:function(){return r.QueryStatistics}}),Object.defineProperty(S,"Notification",{enumerable:!0,get:function(){return r.Notification}}),Object.defineProperty(S,"ServerInfo",{enumerable:!0,get:function(){return r.ServerInfo}}),Object.defineProperty(S,"Result",{enumerable:!0,get:function(){return r.Result}}),Object.defineProperty(S,"auth",{enumerable:!0,get:function(){return r.auth}}),Object.defineProperty(S,"Session",{enumerable:!0,get:function(){return r.Session}}),Object.defineProperty(S,"Transaction",{enumerable:!0,get:function(){return r.Transaction}}),Object.defineProperty(S,"RxSession",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(S,"RxTransaction",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(S,"RxResult",{enumerable:!0,get:function(){return i.default}}),S.default=S.temporal=S.spatial=S.session=S.types=S.logging=S.integer=void 0;var a=w("./driver"),e=t(w("./version")),r=w("neo4j-driver-core"),c=w("neo4j-driver-bolt-connection"),n=t(w("./session-rx")),o=t(w("./transaction-rx")),i=t(w("./result-rx")),s=r.internal.util,l=s.ENCRYPTION_ON,f=(s.ENCRYPTION_OFF,s.assertString),p=s.isEmptyObjectOrNull,h=r.internal.serverAddress.ServerAddress,d=r.internal.urlUtil;function u(t,o){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};f(t,"Bolt URL");var r,i=d.parseDatabaseUrl(t),n=!1,s=!1;switch(i.scheme){case"bolt":break;case"bolt+s":s=!0,r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":s=!0,r="TRUST_ALL_CERTIFICATES";break;case"neo4j":n=!0;break;case"neo4j+s":r="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",n=s=!0;break;case"neo4j+ssc":r="TRUST_ALL_CERTIFICATES",n=s=!0;break;default:throw new Error("Unknown scheme: ".concat(i.scheme))}if(s){if("encrypted"in e||"trust"in e)throw new Error("Encryption/trust can only be configured either through URL or config, not both");e.encrypted=l,e.trust=r}(o=o||{}).scheme=o.scheme||"none",e.userAgent=e.userAgent||_;var u=h.fromUrl(i.hostAndPort);return new a.Driver({address:u,typename:n?"Routing":"Direct",routing:n},e,function(){{if(n)return function(t,e,r,n){return new c.RoutingConnectionProvider({id:t,config:e,log:r,hostNameResolver:n,authToken:o,address:u,userAgent:e.userAgent,routingContext:i.query})};if(!p(i.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(t,"'"));return function(t,e,r){return new c.DirectConnectionProvider({id:t,config:e,log:r,authToken:o,address:u,userAgent:e.userAgent})}}}())}var b,_="neo4j-javascript/"+e.default,y={console:(b=function(t){return{level:t,logger:function(t,e){return console.log("".concat(O.Date.now()," ").concat(t.toUpperCase()," ").concat(e))}}},v.toString=function(){return b.toString()},v)};function v(t){return b.apply(this,arguments)}S.logging=y;var m={Node:r.Node,Relationship:r.Relationship,UnboundRelationship:r.UnboundRelationship,PathSegment:r.PathSegment,Path:r.Path,Result:r.Result,ResultSummary:r.ResultSummary,Record:r.Record,Point:r.Point,Date:r.Date,DateTime:r.DateTime,Duration:r.Duration,LocalDateTime:r.LocalDateTime,LocalTime:r.LocalTime,Time:r.Time,Integer:r.Integer};S.types=m;var g={READ:a.READ,WRITE:a.WRITE};S.session=g;t={toNumber:r.toNumber,toString:r.toString,inSafeRange:r.inSafeRange};S.integer=t;s={isPoint:r.isPoint};S.spatial=s;e={isDuration:r.isDuration,isLocalTime:r.isLocalTime,isTime:r.isTime,isDate:r.isDate,isLocalDateTime:r.isLocalDateTime,isDateTime:r.isDateTime};S.temporal=e;e={driver:u,int:r.int,isInt:r.isInt,isPoint:r.isPoint,isDuration:r.isDuration,isLocalTime:r.isLocalTime,isTime:r.isTime,isDate:r.isDate,isLocalDateTime:r.isLocalDateTime,isDateTime:r.isDateTime,integer:t,Neo4jError:r.Neo4jError,auth:r.auth,logging:y,types:m,session:g,error:r.error,spatial:s,temporal:e,Driver:a.Driver,Session:r.Session,Transaction:r.Transaction,Result:r.Result,RxSession:n.default,RxTransaction:o.default,RxResult:i.default,ResultSummary:r.ResultSummary,Plan:r.Plan,ProfiledPlan:r.ProfiledPlan,QueryStatistics:r.QueryStatistics,Notification:r.Notification,ServerInfo:r.ServerInfo,Record:r.Record,Node:r.Node,Relationship:r.Relationship,UnboundRelationship:r.UnboundRelationship,Path:r.Path,PathSegment:r.PathSegment,Point:r.Point,Integer:r.Integer,Duration:r.Duration,LocalTime:r.LocalTime,Time:r.Time,Date:r.Date,LocalDateTime:r.LocalDateTime,DateTime:r.DateTime};S.default=e}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./driver":303,"./result-rx":306,"./session-rx":307,"./transaction-rx":308,"./version":309,"@babel/runtime/helpers/interopRequireDefault":94,"neo4j-driver-bolt-connection":38,"neo4j-driver-core":60}],305:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var s=n(t("@babel/runtime/helpers/classCallCheck")),o=n(t("@babel/runtime/helpers/createClass")),u=t("neo4j-driver-core"),a=t("rxjs"),c=t("rxjs/operators"),l=(u.internal.logger.Logger,u.internal.retryStrategy.canRetryOn),f=u.error.SERVICE_UNAVAILABLE,p=(u.error.SESSION_EXPIRED,3e4),h=1e3,d=2,b=.2;function _(t,e){return t||0===t?t:e}r.default=function(){function i(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.maxRetryTimeout,r=void 0===e?p:e,n=t.initialDelay,o=void 0===n?h:n,e=t.delayMultiplier,n=void 0===e?d:e,e=t.delayJitter,e=void 0===e?b:e,t=t.logger,t=void 0===t?null:t;(0,s.default)(this,i),this._maxRetryTimeout=_(r,p),this._initialDelay=_(o,h),this._delayMultiplier=_(n,d),this._delayJitter=_(e,b),this._logger=t}return(0,o.default)(i,[{key:"retry",value:function(t){var s=this;return t.pipe((0,c.retryWhen)(function(t){var r=[],n=Date.now(),o=1,i=s._initialDelay;return t.pipe((0,c.flatMap)(function(t){if(!l(t))return(0,a.throwError)(t);if(r.push(t),2<=o&&Date.now()-n>=s._maxRetryTimeout){var e=(0,u.newError)("Failed after retried for ".concat(o," times in ").concat(s._maxRetryTimeout," ms. Make sure that your database is online and retry again."),f);return e.seenErrors=r,(0,a.throwError)(e)}e=s._computeNextDelay(i);return i*=s._delayMultiplier,o++,s._logger&&s._logger.warn("Transaction failed and will be retried in ".concat(e)),(0,a.of)(1).pipe((0,c.delay)(e))}))}))}},{key:"_computeNextDelay",value:function(t){var e=t*this._delayJitter;return t-e+2*e*Math.random()}}]),i}()},{"@babel/runtime/helpers/classCallCheck":90,"@babel/runtime/helpers/createClass":91,"@babel/runtime/helpers/interopRequireDefault":94,"neo4j-driver-core":60,rxjs:101,"rxjs/operators":300}],306:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(t("@babel/runtime/helpers/classCallCheck")),i=n(t("@babel/runtime/helpers/createClass")),s=t("neo4j-driver-core"),u=t("rxjs"),a=t("rxjs/operators"),c={READY:0,STREAMING:1,COMPLETED:2};r.default=function(){function e(t){(0,o.default)(this,e);t=t.pipe((0,a.publishReplay)(1),(0,a.refCount)());this._result=t,this._keys=t.pipe((0,a.flatMap)(function(t){return(0,u.from)(t.keys())}),(0,a.publishReplay)(1),(0,a.refCount)()),this._records=new u.Subject,this._summary=new u.ReplaySubject,this._state=c.READY}return(0,i.default)(e,[{key:"keys",value:function(){return this._keys}},{key:"records",value:function(){var r=this;return this._result.pipe((0,a.flatMap)(function(e){return new u.Observable(function(t){return r._startStreaming({result:e,recordsObserver:t})})}))}},{key:"consume",value:function(){var r=this;return this._result.pipe((0,a.flatMap)(function(e){return new u.Observable(function(t){return r._startStreaming({result:e,summaryObserver:t})})}))}},{key:"_startStreaming",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.result,n=t.recordsObserver,n=void 0===n?null:n,t=t.summaryObserver,t=void 0===t?null:t,o=[];return t&&o.push(this._summary.subscribe(t)),this._state<c.STREAMING?(this._state=c.STREAMING,n&&o.push(this._records.subscribe(n)),o.push({unsubscribe:function(){r._cancel&&r._cancel()}}),0===this._records.observers.length&&r._cancel(),r.subscribe({onNext:function(t){e._records.next(t)},onCompleted:function(t){e._records.complete(),e._summary.next(t),e._summary.complete(),e._state=c.COMPLETED},onError:function(t){e._records.error(t),e._summary.error(t),e._state=c.COMPLETED}})):n&&n.error((0,s.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){o.forEach(function(t){return t.unsubscribe()})}}}]),e}()},{"@babel/runtime/helpers/classCallCheck":90,"@babel/runtime/helpers/createClass":91,"@babel/runtime/helpers/interopRequireDefault":94,"neo4j-driver-core":60,rxjs:101,"rxjs/operators":300}],307:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(t("@babel/runtime/helpers/classCallCheck")),i=n(t("@babel/runtime/helpers/createClass")),s=t("rxjs"),u=t("rxjs/operators"),a=n(t("./result-rx")),c=t("neo4j-driver-core"),l=n(t("./transaction-rx")),f=n(t("./internal/retry-logic-rx")),t=c.internal.constants,p=t.ACCESS_MODE_READ,h=t.ACCESS_MODE_WRITE,d=c.internal.txConfig.TxConfig;r.default=function(){function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.session,t=t.config;(0,o.default)(this,r),this._session=e,this._retryLogic=function(t){t=t&&t.maxTransactionRetryTime?t.maxTransactionRetryTime:null;return new f.default({maxRetryTimeout:t})}(t)}return(0,i.default)(r,[{key:"run",value:function(t,r,n){var o=this;return new a.default(new s.Observable(function(e){try{e.next(o._session.run(t,r,n)),e.complete()}catch(t){e.error(t)}return function(){}}))}},{key:"beginTransaction",value:function(t){return this._beginTransaction(this._session._mode,t)}},{key:"readTransaction",value:function(t,e){return this._runTransaction(p,t,e)}},{key:"writeTransaction",value:function(t,e){return this._runTransaction(h,t,e)}},{key:"close",value:function(){var t=this;return new s.Observable(function(e){t._session.close().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}},{key:"lastBookmark",value:function(){return this._session.lastBookmark()}},{key:"_beginTransaction",value:function(t,e){var r=this,n=d.empty();return e&&(n=new d(e)),new s.Observable(function(e){try{e.next(new l.default(r._session._beginTransaction(t,n))),e.complete()}catch(t){e.error(t)}return function(){}})}},{key:"_runTransaction",value:function(t,r,e){d.empty();return e&&new d(e),this._retryLogic.retry(this._beginTransaction(t,e).pipe((0,u.flatMap)(function(e){return(0,s.defer)(function(){try{return r(e)}catch(t){return(0,s.throwError)(t)}}).pipe((0,u.catchError)(function(t){return e.rollback().pipe((0,u.concat)((0,s.throwError)(t)))}),(0,u.concat)(e.commit()))})))}}]),r}()},{"./internal/retry-logic-rx":305,"./result-rx":306,"./transaction-rx":308,"@babel/runtime/helpers/classCallCheck":90,"@babel/runtime/helpers/createClass":91,"@babel/runtime/helpers/interopRequireDefault":94,"neo4j-driver-core":60,rxjs:101,"rxjs/operators":300}],308:[function(t,e,r){"use strict";var n=t("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=n(t("@babel/runtime/helpers/classCallCheck")),i=n(t("@babel/runtime/helpers/createClass")),s=t("rxjs"),u=n(t("./result-rx"));n(t("neo4j-driver-core"));r.default=function(){function e(t){(0,o.default)(this,e),this._txc=t}return(0,i.default)(e,[{key:"run",value:function(t,r){var n=this;return new u.default(new s.Observable(function(e){try{e.next(n._txc.run(t,r)),e.complete()}catch(t){e.error(t)}return function(){}}))}},{key:"commit",value:function(){var t=this;return new s.Observable(function(e){t._txc.commit().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}},{key:"rollback",value:function(){var t=this;return new s.Observable(function(e){t._txc.rollback().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}},{key:"close",value:function(){var t=this;return new s.Observable(function(e){t._txc.close().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}}]),e}()},{"./result-rx":306,"@babel/runtime/helpers/classCallCheck":90,"@babel/runtime/helpers/createClass":91,"@babel/runtime/helpers/interopRequireDefault":94,"neo4j-driver-core":60,rxjs:101}],309:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;r.default="4.4.11"},{}]},{},[304])(304)});
=======
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).neo4j=t()}(this,function(){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function D(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var U,L,F={},B={},e={},t={},n=r&&r.__extends||(U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),W=(Object.defineProperty(t,"__esModule",{value:!0}),t.PROTOCOL_ERROR=t.SESSION_EXPIRED=t.SERVICE_UNAVAILABLE=t.Neo4jError=t.isRetriableError=t.newError=void 0,"ServiceUnavailable"),q=(t.SERVICE_UNAVAILABLE=W,"SessionExpired"),z=(t.SESSION_EXPIRED=q,t.PROTOCOL_ERROR="ProtocolError",L=Error,n(V,L),V.isRetriable=function(e){return null!=e&&e instanceof V&&e.retriable},V);function V(e,t,r){e=L.call(this,e,null!=r?{cause:r}:void 0)||this;return e.constructor=V,e.__proto__=V.prototype,e.code=t,e.name="Neo4jError",e.retriable=(r=t)===W||r===q||"Neo.ClientError.Security.AuthorizationExpired"===r||function(e){return!0===(null==e?void 0:e.includes("TransientError"))}(r),e}t.Neo4jError=z,t.newError=function(e,t,r){return new z(e,null!=t?t:"N/A",r)};n=z.isRetriable;t.isRetriableError=n;var n={},H=(Object.defineProperty(n,"__esModule",{value:!0}),n.toString=n.toNumber=n.inSafeRange=n.isInt=n.int=void 0,t),G=new Map,o=(d.prototype.inSafeRange=function(){return this.greaterThanOrEqual(d.MIN_SAFE_VALUE)&&this.lessThanOrEqual(d.MAX_SAFE_VALUE)},d.prototype.toInt=function(){return this.low},d.prototype.toNumber=function(){return this.high*Y+(this.low>>>0)},d.prototype.toBigInt=function(){var e;return this.isZero()?BigInt(0):this.isPositive()?BigInt(this.high>>>0)*BigInt(Y)+BigInt(this.low>>>0):(e=this.negate(),BigInt(-1)*(BigInt(e.high>>>0)*BigInt(Y)+BigInt(e.low>>>0)))},d.prototype.toNumberOrInfinity=function(){return this.lessThan(d.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(d.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},d.prototype.toString=function(e){if((e=null!=e?e:10)<2||36<e)throw RangeError("radix out of range: "+e.toString());if(this.isZero())return"0";var t,r,n;if(this.isNegative())return this.equals(d.MIN_VALUE)?(t=d.fromNumber(e),n=(r=this.div(t)).multiply(t).subtract(this),r.toString(e)+n.toInt().toString(e)):"-"+this.negate().toString(e);for(var o=d.fromNumber(Math.pow(e,6)),i=(n=this,"");;){var u=n.div(o),a=(n.subtract(u.multiply(o)).toInt()>>>0).toString(e);if((n=u).isZero())return a+i;for(;a.length<6;)a="0"+a;i=""+a+i}},d.prototype.valueOf=function(){return this.toBigInt()},d.prototype.getHighBits=function(){return this.high},d.prototype.getLowBits=function(){return this.low},d.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(d.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high?this.high:this.low,t=0,t=31;0<t&&0==(e&1<<t);t--);return 0!==this.high?t+33:t+1},d.prototype.isZero=function(){return 0===this.high&&0===this.low},d.prototype.isNegative=function(){return this.high<0},d.prototype.isPositive=function(){return 0<=this.high},d.prototype.isOdd=function(){return 1==(1&this.low)},d.prototype.isEven=function(){return 0==(1&this.low)},d.prototype.equals=function(e){e=d.fromValue(e);return this.high===e.high&&this.low===e.low},d.prototype.notEquals=function(e){return!this.equals(e)},d.prototype.lessThan=function(e){return this.compare(e)<0},d.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},d.prototype.greaterThan=function(e){return 0<this.compare(e)},d.prototype.greaterThanOrEqual=function(e){return 0<=this.compare(e)},d.prototype.compare=function(e){e=d.fromValue(e);if(this.equals(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r||(t||!r)&&this.subtract(e).isNegative()?-1:1},d.prototype.negate=function(){return this.equals(d.MIN_VALUE)?d.MIN_VALUE:this.not().add(d.ONE)},d.prototype.add=function(e){var e=d.fromValue(e),t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,i=e.high>>>16,u=65535&e.high,a=e.low>>>16,s=0,c=0,l=0,f=0;return c+=(l=l+((f+=o+(65535&e.low))>>>16)+(n+a))>>>16,d.fromBits((l&=65535)<<16|(f&=65535),((s+=(c+=r+u)>>>16)+(t+i)&65535)<<16|(c&=65535))},d.prototype.subtract=function(e){e=d.fromValue(e);return this.add(e.negate())},d.prototype.multiply=function(e){if(this.isZero())return d.ZERO;e=d.fromValue(e);if(e.isZero())return d.ZERO;if(this.equals(d.MIN_VALUE))return e.isOdd()?d.MIN_VALUE:d.ZERO;if(e.equals(d.MIN_VALUE))return this.isOdd()?d.MIN_VALUE:d.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(Z)&&e.lessThan(Z))return d.fromNumber(this.toNumber()*e.toNumber());var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,i=e.high>>>16,u=65535&e.high,a=e.low>>>16,e=65535&e.low,s=0,c=0,l=0,f=(f=0)+((c=c+((l+=o*e)>>>16)+n*e)>>>16)+((c=(c&65535)+o*a)>>>16);return d.fromBits((c&=65535)<<16|(l&=65535),((s+=(f+=r*e)>>>16)+((f=(f&65535)+n*a)>>>16)+((f=(f&65535)+o*u)>>>16)+(t*e+r*a+n*u+o*i)&65535)<<16|(f&=65535))},d.prototype.div=function(e){var t,r,n,o=d.fromValue(e);if(o.isZero())throw(0,H.newError)("division by zero");if(this.isZero())return d.ZERO;{if(this.equals(d.MIN_VALUE))return o.equals(d.ONE)||o.equals(d.NEG_ONE)?d.MIN_VALUE:o.equals(d.MIN_VALUE)?d.ONE:(n=this.shiftRight(1).div(o).shiftLeft(1)).equals(d.ZERO)?o.isNegative()?d.ONE:d.NEG_ONE:(t=this.subtract(o.multiply(n)),n.add(t.div(o)));if(o.equals(d.MIN_VALUE))return d.ZERO}if(this.isNegative())return o.isNegative()?this.negate().div(o.negate()):this.negate().div(o).negate();if(o.isNegative())return this.div(o.negate()).negate();for(r=d.ZERO,t=this;t.greaterThanOrEqual(o);){n=Math.max(1,Math.floor(t.toNumber()/o.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),u=i<=48?1:Math.pow(2,i-48),a=d.fromNumber(n),s=a.multiply(o);s.isNegative()||s.greaterThan(t);)s=(a=d.fromNumber(n-=u)).multiply(o);a.isZero()&&(a=d.ONE),r=r.add(a),t=t.subtract(s)}return r},d.prototype.modulo=function(e){e=d.fromValue(e);return this.subtract(this.div(e).multiply(e))},d.prototype.not=function(){return d.fromBits(~this.low,~this.high)},d.prototype.and=function(e){e=d.fromValue(e);return d.fromBits(this.low&e.low,this.high&e.high)},d.prototype.or=function(e){e=d.fromValue(e);return d.fromBits(this.low|e.low,this.high|e.high)},d.prototype.xor=function(e){e=d.fromValue(e);return d.fromBits(this.low^e.low,this.high^e.high)},d.prototype.shiftLeft=function(e){e=d.toNumber(e);return 0==(e&=63)?d.ZERO:e<32?d.fromBits(this.low<<e,this.high<<e|this.low>>>32-e):d.fromBits(0,this.low<<e-32)},d.prototype.shiftRight=function(e){var t=d.toNumber(e),e=d.toNumber(e);return 0==(t&=63)?d.ZERO:e<32?d.fromBits(this.low>>>t|this.high<<32-t,this.high>>t):d.fromBits(this.high>>t-32,0<=this.high?0:-1)},d.isInteger=function(e){return!0===(null==e?void 0:e.__isInteger__)},d.fromInt=function(e){if(-128<=(e|=0)&&e<128&&null!=(t=G.get(e)))return t;var t=new d(e,e<0?-1:0);return-128<=e&&e<128&&G.set(e,t),t},d.fromBits=function(e,t){return new d(e,t)},d.fromNumber=function(e){return isNaN(e)||!isFinite(e)?d.ZERO:e<=-K?d.MIN_VALUE:K<=e+1?d.MAX_VALUE:e<0?d.fromNumber(-e).negate():new d(e%Y|0,e/Y|0)},d.fromString=function(e,t,r){var n=(void 0===r?{}:r).strictStringValidation;if(0===e.length)throw(0,H.newError)("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return d.ZERO;if((t=null!=t?t:10)<2||36<t)throw(0,H.newError)("radix out of range: "+t.toString());if(0<(r=e.indexOf("-")))throw(0,H.newError)('number format error: interior "-" character: '+e);if(0===r)return d.fromString(e.substring(1),t).negate();for(var o,i,u=d.fromNumber(Math.pow(t,8)),a=d.ZERO,s=0;s<e.length;s+=8){var c,l=Math.min(8,e.length-s),f=e.substring(s,s+l),p=parseInt(f,t);if(!0===n&&(o=f,c=p,i=t,Number.isNaN(o)||Number.isNaN(c)||function(e,t,r){e=e.toString(t),t=Math.max(r-e.length,0),r="0".repeat(t);return"".concat(r).concat(e)}(c,i,o.length)!==o.toLowerCase()))throw(0,H.newError)('number format error: "'.concat(f,'" is NaN in radix ').concat(t,": ").concat(e));a=l<8?(c=d.fromNumber(Math.pow(t,l)),a.multiply(c).add(d.fromNumber(p))):(a=a.multiply(u)).add(d.fromNumber(p))}return a},d.fromValue=function(e,t){return void 0===t&&(t={}),e instanceof d?e:"number"==typeof e?(!0===t.ceilFloat&&(e=Math.ceil(e)),d.fromNumber(e)):"string"==typeof e?d.fromString(e,void 0,t):"bigint"==typeof e?d.fromString(e.toString()):new d(e.low,e.high)},d.toNumber=function(e){switch(typeof e){case"number":return e;case"bigint":return Number(e);default:return d.fromValue(e).toNumber()}},d.toString=function(e,t){return d.fromValue(e).toString(t)},d.inSafeRange=function(e){return d.fromValue(e).inSafeRange()},d.ZERO=d.fromInt(0),d.ONE=d.fromInt(1),d.NEG_ONE=d.fromInt(-1),d.MAX_VALUE=d.fromBits(-1,2147483647),d.MIN_VALUE=d.fromBits(0,-2147483648),d.MIN_SAFE_VALUE=d.fromBits(1,-2097152),d.MAX_SAFE_VALUE=d.fromBits(-1,2097151),d.__isInteger__=!0,d);function d(e,t){this.low=null!=e?e:0,this.high=null!=t?t:0}Object.defineProperty(o.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var Y=4294967296,K=Y*Y/2,Z=o.fromInt(1<<24),i=o.fromValue,i=(n.int=i,o.isInteger),i=(n.isInt=i,o.inSafeRange),i=(n.inSafeRange=i,o.toNumber),i=(n.toNumber=i,o.toString),i=(n.toString=i,n.default=o,{}),o={},u={},X={},Q={},J=(Object.defineProperty(Q,"__esModule",{value:!0}),Q.getBrokenObjectReason=Q.isBrokenObject=Q.createBrokenObject=void 0,"__isBrokenObject__"),$="__reason__";Q.createBrokenObject=function(r,e){function n(){throw r}return void 0===e&&(e={}),new Proxy(e,{get:function(e,t){return t===J||(t===$?r:void("toJSON"!==t&&n()))},set:n,apply:n,construct:n,defineProperty:n,deleteProperty:n,getOwnPropertyDescriptor:n,getPrototypeOf:n,has:n,isExtensible:n,ownKeys:n,preventExtensions:n,setPrototypeOf:n})},Q.isBrokenObject=function(e){return null!==e&&"object"==typeof e&&!0===e[J]},Q.getBrokenObjectReason=function(e){return e[$]},Object.defineProperty(X,"__esModule",{value:!0}),X.stringify=void 0;var ee=Q;X.stringify=function(e,r){return JSON.stringify(e,function(e,t){return(0,ee.isBrokenObject)(t)?{__isBrokenObject__:!0,__reason__:(0,ee.getBrokenObjectReason)(t)}:"bigint"==typeof t?"".concat(t,"n"):!0!==(null==r?void 0:r.useCustomToString)||"object"!=typeof t||Array.isArray(t)||"function"!=typeof t.toString||t.toString===Object.prototype.toString?t:null==t?void 0:t.toString()})};var a,te,re,ne,oe,ie,ue,ae=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),se=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&ae(t,e,r);return se(t,e),t},ce=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},le=(Object.defineProperty(u,"__esModule",{value:!0}),u.ENCRYPTION_OFF=u.ENCRYPTION_ON=u.equals=u.validateQueryAndParameters=u.toNumber=u.assertValidDate=u.assertNumberOrInteger=u.assertNumber=u.assertString=u.assertObject=u.isString=u.isObject=u.isEmptyObjectOrNull=void 0,s(n)),fe=X;u.ENCRYPTION_ON="ENCRYPTION_ON";function pe(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function de(e,t){if(he(e))return e;throw new TypeError((0,fe.stringify)(t)+" expected to be string but was: "+(0,fe.stringify)(e))}function he(e){return"[object String]"===Object.prototype.toString.call(e)}function be(e,t){this._minNumber=e,this._maxNumber=t,this._minInteger=(0,ne.int)(e),this._maxInteger=(0,ne.int)(t)}function ye(e,t,r){e=(0,ne.int)(e),t=(0,ne.int)(t),r=(0,ne.int)(r);var n=e.multiply(365);return n=(n=(n=e.greaterThanOrEqual(0)?n.add(e.add(3).div(4).subtract(e.add(99).div(100)).add(e.add(399).div(400))):n.subtract(e.div(-4).subtract(e.div(-100)).add(e.div(-400)))).add(t.multiply(367).subtract(362).div(12))).add(r.subtract(1)),t.greaterThan(2)&&(n=n.subtract(1),function(e){if((e=(0,ne.int)(e)).modulo(4).equals(0))return!e.modulo(100).equals(0)||!!e.modulo(400).equals(0)}(e)||(n=n.subtract(1))),n.subtract(a.DAYS_0000_TO_1970)}function _e(e,t){return(0,oe.newError)("".concat(t,' is expected to be a valid ZoneId but was: "').concat(e,'"'))}function ve(e,t,r){if((0,ie.assertNumberOrInteger)(e,r),t.contains(e))return e;throw(0,oe.newError)("".concat(r," is expected to be in range ").concat(t.toString()," but was: ").concat(e.toString()))}function me(e,t){e=(0,ne.int)(e),t=(0,ne.int)(t);var r=e.div(t);return r=e.isPositive()!==t.isPositive()&&r.multiply(t).notEquals(e)?r.subtract(1):r}function ge(e,t){return e=(0,ne.int)(e),t=(0,ne.int)(t),e.subtract(me(e,t).multiply(t))}function Oe(e){return(e=(0,ne.int)(e)).equals(0)?"":"."+we(e,9)}function we(e,t,r){var n=(e=(0,ne.int)(e)).isNegative(),o=(e=n?e.negate():e).toString();if(null!=t)for(;o.length<t;)o="0"+o;return n?"-"+o:!0===(null==r?void 0:r.usePositiveSign)?"+"+o:o}u.ENCRYPTION_OFF="ENCRYPTION_OFF",u.isEmptyObjectOrNull=function(e){if(null===e)return!0;if(!pe(e))return!1;for(var t in e)if(void 0!==e[t])return!1;return!0},u.isObject=pe,u.validateQueryAndParameters=function(e,t,r){var n="",t=null!=t?t:{},r=null!=(r=null==r?void 0:r.skipAsserts)&&r;if("string"==typeof e?n=e:e instanceof String?n=e.toString():"object"==typeof e&&null!=e.text&&(n=e.text,t=null!=(e=e.parameters)?e:{}),!r){e=n;if(de(e,"Cypher query"),0===e.trim().length)throw new TypeError("Cypher query is expected to be a non-empty string.");r=t;if(!pe(r))throw e=null!=r.constructor?" "+r.constructor.name:"",new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(e," ").concat(JSON.stringify(r)))}return{validatedQuery:n,params:t}},u.assertObject=function(e,t){if(pe(e))return e;throw new TypeError(t+" expected to be an object but was: "+(0,fe.stringify)(e))},u.assertString=de,u.assertNumber=function(e,t){if("number"!=typeof e)throw new TypeError(t+" expected to be a number but was: "+(0,fe.stringify)(e));return e},u.assertNumberOrInteger=function(e,t){if("number"==typeof e||"bigint"==typeof e||(0,le.isInt)(e))return e;throw new TypeError(t+" expected to be either a number or an Integer object but was: "+(0,fe.stringify)(e))},u.assertValidDate=function(e,t){if("[object Date]"!==Object.prototype.toString.call(e))throw new TypeError(t+" expected to be a standard JavaScript Date but was: "+(0,fe.stringify)(e));if(Number.isNaN(e.getTime()))throw new TypeError(t+" expected to be valid JavaScript Date but its time was NaN: "+(0,fe.stringify)(e));return e},u.isString=he,u.equals=function e(t,r){var n,o;if(t===r)return!0;if(null===t||null===r)return!1;if("object"!=typeof t||"object"!=typeof r)return!1;var i=Object.keys(t),u=Object.keys(r);if(i.length!==u.length)return!1;try{for(var a=ce(i),s=a.next();!s.done;s=a.next()){var c=s.value;if(!e(t[c],r[c]))return!1}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}return!0},u.toNumber=function(e){return e instanceof le.default?e.toNumber():"bigint"==typeof e?(0,le.int)(e).toNumber():e},a=o,te=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),re=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&te(t,e,r);return re(t,e),t},Object.defineProperty(a,"__esModule",{value:!0}),a.floorMod=a.floorDiv=a.assertValidZoneId=a.assertValidNanosecond=a.assertValidSecond=a.assertValidMinute=a.assertValidHour=a.assertValidDay=a.assertValidMonth=a.assertValidYear=a.timeZoneOffsetInSeconds=a.totalNanoseconds=a.newDate=a.toStandardDate=a.isoStringToStandardDate=a.dateToIsoString=a.timeZoneOffsetToIsoString=a.timeToIsoString=a.durationToIsoString=a.dateToEpochDay=a.localDateTimeToEpochSecond=a.localTimeToNanoOfDay=a.normalizeNanosecondsForDuration=a.normalizeSecondsForDuration=a.SECONDS_PER_DAY=a.DAYS_PER_400_YEAR_CYCLE=a.DAYS_0000_TO_1970=a.NANOS_PER_HOUR=a.NANOS_PER_MINUTE=a.NANOS_PER_MILLISECOND=a.NANOS_PER_SECOND=a.SECONDS_PER_HOUR=a.SECONDS_PER_MINUTE=a.MINUTES_PER_HOUR=a.NANOSECOND_OF_SECOND_RANGE=a.SECOND_OF_MINUTE_RANGE=a.MINUTE_OF_HOUR_RANGE=a.HOUR_OF_DAY_RANGE=a.DAY_OF_MONTH_RANGE=a.MONTH_OF_YEAR_RANGE=a.YEAR_RANGE=void 0,ne=s(n),oe=t,ie=u,be.prototype.contains=function(e){var t;return(0,ne.isInt)(e)&&e instanceof ne.default?e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger):"bigint"==typeof e?(t=(0,ne.int)(e)).greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger):e>=this._minNumber&&e<=this._maxNumber},be.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},s=be,a.YEAR_RANGE=new s(-999999999,999999999),a.MONTH_OF_YEAR_RANGE=new s(1,12),a.DAY_OF_MONTH_RANGE=new s(1,31),a.HOUR_OF_DAY_RANGE=new s(0,23),a.MINUTE_OF_HOUR_RANGE=new s(0,59),a.SECOND_OF_MINUTE_RANGE=new s(0,59),a.NANOSECOND_OF_SECOND_RANGE=new s(0,999999999),a.MINUTES_PER_HOUR=60,a.SECONDS_PER_MINUTE=60,a.SECONDS_PER_HOUR=a.SECONDS_PER_MINUTE*a.MINUTES_PER_HOUR,a.NANOS_PER_SECOND=1e9,a.NANOS_PER_MILLISECOND=1e6,a.NANOS_PER_MINUTE=a.NANOS_PER_SECOND*a.SECONDS_PER_MINUTE,a.NANOS_PER_HOUR=a.NANOS_PER_MINUTE*a.MINUTES_PER_HOUR,a.DAYS_0000_TO_1970=719528,a.DAYS_PER_400_YEAR_CYCLE=146097,a.SECONDS_PER_DAY=86400,a.normalizeSecondsForDuration=function(e,t){return(0,ne.int)(e).add(me(t,a.NANOS_PER_SECOND))},a.normalizeNanosecondsForDuration=function(e){return ge(e,a.NANOS_PER_SECOND)},a.localTimeToNanoOfDay=function(e,t,r,n){return e=(0,ne.int)(e),t=(0,ne.int)(t),r=(0,ne.int)(r),n=(0,ne.int)(n),(e=(e=(e=e.multiply(a.NANOS_PER_HOUR)).add(t.multiply(a.NANOS_PER_MINUTE))).add(r.multiply(a.NANOS_PER_SECOND))).add(n)},a.localDateTimeToEpochSecond=function(e,t,r,n,o,i,u){return e=ye(e,t,r),t=function(e,t,r){e=(0,ne.int)(e),t=(0,ne.int)(t),r=(0,ne.int)(r);e=e.multiply(a.SECONDS_PER_HOUR);return(e=e.add(t.multiply(a.SECONDS_PER_MINUTE))).add(r)}(n,o,i),e.multiply(a.SECONDS_PER_DAY).add(t)},a.dateToEpochDay=ye,a.durationToIsoString=function(e,t,r,n){return e=we(e),t=we(t),r=function(e,t){e=(0,ne.int)(e),t=(0,ne.int)(t);var r,n=e.isNegative(),o=t.greaterThan(0);e=n&&o?e.equals(-1)?"-0":e.add(1).toString():e.toString();o&&(r=Oe((n?t.negate().add(2*a.NANOS_PER_SECOND):t.add(a.NANOS_PER_SECOND)).modulo(a.NANOS_PER_SECOND)));return null!=r?e+r:e}(r,n),"P".concat(e,"M").concat(t,"DT").concat(r,"S")},a.timeToIsoString=function(e,t,r,n){return e=we(e,2),t=we(t,2),r=we(r,2),n=Oe(n),"".concat(e,":").concat(t,":").concat(r).concat(n)},a.timeZoneOffsetToIsoString=function(e){if((e=(0,ne.int)(e)).equals(0))return"Z";var t=(r=e.isNegative())?"-":"+",r=we((e=r?e.multiply(-1):e).div(a.SECONDS_PER_HOUR),2),n=we(e.div(a.SECONDS_PER_MINUTE).modulo(a.MINUTES_PER_HOUR),2);return null!=(e=(e=e.modulo(a.SECONDS_PER_MINUTE)).equals(0)?null:we(e,2))?"".concat(t).concat(r,":").concat(n,":").concat(e):"".concat(t).concat(r,":").concat(n)},a.dateToIsoString=function(e,t,r){return e=function(e){e=(0,ne.int)(e);if(e.isNegative()||e.greaterThan(9999))return we(e,6,{usePositiveSign:!0});return we(e,4)}(e),t=we(t,2),r=we(r,2),"".concat(e,"-").concat(t,"-").concat(r)},a.isoStringToStandardDate=function(e){return new Date(e)},a.toStandardDate=function(e){return new Date(e)},a.newDate=function(e){return new Date(e)},a.totalNanoseconds=function(e,t){return t=null!=t?t:0,e=e.getMilliseconds()*a.NANOS_PER_MILLISECOND,t instanceof ne.default?t.add(e):"bigint"==typeof t?t+BigInt(e):t+e},a.timeZoneOffsetInSeconds=function(e){var t=e.getSeconds()>=e.getUTCSeconds()?e.getSeconds()-e.getUTCSeconds():e.getSeconds()-e.getUTCSeconds()+60;return 0===(e=e.getTimezoneOffset())?0+t:-1*e*a.SECONDS_PER_MINUTE+t},a.assertValidYear=function(e){return ve(e,a.YEAR_RANGE,"Year")},a.assertValidMonth=function(e){return ve(e,a.MONTH_OF_YEAR_RANGE,"Month")},a.assertValidDay=function(e){return ve(e,a.DAY_OF_MONTH_RANGE,"Day")},a.assertValidHour=function(e){return ve(e,a.HOUR_OF_DAY_RANGE,"Hour")},a.assertValidMinute=function(e){return ve(e,a.MINUTE_OF_HOUR_RANGE,"Minute")},a.assertValidSecond=function(e){return ve(e,a.SECOND_OF_MINUTE_RANGE,"Second")},a.assertValidNanosecond=function(e){return ve(e,a.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")},ue=new Map,a.assertValidZoneId=function(t,r){var e=ue.get(r);if(!0!==e){if(!1===e)throw _e(r,t);try{Intl.DateTimeFormat(void 0,{timeZone:r}),ue.set(r,!0)}catch(e){throw ue.set(r,!1),_e(r,t)}}},a.floorDiv=me,a.floorMod=ge;var Ee=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),Pe=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Ee(t,e,r);return Pe(t,e),t},Se=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},c=(Object.defineProperty(i,"__esModule",{value:!0}),i.isDateTime=i.DateTime=i.isLocalDateTime=i.LocalDateTime=i.isDate=i.Date=i.isTime=i.Time=i.isLocalTime=i.LocalTime=i.isDuration=i.Duration=void 0,s(o)),Te=u,je=t,Ce=s(n),s={value:!0,enumerable:!1,configurable:!1,writable:!1},Ie="__isDuration__",Re="__isLocalTime__",Ae="__isTime__",ke="__isDate__",Me="__isLocalDateTime__",Ne="__isDateTime__",l=(xe.prototype.toString=function(){return c.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},xe);function xe(e,t,r,n){this.months=(0,Te.assertNumberOrInteger)(e,"Months"),this.days=(0,Te.assertNumberOrInteger)(t,"Days"),(0,Te.assertNumberOrInteger)(r,"Seconds"),(0,Te.assertNumberOrInteger)(n,"Nanoseconds"),this.seconds=c.normalizeSecondsForDuration(r,n),this.nanoseconds=c.normalizeNanosecondsForDuration(n),Object.freeze(this)}i.Duration=l,Object.defineProperty(l.prototype,Ie,s),i.isDuration=function(e){return We(e,Ie)};De.fromStandardDate=function(e,t){ze(e,t);t=c.totalNanoseconds(e,t);return new De(e.getHours(),e.getMinutes(),e.getSeconds(),t instanceof Ce.default?t.toInt():"bigint"==typeof t?(0,Ce.int)(t).toInt():t)},De.prototype.toString=function(){return c.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)};l=De;function De(e,t,r,n){this.hour=c.assertValidHour(e),this.minute=c.assertValidMinute(t),this.second=c.assertValidSecond(r),this.nanosecond=c.assertValidNanosecond(n),Object.freeze(this)}i.LocalTime=l,Object.defineProperty(l.prototype,Re,s),i.isLocalTime=function(e){return We(e,Re)};Ue.fromStandardDate=function(e,t){return ze(e,t),new Ue(e.getHours(),e.getMinutes(),e.getSeconds(),(0,Ce.toNumber)(c.totalNanoseconds(e,t)),c.timeZoneOffsetInSeconds(e))},Ue.prototype.toString=function(){return c.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+c.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)};l=Ue;function Ue(e,t,r,n,o){this.hour=c.assertValidHour(e),this.minute=c.assertValidMinute(t),this.second=c.assertValidSecond(r),this.nanosecond=c.assertValidNanosecond(n),this.timeZoneOffsetSeconds=(0,Te.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}i.Time=l,Object.defineProperty(l.prototype,Ae,s),i.isTime=function(e){return We(e,Ae)};Le.fromStandardDate=function(e){return ze(e),new Le(e.getFullYear(),e.getMonth()+1,e.getDate())},Le.prototype.toStandardDate=function(){return c.isoStringToStandardDate(this.toString())},Le.prototype.toString=function(){return c.dateToIsoString(this.year,this.month,this.day)};l=Le;function Le(e,t,r){this.year=c.assertValidYear(e),this.month=c.assertValidMonth(t),this.day=c.assertValidDay(r),Object.freeze(this)}i.Date=l,Object.defineProperty(l.prototype,ke,s),i.isDate=function(e){return We(e,ke)};Fe.fromStandardDate=function(e,t){return ze(e,t),new Fe(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),(0,Ce.toNumber)(c.totalNanoseconds(e,t)))},Fe.prototype.toStandardDate=function(){return c.isoStringToStandardDate(this.toString())},Fe.prototype.toString=function(){return qe(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)};l=Fe;function Fe(e,t,r,n,o,i,u){this.year=c.assertValidYear(e),this.month=c.assertValidMonth(t),this.day=c.assertValidDay(r),this.hour=c.assertValidHour(n),this.minute=c.assertValidMinute(o),this.second=c.assertValidSecond(i),this.nanosecond=c.assertValidNanosecond(u),Object.freeze(this)}i.LocalDateTime=l,Object.defineProperty(l.prototype,Me,s),i.isLocalDateTime=function(e){return We(e,Me)};Be.fromStandardDate=function(e,t){return ze(e,t),new Be(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),(0,Ce.toNumber)(c.totalNanoseconds(e,t)),c.timeZoneOffsetInSeconds(e),null)},Be.prototype.toStandardDate=function(){return c.toStandardDate(this._toUTC())},Be.prototype.toString=function(){var e;return qe(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(null!=this.timeZoneOffsetSeconds?c.timeZoneOffsetToIsoString(null!=(e=this.timeZoneOffsetSeconds)?e:0):"")+(null!=this.timeZoneId?"[".concat(this.timeZoneId,"]"):"")},Be.prototype._toUTC=function(){if(void 0===this.timeZoneOffsetSeconds)throw new Error("Requires DateTime created with time zone offset");var e=c.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract(null!=(e=this.timeZoneOffsetSeconds)?e:0);return(0,Ce.int)(e).multiply(1e3).add((0,Ce.int)(this.nanosecond).div(1e6)).toNumber()};l=Be;function Be(e,t,r,n,o,i,u,a,s){this.year=c.assertValidYear(e),this.month=c.assertValidMonth(t),this.day=c.assertValidDay(r),this.hour=c.assertValidHour(n),this.minute=c.assertValidMinute(o),this.second=c.assertValidSecond(i),this.nanosecond=c.assertValidNanosecond(u);e=Se(function(e,t){var r=null!=e,n=null!=t&&""!==t;if(!r&&!n)throw(0,je.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(e," and id: ").concat(t));var o=[void 0,void 0];r&&((0,Te.assertNumberOrInteger)(e,"Time zone offset in seconds"),o[0]=e);n&&((0,Te.assertString)(t,"Time zone ID"),c.assertValidZoneId("Time zone ID",t),o[1]=t);return o}(a,s),2),t=e[0],r=e[1];this.timeZoneOffsetSeconds=t,this.timeZoneId=null!=r?r:void 0,Object.freeze(this)}function We(e,t){return null!=e&&!0===e[t]}function qe(e,t,r,n,o,i,u){return c.dateToIsoString(e,t,r)+"T"+c.timeToIsoString(n,o,i,u)}function ze(e,t){(0,Te.assertValidDate)(e,"Standard date"),null!=t&&(0,Te.assertNumberOrInteger)(t,"Nanosecond")}i.DateTime=l,Object.defineProperty(l.prototype,Ne,s),i.isDateTime=function(e){return We(e,Ne)};var l={},Ve=(Object.defineProperty(l,"__esModule",{value:!0}),l.isPathSegment=l.PathSegment=l.isPath=l.Path=l.isUnboundRelationship=l.UnboundRelationship=l.isRelationship=l.Relationship=l.isNode=l.Node=void 0,X),s={value:!0,enumerable:!1,configurable:!1,writable:!1},He="__isNode__",Ge="__isRelationship__",Ye="__isUnboundRelationship__",Ke="__isPath__",Ze="__isPathSegment__";function Xe(e,t){return null!=e&&!0===e[t]}Je.prototype.toString=function(){for(var e="("+this.elementId,t=0;t<this.labels.length;t++)e+=":"+this.labels[t];var r=Object.keys(this.properties);if(0<r.length){e+=" {";for(t=0;t<r.length;t++)0<t&&(e+=","),e+=r[t]+":"+(0,Ve.stringify)(this.properties[r[t]]);e+="}"}return e+=")"};var Qe=Je;function Je(e,t,r,n){this.identity=e,this.labels=t,this.properties=r,this.elementId=ot(n,function(){return e.toString()})}l.Node=Qe,Object.defineProperty(Qe.prototype,He,s),l.isNode=function(e){return Xe(e,He)};et.prototype.toString=function(){var e="("+this.startNodeElementId+")-[:"+this.type,t=Object.keys(this.properties);if(0<t.length){e+=" {";for(var r=0;r<t.length;r++)0<r&&(e+=","),e+=t[r]+":"+(0,Ve.stringify)(this.properties[t[r]]);e+="}"}return e+="]->("+this.endNodeElementId+")"};var $e=et;function et(e,t,r,n,o,i,u,a){this.identity=e,this.start=t,this.end=r,this.type=n,this.properties=o,this.elementId=ot(i,function(){return e.toString()}),this.startNodeElementId=ot(u,function(){return t.toString()}),this.endNodeElementId=ot(a,function(){return r.toString()})}l.Relationship=$e,Object.defineProperty($e.prototype,Ge,s),l.isRelationship=function(e){return Xe(e,Ge)};tt.prototype.bind=function(e,t){return new $e(this.identity,e,t,this.type,this.properties,this.elementId)},tt.prototype.bindTo=function(e,t){return new $e(this.identity,e.identity,t.identity,this.type,this.properties,this.elementId,e.elementId,t.elementId)},tt.prototype.toString=function(){var e="-[:"+this.type,t=Object.keys(this.properties);if(0<t.length){e+=" {";for(var r=0;r<t.length;r++)0<r&&(e+=","),e+=t[r]+":"+(0,Ve.stringify)(this.properties[t[r]]);e+="}"}return e+="]->"};Qe=tt;function tt(e,t,r,n){this.identity=e,this.type=t,this.properties=r,this.elementId=ot(n,function(){return e.toString()})}l.UnboundRelationship=Qe,Object.defineProperty(Qe.prototype,Ye,s),l.isUnboundRelationship=function(e){return Xe(e,Ye)};function rt(e,t,r){this.start=e,this.relationship=t,this.end=r}l.PathSegment=rt,Object.defineProperty(rt.prototype,Ze,s),l.isPathSegment=function(e){return Xe(e,Ze)};function nt(e,t,r){this.start=e,this.end=t,this.segments=r,this.length=r.length}function ot(e,t){return null==e?t():e}l.Path=nt,Object.defineProperty(nt.prototype,Ke,s),l.isPath=function(e){return Xe(e,Ke)};var Qe={},it=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},ut=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},at=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},st=(Object.defineProperty(Qe,"__esModule",{value:!0}),t);function ct(e,t,r){var n;this.keys=e,this.length=e.length,this._fields=t,this._fieldLookup=null!=r?r:(n={},e.forEach(function(e,t){n[e]=t}),n)}ct.prototype.forEach=function(e){var t,r;try{for(var n=ut(this.entries()),o=n.next();!o.done;o=n.next()){var i=at(o.value,2),u=i[0];e(i[1],u,this)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},ct.prototype.map=function(e){var t,r,n=[];try{for(var o=ut(this.entries()),i=o.next();!i.done;i=o.next()){var u=at(i.value,2),a=u[0],s=u[1];n.push(e(s,a,this))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return n},ct.prototype.entries=function(){var t;return it(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.keys.length?[4,[this.keys[t],this._fields[t]]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},ct.prototype.values=function(){var t;return it(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.keys.length?[4,this._fields[t]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},ct.prototype[Symbol.iterator]=function(){var t;return it(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:return t<this.keys.length?[4,this._fields[t]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},ct.prototype.toObject=function(){var t,e,r={};try{for(var n=ut(this.entries()),o=n.next();!o.done;o=n.next()){var i=at(o.value,2),u=i[0],a=i[1];r[u]=a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},ct.prototype.get=function(e){var t;if("number"!=typeof e){if(void 0===(t=this._fieldLookup[e]))throw(0,st.newError)("This record has no field with key '".concat(e.toString(),"', available keys are: [")+this.keys.toString()+"].")}else t=e;if(t>this._fields.length-1||t<0)throw(0,st.newError)("This record has no field with index '"+t.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[t]},ct.prototype.has=function(e){return"number"==typeof e?0<=e&&e<this._fields.length:void 0!==this._fieldLookup[e]},Qe.default=ct;var s={},lt=(Object.defineProperty(s,"__esModule",{value:!0}),s.isPoint=s.Point=void 0,u),ft="__isPoint__",f=(pt.prototype.toString=function(){return null==this.z||isNaN(this.z)?"Point{srid=".concat(dt(this.srid),", x=").concat(dt(this.x),", y=").concat(dt(this.y),"}"):"Point{srid=".concat(dt(this.srid),", x=").concat(dt(this.x),", y=").concat(dt(this.y),", z=").concat(dt(this.z),"}")},pt);function pt(e,t,r,n){this.srid=(0,lt.assertNumberOrInteger)(e,"SRID"),this.x=(0,lt.assertNumber)(t,"X coordinate"),this.y=(0,lt.assertNumber)(r,"Y coordinate"),this.z=null==n?n:(0,lt.assertNumber)(n,"Z coordinate"),Object.freeze(this)}function dt(e){return Number.isInteger(e)?e.toString()+".0":e.toString()}s.Point=f,Object.defineProperty(f.prototype,ft,{value:!0,enumerable:!1,configurable:!1,writable:!1}),s.isPoint=function(e){return null!=e&&!0===e[ft]};var f={},p={},h={},b=(Object.defineProperty(h,"__esModule",{value:!0}),h.FailedObserver=h.CompletedObserver=void 0,ht.prototype.subscribe=function(e){yt(e,e.onKeys,[]),yt(e,e.onCompleted,{})},ht.prototype.cancel=function(){},ht.prototype.pause=function(){},ht.prototype.resume=function(){},ht.prototype.prepareToHandleSingleResponse=function(){},ht.prototype.markCompleted=function(){},ht.prototype.onError=function(e){throw new Error("CompletedObserver not supposed to call onError",{cause:e})},ht);function ht(){}function bt(e){var t=e.error,e=e.onError;this._error=t,this._beforeError=e,this._observers=[],this.onError(t)}function yt(e,t,r){null!=t&&t.bind(e)(r)}h.CompletedObserver=b,bt.prototype.subscribe=function(e){yt(e,e.onError,this._error),this._observers.push(e)},bt.prototype.onError=function(t){yt(this,this._beforeError,t),this._observers.forEach(function(e){return yt(e,e.onError,t)})},bt.prototype.cancel=function(){},bt.prototype.pause=function(){},bt.prototype.resume=function(){},bt.prototype.markCompleted=function(){},bt.prototype.prepareToHandleSingleResponse=function(){},h.FailedObserver=bt;var b={},_t=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),vt=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&_t(t,e,r);return vt(t,e),t},mt=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},gt=r&&r.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},Ot=(Object.defineProperty(b,"__esModule",{value:!0}),b.Bookmarks=void 0,y(u)),y=(wt.empty=function(){return Et},wt.prototype.isEmpty=function(){return 0===this._values.length},wt.prototype.values=function(){return this._values},wt.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},wt.prototype.asBeginTransactionParameters=function(){var e;return this.isEmpty()?{}:((e={}).bookmarks=this._values,e)},wt);function wt(e){this._values=function(e){if(null==e||""===e)return[];if(Ot.isString(e))return[e];if(Array.isArray(e)){for(var t=new Set,r=function r(e){return e.reduce(function(e,t){return Array.isArray(t)?e.concat(r(t)):e.concat(t)},[])}(e),n=0;n<r.length;n++){var o=r[n];if(null!=o){if(!Ot.isString(o))throw new TypeError("Bookmark value should be a string, given: '".concat(o,"'"));t.add(o)}}return gt([],mt(t),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(e,"'"))}(e)}var Et=new(b.Bookmarks=y)(null);var Pt,St,y={},_=(Object.defineProperty(y,"__esModule",{value:!0}),y.TELEMETRY_APIS=y.BOLT_PROTOCOL_V5_6=y.BOLT_PROTOCOL_V5_5=y.BOLT_PROTOCOL_V5_4=y.BOLT_PROTOCOL_V5_3=y.BOLT_PROTOCOL_V5_2=y.BOLT_PROTOCOL_V5_1=y.BOLT_PROTOCOL_V5_0=y.BOLT_PROTOCOL_V4_4=y.BOLT_PROTOCOL_V4_3=y.BOLT_PROTOCOL_V4_2=y.BOLT_PROTOCOL_V4_1=y.BOLT_PROTOCOL_V4_0=y.BOLT_PROTOCOL_V3=y.BOLT_PROTOCOL_V2=y.BOLT_PROTOCOL_V1=y.DEFAULT_POOL_MAX_SIZE=y.DEFAULT_POOL_ACQUISITION_TIMEOUT=y.DEFAULT_CONNECTION_TIMEOUT_MILLIS=y.ACCESS_MODE_WRITE=y.ACCESS_MODE_READ=y.FETCH_ALL=void 0,y.FETCH_ALL=-1,y.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,y.DEFAULT_POOL_MAX_SIZE=100,y.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,y.ACCESS_MODE_READ="READ",y.ACCESS_MODE_WRITE="WRITE",y.BOLT_PROTOCOL_V1=1,y.BOLT_PROTOCOL_V2=2,y.BOLT_PROTOCOL_V3=3,y.BOLT_PROTOCOL_V4_0=4,y.BOLT_PROTOCOL_V4_1=4.1,y.BOLT_PROTOCOL_V4_2=4.2,y.BOLT_PROTOCOL_V4_3=4.3,y.BOLT_PROTOCOL_V4_4=4.4,y.BOLT_PROTOCOL_V5_0=5,y.BOLT_PROTOCOL_V5_1=5.1,y.BOLT_PROTOCOL_V5_2=5.2,y.BOLT_PROTOCOL_V5_3=5.3,y.BOLT_PROTOCOL_V5_4=5.4,y.BOLT_PROTOCOL_V5_5=5.5,y.BOLT_PROTOCOL_V5_6=5.6,y.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3},{}),v={},m=r&&r.__extends||(Pt=function(e,t){return(Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Pt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Tt=(Object.defineProperty(v,"__esModule",{value:!0}),v.Logger=void 0,t),jt="error",Ct="warn",It="info",Rt="debug",At=((g={})[jt]=0,g[Ct]=1,g[It]=2,g[Rt]=3,g),g=(kt.create=function(e){return null!=(null==e?void 0:e.logging)?new kt(function(e){if(null==(null==e?void 0:e.level))return"info";var e=e.level,t=At[e];if(null!=t||0===t)return e;throw(0,Tt.newError)("Illegal logging level: ".concat(e,". Supported levels are: ").concat(Object.keys(At).toString()))}(e=e.logging),function(e){if(null!=(null==e?void 0:e.logger)){var t=e.logger;if(null!=t&&"function"==typeof t)return t}throw(0,Tt.newError)("Illegal logger function: ".concat(null!=(e=null==(t=null==e?void 0:e.logger)?void 0:t.toString())?e:"undefined"))}(e)):this.noOp()},kt.noOp=function(){return Nt},kt.prototype.isErrorEnabled=function(){return xt(this._level,jt)},kt.prototype.error=function(e){this.isErrorEnabled()&&this._loggerFunction(jt,e)},kt.prototype.isWarnEnabled=function(){return xt(this._level,Ct)},kt.prototype.warn=function(e){this.isWarnEnabled()&&this._loggerFunction(Ct,e)},kt.prototype.isInfoEnabled=function(){return xt(this._level,It)},kt.prototype.info=function(e){this.isInfoEnabled()&&this._loggerFunction(It,e)},kt.prototype.isDebugEnabled=function(){return xt(this._level,Rt)},kt.prototype.debug=function(e){this.isDebugEnabled()&&this._loggerFunction(Rt,e)},kt);function kt(e,t){this._level=e,this._loggerFunction=t}function Mt(){return St.call(this,It,function(e,t){})||this}v.Logger=g,m(Mt,St=g),Mt.prototype.isErrorEnabled=function(){return!1},Mt.prototype.error=function(e){},Mt.prototype.isWarnEnabled=function(){return!1},Mt.prototype.warn=function(e){},Mt.prototype.isInfoEnabled=function(){return!1},Mt.prototype.info=function(e){},Mt.prototype.isDebugEnabled=function(){return!1},Mt.prototype.debug=function(e){};var Nt=new Mt;function xt(e,t){return At[e]>=At[t]}var Dt,m=r&&r.__extends||(Dt=function(e,t){return(Dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Dt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Ut=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Lt=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Ft=(Object.defineProperty(_,"__esModule",{value:!0}),_.EMPTY_CONNECTION_HOLDER=_.ReadOnlyConnectionHolder=_.ConnectionHolder=void 0,t),Bt=u,Wt=y,qt=b,zt=v,g=(Vt.prototype.mode=function(){return this._mode},Vt.prototype.database=function(){return this._database},Vt.prototype.setDatabase=function(e){this._database=e},Vt.prototype.bookmarks=function(){return this._bookmarks},Vt.prototype.connectionProvider=function(){return this._connectionProvider},Vt.prototype.referenceCount=function(){return this._referenceCount},Vt.prototype.initializeConnection=function(){return 0!==this._referenceCount||null==this._connectionProvider?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider),this._referenceCount++,!0)},Vt.prototype._createConnectionPromise=function(o){return Ut(this,void 0,void 0,function(){var t,r,n;return Lt(this,function(e){switch(e.label){case 0:return r=(t=o).acquireConnection,n={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,r.apply(t,[(n.bookmarks=e.sent(),n.impersonatedUser=this._impersonatedUser,n.onDatabaseNameResolved=this._onDatabaseNameResolved,n.auth=this._auth,n)])];case 2:return[2,e.sent()]}})})},Vt.prototype._getBookmarks=function(){return Ut(this,void 0,void 0,function(){return Lt(this,function(e){switch(e.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,e.sent()]}})})},Vt.prototype.getConnection=function(){return this._connectionPromise},Vt.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount?this._releaseConnection():this._connectionPromise)},Vt.prototype.close=function(e){return this._closed=!0,0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(e))},Vt.prototype.log=function(){return this._log},Vt.prototype._releaseConnection=function(t){return this._connectionPromise=this._connectionPromise.then(function(e){return null!=e?e.isOpen()&&(e.hasOngoingObservableRequests()||!0===t)?e.resetAndFlush().catch(Zt).then(function(){return e.release().then(function(){return null})}):e.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},Vt.prototype._logError=function(e){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(e,". Stacktrace: ").concat(e.stack)),null},Vt);function Vt(e){var t=e.mode,r=e.database,r=void 0===r?"":r,n=e.bookmarks,o=e.connectionProvider,i=e.impersonatedUser,u=e.onDatabaseNameResolved,a=e.getConnectionAcquistionBookmarks,s=e.auth,e=e.log;this._mode=null!=t?t:Wt.ACCESS_MODE_WRITE,this._closed=!1,this._database=null!=r?(0,Bt.assertString)(r,"database"):"",this._bookmarks=null!=n?n:qt.Bookmarks.empty(),this._connectionProvider=o,this._impersonatedUser=i,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=u,this._auth=s,this._log=e,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=null!=a?a:function(){return Promise.resolve(qt.Bookmarks.empty())}}_.ConnectionHolder=g;m(Yt,Ht=g),Yt.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},Yt.prototype.getConnection=function(){return this._connectionHolder.getConnection()},Yt.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},Yt.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})};var Ht,Gt,O=Yt;function Yt(e){var t=Ht.call(this,{mode:e.mode(),database:e.database(),bookmarks:e.bookmarks(),getConnectionAcquistionBookmarks:e._getConnectionAcquistionBookmarks,connectionProvider:e.connectionProvider(),log:e.log()})||this;return t._connectionHolder=e,t}function Kt(){return Gt.call(this,{log:zt.Logger.create({})})||this}_.ReadOnlyConnectionHolder=O,_.default=O,m(Kt,Gt=g),Kt.prototype.mode=function(){},Kt.prototype.database=function(){},Kt.prototype.initializeConnection=function(){return!0},Kt.prototype.getConnection=function(){return Ut(this,void 0,void 0,function(){return Lt(this,function(e){switch(e.label){case 0:return[4,Promise.reject((0,Ft.newError)("This connection holder does not serve connections"))];case 1:return[2,e.sent()]}})})},Kt.prototype.releaseConnection=function(){return Ut(this,void 0,void 0,function(){return Lt(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})},Kt.prototype.close=function(){return Ut(this,void 0,void 0,function(){return Lt(this,function(e){switch(e.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,e.sent()]}})})};O=new Kt;function Zt(e){return null}_.EMPTY_CONNECTION_HOLDER=O;var m={},Xt=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),Qt=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),g=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Xt(t,e,r);return Qt(t,e),t},Jt=(Object.defineProperty(m,"__esModule",{value:!0}),m.TxConfig=void 0,g(u)),$t=t,er=n,O=(tr.empty=function(){return rr},tr.prototype.isEmpty=function(){return Object.values(this).every(function(e){return null==e})},tr);function tr(e,t){var r;null!=(r=e)&&Jt.assertObject(r,"Transaction config"),this.timeout=function(e,t){if(Jt.isObject(e)&&null!=e.timeout){Jt.assertNumberOrInteger(e.timeout,"Transaction timeout"),!function(e){return"number"==typeof e.timeout&&!Number.isInteger(e.timeout)}(e)||!0!==(null==t?void 0:t.isInfoEnabled())||null==t||t.info("Transaction timeout expected to be an integer, got: ".concat(e.timeout,". The value will be rounded up."));t=(0,er.int)(e.timeout,{ceilFloat:!0});if(t.isNegative())throw(0,$t.newError)("Transaction timeout should not be negative");return t}return null}(e,t),this.metadata=function(e){if(Jt.isObject(e)&&null!=e.metadata){e=e.metadata;if(Jt.assertObject(e,"config.metadata"),0!==Object.keys(e).length)return e}return null}(e)}var rr=new(m.TxConfig=O)({});var g={},nr=r&&r.__assign||function(){return(nr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},or=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},ir=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},ur=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},ar=r&&r.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},sr=(Object.defineProperty(g,"__esModule",{value:!0}),g.TransactionExecutor=void 0,t),cr=y;function lr(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,ar([e,t],ur(r),!1))}function fr(e){return clearTimeout(e)}function pr(e,t,r,n,o){void 0===o&&(o={setTimeout:lr,clearTimeout:fr}),this._maxRetryTimeMs=dr(e,3e4),this._initialRetryDelayMs=dr(t,1e3),this._multiplier=dr(r,2),this._jitterFactor=dr(n,.2),this._setTimeout=o.setTimeout,this._clearTimeout=o.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=cr.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}function dr(e,t){return null!=e?e:t}pr.prototype.execute=function(n,o,i){var u=this,a={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){a.apiTransactionConfig=void 0}}};return new Promise(function(e,t){u._executeTransactionInsidePromise(n,o,e,t,i,a).catch(t)}).catch(function(e){var t=Date.now(),r=u._initialRetryDelayMs;return u._retryTransactionPromise(n,o,e,t,r,i,a)})},pr.prototype.close=function(){var t=this;this._inFlightTimeoutIds.forEach(function(e){return t._clearTimeout(e)}),this._inFlightTimeoutIds=[]},pr.prototype._retryTransactionPromise=function(o,i,e,r,u,a,s){var c=this;return Date.now()-r>this._maxRetryTimeMs||!(0,sr.isRetriableError)(e)?Promise.reject(e):new Promise(function(e,t){var r=c._computeDelayWithJitter(u),n=c._setTimeout(function(){c._inFlightTimeoutIds=c._inFlightTimeoutIds.filter(function(e){return e!==n}),c._executeTransactionInsidePromise(o,i,e,t,a,s).catch(t)},r);c._inFlightTimeoutIds.push(n)}).catch(function(e){var t=u*c._multiplier;return c._retryTransactionPromise(o,i,e,r,t,a,s)})},pr.prototype._executeTransactionInsidePromise=function(u,a,s,c,l,f){return or(this,void 0,void 0,function(){var t,r,n,o,i=this;return ir(this,function(e){switch(e.label){case 0:return(e.trys.push([0,4,,5]),r=u(null!=(null==f?void 0:f.apiTransactionConfig)?nr({},null==f?void 0:f.apiTransactionConfig):void 0),this.pipelineBegin)?(n=r,[3,3]):[3,1];case 1:return[4,r];case 2:n=e.sent(),e.label=3;case 3:return t=n,[3,5];case 4:return o=e.sent(),c(o),[2];case 5:return o=(null!=l?l:function(e){return e})(t),this._safeExecuteTransactionWork(o,a).then(function(e){return i._handleTransactionWorkSuccess(e,t,s,c)}).catch(function(e){return i._handleTransactionWorkFailure(e,t,c)}),[2]}})})},pr.prototype._safeExecuteTransactionWork=function(e,t){try{var r=t(e);return Promise.resolve(r)}catch(e){return Promise.reject(e)}},pr.prototype._handleTransactionWorkSuccess=function(e,t,r,n){t.isOpen()?t.commit().then(function(){r(e)}).catch(function(e){n(e)}):r(e)},pr.prototype._handleTransactionWorkFailure=function(e,t,r){t.isOpen()?t.rollback().catch(function(e){}).then(function(){return r(e)}).catch(r):r(e)},pr.prototype._computeDelayWithJitter=function(e){var t=e*this._jitterFactor,r=e-t,e=e+t;return Math.random()*(e-r)+r},pr.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,sr.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,sr.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,sr.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||1<this._jitterFactor)throw(0,sr.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},g.TransactionExecutor=pr;var O={},hr=r&&r.__assign||function(){return(hr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},br=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},yr=(Object.defineProperty(O,"__esModule",{value:!0}),O.Url=O.formatIPv6Address=O.formatIPv4Address=O.defaultPortForScheme=O.parseDatabaseUrl=void 0,u),_r=7687,vr=7474,mr=7473,gr=function(e,t,r,n,o){this.scheme=e,this.host=t,this.port=r,this.hostAndPort=n,this.query=o};function Or(e,t,r){if(""===(e=(null!=e?e:"").trim()))throw new Error("Illegal empty ".concat(t," in URL query '").concat(r,"'"));return e}function wr(e){var t="["===e.charAt(0),r="]"===e.charAt(e.length-1);if(t||r){if(t&&r)return e;throw new Error("Illegal IPv6 address ".concat(e))}return"[".concat(e,"]")}function Er(e){return"http"===e?vr:"https"===e?mr:_r}O.Url=gr,O.parseDatabaseUrl=function(e){(0,yr.assertString)(e,"URL");var t,r=function(e){function u(e,t){t=e.indexOf(t);return 0<=t?[e.substring(0,t),e[t],e.substring(t+1)]:[e,"",""]}function t(e){var t,r={},n=((t="@")===(t=0<=(t=(o=e).lastIndexOf(t))?[o.substring(0,t),o[t],o.substring(t+1)]:["","",o])[1]&&(r.userInfo=decodeURIComponent(t[0]),e=t[2]),br((o="]",n=u(n=e,i="["),[(i=u(n[2],o))[0],i[2]]),2)),o=n[0],i=n[1];return""!==o?(r.host=o,t=u(i,":")):(t=u(e,":"),r.host=t[0]),":"===t[1]&&(r.port=t[2]),r}var r,n={};":"===(r=u(e,":"))[1]&&(n.scheme=decodeURIComponent(r[0]),e=r[2]);"#"===(r=u(e,"#"))[1]&&(n.fragment=decodeURIComponent(r[2]),e=r[0]);"?"===(r=u(e,"?"))[1]&&(n.query=r[2],e=r[0]);e.startsWith("//")?(r=u(e.substr(2),"/"),(n=hr(hr({},n),t(r[0]))).path=r[1]+r[2]):n.path=e;return n}((n=(n=(n=e).trim()).includes("://")?{schemeMissing:!1,url:n}:{schemeMissing:!0,url:"none://".concat(n)}).url),n=n.schemeMissing?null:function(e){if(null==e)return null;":"===(e=e.trim()).charAt(e.length-1)&&(e=e.substring(0,e.length-1));return e}(r.scheme),o=function(e){if(null!=e)return e.trim();throw new Error("Unable to extract host from null or undefined URL")}(r.host),i=function(e){if(""!==e&&null!=e)return e.includes(":")?wr(e):e;throw new Error("Illegal host ".concat(e))}(o),u=function(e,t){e="string"==typeof e?parseInt(e,10):e;return null==e||isNaN(e)?Er(t):e}(r.port,n),i="".concat(i,":").concat(u),r=function(e,r){var e=null!=e?function(e){"?"===(null==(e=(null!=e?e:"").trim())?void 0:e.charAt(0))&&(e=e.substring(1,e.length));return e}(e):null,n={};null!=e&&e.split("&").forEach(function(e){e=e.split("=");if(2!==e.length)throw new Error("Invalid parameters: '".concat(e.toString(),"' in URL '").concat(r,"'."));var t=Or(e[0],"key",r),e=Or(e[1],"value",r);if(void 0!==n[t])throw new Error("Duplicated query parameters with key '".concat(t,"' in URL '").concat(r,"'"));n[t]=e});return n}(null!=(t=r.query)?t:"string"==typeof(t=r.resourceName)?br(t.split("?"),2)[1]:null,e);return new gr(n,o,u,i,r)},O.formatIPv4Address=function(e,t){return"".concat(e,":").concat(t)},O.formatIPv6Address=function(e,t){return e=wr(e),"".concat(e,":").concat(t)},O.defaultPortForScheme=Er;var w={},Pr=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),Sr=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Tr=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Pr(t,e,r);return Sr(t,e),t},jr=(Object.defineProperty(w,"__esModule",{value:!0}),w.ServerAddress=void 0,u),Cr=Tr(O);function Ir(e,t,r,n){this._host=(0,jr.assertString)(e,"host"),this._resolved=null!=t?(0,jr.assertString)(t,"resolved"):null,this._port=(0,jr.assertNumber)(r,"port"),this._hostPort=n,this._stringValue=null!=t?"".concat(n,"(").concat(t,")"):"".concat(n)}Ir.prototype.host=function(){return this._host},Ir.prototype.resolvedHost=function(){return null!=this._resolved?this._resolved:this._host},Ir.prototype.port=function(){return this._port},Ir.prototype.resolveWith=function(e){return new Ir(this._host,e,this._port,this._hostPort)},Ir.prototype.asHostPort=function(){return this._hostPort},Ir.prototype.asKey=function(){return this._hostPort},Ir.prototype.toString=function(){return this._stringValue},Ir.fromUrl=function(e){e=Cr.parseDatabaseUrl(e);return new Ir(e.host,null,e.port,e.hostAndPort)},w.ServerAddress=Ir;var Tr={},E={};function Rr(){}Object.defineProperty(E,"__esModule",{value:!0}),Rr.prototype.resolve=function(){throw new Error("Abstract function")},Rr.prototype._resolveToItself=function(e){return Promise.resolve([e])},E.default=Rr;var Ar={},kr=(Object.defineProperty(Ar,"__esModule",{value:!0}),w);function Mr(e){return Promise.resolve([e])}function Nr(e){this._resolverFunction=null!=e?e:Mr}Nr.prototype.resolve=function(t){var r=this;return new Promise(function(e){return e(r._resolverFunction(t.asHostPort()))}).then(function(e){if(Array.isArray(e))return e.map(function(e){return kr.ServerAddress.fromUrl(e)});throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(e))})},Ar.default=Nr;var xr,P=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},E=(Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.ConfiguredCustomResolver=Tr.BaseHostNameResolver=void 0,P(E)),E=(Tr.BaseHostNameResolver=E.default,P(Ar)),P=(Tr.ConfiguredCustomResolver=E.default,{}),E={};Object.defineProperty(E,"__esModule",{value:!0}),E.fromVersion=void 0,E.fromVersion=function(e,t){var r=null!=(t=(t=void 0===t?function(){return{get userAgent(){}}}:t)()).userAgent?t.userAgent.split("(")[1].split(")")[0]:void 0,t=t.userAgent||void 0;return{product:"neo4j-javascript/".concat(e),platform:r,languageDetails:t}},S=P,xr=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),Dr=r&&r.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||xr(t,e,r)},Object.defineProperty(S,"__esModule",{value:!0}),Dr(E,S);var Dr={},E={},S=(Object.defineProperty(E,"__esModule",{value:!0}),E.DEFAULT_ACQUISITION_TIMEOUT=E.DEFAULT_MAX_SIZE=void 0,E.DEFAULT_MAX_SIZE=100,E.DEFAULT_ACQUISITION_TIMEOUT=6e4,Ur.defaultConfig=function(){return new Ur(100,6e4)},Ur.fromDriverConfig=function(e){return new Ur(Fr(e.maxConnectionPoolSize)?e.maxConnectionPoolSize:100,Fr(e.connectionAcquisitionTimeout)?e.connectionAcquisitionTimeout:6e4)},Ur);function Ur(e,t){this.maxSize=Lr(e,100),this.acquisitionTimeout=Lr(t,6e4)}function Lr(e,t){return Fr(e)?e:t}function Fr(e){return 0===e||null!=e}E.default=S;var S={},Br=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Wr=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},qr=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},zr=(Object.defineProperty(S,"__esModule",{value:!0}),qr(E)),Vr=t,Hr=v,qr=(Gr.prototype.acquire=function(a,s,c){return Br(this,void 0,void 0,function(){var o,i,u=this;return Wr(this,function(e){switch(e.label){case 0:return o=s.asKey(),i=this._acquireRequests,null==i[o]&&(i[o]=[]),[4,new Promise(function(e,t){var r=setTimeout(function(){var e,t=i[o];null!=t&&(i[o]=t.filter(function(e){return e!==n})),n.isCompleted()||(t=u.activeResourceCount(s),e=u.has(s)?u._pools[o].length:0,n.reject((0,Vr.newError)("Connection acquisition timed out in ".concat(u._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(t,", Idle conn count = ").concat(e,"."))))},u._acquisitionTimeout),n=("object"==typeof r&&r.unref(),new Zr(o,a,c,e,t,r,u._log));i[o].push(n),u._processPendingAcquireRequests(s)})];case 1:return[2,e.sent()]}})})},Gr.prototype.purge=function(t){return Br(this,void 0,void 0,function(){return Wr(this,function(e){switch(e.label){case 0:return[4,this._purgeKey(t.asKey())];case 1:return[2,e.sent()]}})})},Gr.prototype.apply=function(e,t){e=e.asKey();e in this._pools&&this._pools[e].apply(t)},Gr.prototype.close=function(){return Br(this,void 0,void 0,function(){var r=this;return Wr(this,function(e){switch(e.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(t){return Br(r,void 0,void 0,function(){return Wr(this,function(e){switch(e.label){case 0:return[4,this._purgeKey(t)];case 1:return[2,e.sent()]}})})})).then()];case 1:return[2,e.sent()]}})})},Gr.prototype.keepAll=function(o){return Br(this,void 0,void 0,function(){var t,r,n=this;return Wr(this,function(e){switch(e.label){case 0:return t=o.map(function(e){return e.asKey()}),r=Object.keys(this._pools),r=r.filter(function(e){return!t.includes(e)}),[4,Promise.all(r.map(function(t){return Br(n,void 0,void 0,function(){return Wr(this,function(e){switch(e.label){case 0:return[4,this._purgeKey(t)];case 1:return[2,e.sent()]}})})})).then()];case 1:return[2,e.sent()]}})})},Gr.prototype.has=function(e){return e.asKey()in this._pools},Gr.prototype.activeResourceCount=function(e){return null!=(e=this._activeResourceCounts[e.asKey()])?e:0},Gr.prototype._getOrInitializePoolFor=function(e){var t=this._pools[e];return null==t&&(t=new en,this._pools[e]=t,this._pendingCreates[e]=0),t},Gr.prototype._acquire=function(s,c,l){return Br(this,void 0,void 0,function(){var t,n,r,o,i,u,a=this;return Wr(this,function(e){switch(e.label){case 0:if(this._closed)throw(0,Vr.newError)("Pool is closed, it is no more able to serve requests.");if(t=c.asKey(),n=this._getOrInitializePoolFor(t),l)return[3,9];e.label=1;case 1:if(!(0<n.length))return[3,9];if(null==(r=n.pop()))return[3,1];Yr(t,this._activeResourceCounts),null!=this._removeIdleObserver&&this._removeIdleObserver(r),o=!1,e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this._validateOnAcquire(s,r)];case 3:return o=e.sent(),[3,5];case 4:return u=e.sent(),this._log.isErrorEnabled()&&this._log.error("Failure on validate ".concat(r,". This is a bug, please report it. Caused by: ").concat(u.message)),[3,5];case 5:return o?(this._log.isDebugEnabled()&&this._log.debug("".concat(r," acquired from the pool ").concat(t)),[2,{resource:r,pool:n}]):[3,6];case 6:return Kr(t,this._activeResourceCounts),n.removeInUse(r),[4,this._destroy(r)];case 7:e.sent(),e.label=8;case 8:return[3,1];case 9:if(0<this._maxSize&&this.activeResourceCount(c)+this._pendingCreates[t]>=this._maxSize)return[2,{resource:null,pool:n}];this._pendingCreates[t]=this._pendingCreates[t]+1,e.label=10;case 10:return(e.trys.push([10,,14,15]),this.activeResourceCount(c)+n.length>=this._maxSize&&l)?null==(u=n.pop())?[3,12]:(null!=this._removeIdleObserver&&this._removeIdleObserver(u),n.removeInUse(u),[4,this._destroy(u)]):[3,12];case 11:e.sent(),e.label=12;case 12:return[4,this._create(s,c,function(t,r){return Br(a,void 0,void 0,function(){return Wr(this,function(e){switch(e.label){case 0:return[4,this._release(t,r,n)];case 1:return[2,e.sent()]}})})})];case 13:return i=e.sent(),n.pushInUse(i),Yr(t,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(i," created for the pool ").concat(t)),[3,15];case 14:return this._pendingCreates[t]=this._pendingCreates[t]-1,[7];case 15:return[2,{resource:i,pool:n}]}})})},Gr.prototype._release=function(n,o,i){return Br(this,void 0,void 0,function(){var t,r=this;return Wr(this,function(e){switch(e.label){case 0:t=n.asKey(),e.label=1;case 1:return(e.trys.push([1,,9,10]),i.isActive())?[4,this._validateOnRelease(o)]:[3,6];case 2:return e.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(o," destroyed and can't be released to the pool ").concat(t," because it is not functional")),i.removeInUse(o),[4,this._destroy(o)]);case 3:return e.sent(),[3,5];case 4:null!=this._installIdleObserver&&this._installIdleObserver(o,{onError:function(e){r._log.debug("Idle connection ".concat(o," destroyed because of error: ").concat(e));e=r._pools[t];null!=e&&(r._pools[t]=e.filter(function(e){return e!==o}),e.removeInUse(o)),r._destroy(o).catch(function(){})}}),i.push(o),this._log.isDebugEnabled()&&this._log.debug("".concat(o," released to the pool ").concat(t)),e.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(o," destroyed and can't be released to the pool ").concat(t," because pool has been purged")),i.removeInUse(o),[4,this._destroy(o)];case 7:e.sent(),e.label=8;case 8:return[3,10];case 9:return Kr(t,this._activeResourceCounts),this._processPendingAcquireRequests(n),[7];case 10:return[2]}})})},Gr.prototype._purgeKey=function(o){return Br(this,void 0,void 0,function(){var t,r,n;return Wr(this,function(e){switch(e.label){case 0:if(t=this._pools[o],r=[],null==t)return[3,2];for(;0<t.length;)null!=(n=t.pop())&&(null!=this._removeIdleObserver&&this._removeIdleObserver(n),r.push(this._destroy(n)));return t.close(),delete this._pools[o],[4,Promise.all(r)];case 1:e.sent(),e.label=2;case 2:return[2]}})})},Gr.prototype._processPendingAcquireRequests=function(r){var n,o=this,i=r.asKey(),e=this._acquireRequests[i];null!=e&&(null!=(n=e.shift())?this._acquire(n.context,r,n.requireNew).catch(function(e){return n.reject(e),{resource:null,pool:null}}).then(function(e){var t=e.resource,e=e.pool;null!=t&&null!=e?n.isCompleted()?o._release(r,t,e).catch(function(e){o._log.isDebugEnabled()&&o._log.debug("".concat(t," could not be release back to the pool. Cause: ").concat(e))}):n.resolve(t):n.isCompleted()||(null==o._acquireRequests[i]&&(o._acquireRequests[i]=[]),o._acquireRequests[i].unshift(n))}).catch(function(e){return n.reject(e)}):delete this._acquireRequests[i])},Gr);function Gr(e){var t=e.create,t=void 0===t?function(e,t,r){return Br(s,void 0,void 0,function(){return Wr(this,function(e){switch(e.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,e.sent()]}})})}:t,r=e.destroy,r=void 0===r?function(e){return Br(s,void 0,void 0,function(){return Wr(this,function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return[2,e.sent()]}})})}:r,n=e.validateOnAcquire,n=void 0===n?function(e,t){return!0}:n,o=e.validateOnRelease,o=void 0===o?function(e){return!0}:o,i=e.installIdleObserver,i=void 0===i?function(e,t){}:i,u=e.removeIdleObserver,u=void 0===u?function(e){}:u,a=e.config,a=void 0===a?zr.default.defaultConfig():a,e=e.log,e=void 0===e?Hr.Logger.noOp():e,s=this;this._create=t,this._destroy=r,this._validateOnAcquire=n,this._validateOnRelease=o,this._installIdleObserver=i,this._removeIdleObserver=u,this._maxSize=a.maxSize,this._acquisitionTimeout=a.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=e,this._closed=!1}function Yr(e,t){var r=null!=(r=t[e])?r:0;t[e]=r+1}function Kr(e,t){var r=(null!=(r=t[e])?r:0)-1;0<r?t[e]=r:delete t[e]}Object.defineProperty(Xr.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(Xr.prototype,"requireNew",{get:function(){var e;return null!=(e=this._config.requireNew)&&e},enumerable:!1,configurable:!0}),Xr.prototype.isCompleted=function(){return this._completed},Xr.prototype.resolve=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(e," acquired from the pool ").concat(this._key)),this._resolve(e))},Xr.prototype.reject=function(e){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(e))};var Zr=Xr;function Xr(e,t,r,n,o,i,u){this._key=e,this._context=t,this._resolve=n,this._reject=o,this._timeoutId=i,this._log=u,this._completed=!1,this._config=null!=r?r:{}}tn.prototype.isActive=function(){return this._active},tn.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},tn.prototype.filter=function(e){return this._elements=this._elements.filter(e),this},tn.prototype.apply=function(e){this._elements.forEach(e),this._elementsInUse.forEach(e)},Object.defineProperty(tn.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),tn.prototype.pop=function(){var e=this._elements.pop();return null!=e&&this._elementsInUse.add(e),e},tn.prototype.push=function(e){return this._elementsInUse.delete(e),this._elements.push(e)},tn.prototype.pushInUse=function(e){this._elementsInUse.add(e)},tn.prototype.removeInUse=function(e){this._elementsInUse.delete(e)};var Qr,Jr,$r,en=tn;function tn(){this._active=!0,this._elements=[],this._elementsInUse=new Set}S.default=qr,qr=Dr,Qr=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),Jr=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),j=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Qr(t,e,r);return Jr(t,e),t},T=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(qr,"__esModule",{value:!0}),qr.DEFAULT_MAX_SIZE=qr.DEFAULT_ACQUISITION_TIMEOUT=qr.PoolConfig=qr.Pool=void 0,$r=j(E),qr.PoolConfig=$r.default,Object.defineProperty(qr,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return $r.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(qr,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return $r.DEFAULT_MAX_SIZE}}),j=T(S),qr.Pool=j.default,qr.default=j.default;var rn=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),nn=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),E=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&rn(t,e,r);return nn(t,e),t},T=(Object.defineProperty(p,"__esModule",{value:!0}),p.pool=p.boltAgent=p.objectUtil=p.resolver=p.serverAddress=p.urlUtil=p.logger=p.transactionExecutor=p.txConfig=p.connectionHolder=p.constants=p.bookmarks=p.observer=p.temporalUtil=p.util=void 0,E(u)),S=(p.util=T,E(o)),qr=(p.temporalUtil=S,E(h)),j=(p.observer=qr,E(b)),T=(p.bookmarks=j,E(y)),o=(p.constants=T,E(_)),S=(p.connectionHolder=o,E(m)),qr=(p.txConfig=S,E(g)),j=(p.transactionExecutor=qr,E(v)),T=(p.logger=j,E(O)),o=(p.urlUtil=T,E(w)),S=(p.serverAddress=o,E(Tr)),qr=(p.resolver=S,E(Q)),j=(p.objectUtil=qr,E(P)),O=(p.boltAgent=j,E(Dr)),T=(p.pool=O,{}),on=r&&r.__assign||function(){return(on=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},un=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),an=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),w=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&un(t,e,r);return an(t,e),t},sn=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},cn=r&&r.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},ln=(Object.defineProperty(T,"__esModule",{value:!0}),T.buildNotificationsFromMetadata=T.buildGqlStatusObjectFromMetadata=T.polyfillNotification=T.polyfillGqlStatusObject=T.GqlStatusObject=T.Notification=T.notificationClassification=T.notificationCategory=T.notificationSeverityLevel=void 0,w(X)),fn=p,pn={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"},ERROR:{gql_status:"50N42",status_description:"error: general processing exception - unknown error"}},dn={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"},hn=(T.notificationSeverityLevel=dn,Object.freeze(dn),Object.values(dn)),o={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"},bn=(T.notificationCategory=o,Object.freeze(o),Object.values(o)),yn=o,_n=(T.notificationClassification=yn,function(e){this.code=e.code,this.title=e.title,this.description=e.description,this.severity=e.severity,this.position=Tn(e.position),this.severityLevel=jn(e.severity),this.rawSeverityLevel=e.severity,this.category=Cn(e.category),this.rawCategory=e.category}),vn=(T.Notification=_n,Object.defineProperty(mn.prototype,"diagnosticRecordAsJsonString",{get:function(){return ln.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),mn);function mn(e){var t;this.gqlStatus=e.gql_status,this.statusDescription=e.status_description,this.diagnosticRecord=null!=(t=e.diagnostic_record)?t:{},this.position=null!=this.diagnosticRecord._position?Tn(this.diagnosticRecord._position):void 0,this.severity=jn(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=Cn(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=null!=e.neo4j_code,Object.freeze(this)}function gn(e){var t;if(null!=e.neo4j_code)return new _n({code:e.neo4j_code,title:e.title,description:e.description,severity:null==(t=e.diagnostic_record)?void 0:t._severity,category:null==(t=e.diagnostic_record)?void 0:t._classification,position:null==(t=e.diagnostic_record)?void 0:t._position})}function On(e){var t=e.severity===dn.WARNING?pn.WARNING:pn.INFORMATION,r={gql_status:t.gql_status,status_description:null!=(r=e.description)?r:t.status_description,neo4j_code:e.code,title:e.title,diagnostic_record:on({},wn)};return null!=e.severity&&(r.diagnostic_record._severity=e.severity),null!=e.category&&(r.diagnostic_record._classification=e.category),null!=e.position&&(r.diagnostic_record._position=e.position),new vn(r)}T.GqlStatusObject=vn,T.polyfillNotification=gn,T.polyfillGqlStatusObject=On;var wn={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},En=(Object.freeze(wn),{SUCCESS:new vn({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:wn}),NO_DATA:new vn({gql_status:"02000",status_description:"note: no data",diagnostic_record:wn}),NO_DATA_UNKNOWN_SUBCONDITION:new vn(on(on({},pn.NO_DATA),{diagnostic_record:wn})),OMITTED_RESULT:new vn({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:wn})});Object.freeze(En),T.buildGqlStatusObjectFromMetadata=function(e){if(null!=e.statuses)return e.statuses.map(function(e){return new vn(e)});var t=!0===(null==(t=e.stream_summary)?void 0:t.have_records_streamed)?En.SUCCESS:!1===(null==t?void 0:t.has_keys)?En.OMITTED_RESULT:!0===(null==t?void 0:t.pulled)?En.NO_DATA:En.NO_DATA_UNKNOWN_SUBCONDITION;return cn([t],sn(null!=(e=null==(t=e.notifications)?void 0:t.map(On))?e:[]),!1).sort(function(e,t){return Sn(e)-Sn(t)})};var Pn=Object.freeze({"02":0,"01":1,"00":2});function Sn(e){var e=null==(e=e.gqlStatus)?void 0:e.slice(0,2);return null!=(e=Pn[e])?e:9999}function Tn(e){return null==e?{}:{offset:fn.util.toNumber(e.offset),line:fn.util.toNumber(e.line),column:fn.util.toNumber(e.column)}}function jn(e){return hn.includes(e)?e:dn.UNKNOWN}function Cn(e){return bn.includes(e)?e:yn.UNKNOWN}T.buildNotificationsFromMetadata=function(e){return null!=e.notifications?e.notifications.map(function(e){return new _n(e)}):null!=e.statuses?e.statuses.map(gn).filter(function(e){return null!=e}):[]},T.default=_n,Object.defineProperty(f,"__esModule",{value:!0}),f.Stats=f.QueryStatistics=f.ProfiledPlan=f.Plan=f.ServerInfo=f.queryType=void 0;var In=p,Rn=T,Tr=(An.prototype.hasPlan=function(){return this.plan instanceof kn},An.prototype.hasProfile=function(){return this.profile instanceof Mn},An);function An(e,t,r,n){this.query={text:e,parameters:t},this.queryType=r.type,this.counters=new xn(null!=(e=r.stats)?e:{}),this.updateStatistics=this.counters,this.plan=(null!=r.plan||null!=r.profile)&&new kn(null!=(t=r.plan)?t:r.profile),this.profile=null!=r.profile&&new Mn(r.profile),this.notifications=(0,Rn.buildNotificationsFromMetadata)(r),this.gqlStatusObjects=(0,Rn.buildGqlStatusObjectFromMetadata)(r),this.server=new Un(r.server,n),this.resultConsumedAfter=r.result_consumed_after,this.resultAvailableAfter=r.result_available_after,this.database={name:null!=(e=r.db)?e:null}}var kn=function t(e){this.operatorType=e.operatorType,this.identifiers=e.identifiers,this.arguments=e.args,this.children=null!=e.children?e.children.map(function(e){return new t(e)}):[]},Mn=(f.Plan=kn,Nn.prototype.hasPageCacheStats=function(){return 0<this.pageCacheMisses||0<this.pageCacheHits||0<this.pageCacheHitRatio},Nn);function Nn(e){this.operatorType=e.operatorType,this.identifiers=e.identifiers,this.arguments=e.args,this.dbHits=Ln("dbHits",e),this.rows=Ln("rows",e),this.pageCacheMisses=Ln("pageCacheMisses",e),this.pageCacheHits=Ln("pageCacheHits",e),this.pageCacheHitRatio=Ln("pageCacheHitRatio",e),this.time=Ln("time",e),this.children=null!=e.children?e.children.map(function(e){return new Nn(e)}):[]}f.ProfiledPlan=Mn;f.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0},Dn.prototype.containsUpdates=function(){var r=this;return void 0!==this._containsUpdates?this._containsUpdates:0<Object.keys(this._stats).reduce(function(e,t){return e+r._stats[t]},0)},Dn.prototype.updates=function(){return this._stats},Dn.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:0<this._systemUpdates},Dn.prototype.systemUpdates=function(){return this._systemUpdates};var xn=Dn;function Dn(r){var n=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(r).forEach(function(e){var t=e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()});t in n._stats?n._stats[t]=In.util.toNumber(r[e]):"systemUpdates"===t?n._systemUpdates=In.util.toNumber(r[e]):"containsSystemUpdates"===t?n._containsSystemUpdates=r[e]:"containsUpdates"===t&&(n._containsUpdates=r[e])}),this._stats=Object.freeze(this._stats)}f.QueryStatistics=xn;var Un=function(e,t){null!=e&&(this.address=e.address,this.agent=e.version),this.protocolVersion=t};function Ln(e,t,r){return void 0===r&&(r=0),!1!==t&&e in t?(t=t[e],In.util.toNumber(t)):r}f.ServerInfo=Un;function Fn(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}function Bn(e){console.log("Uncaught error when processing result: "+e)}function Wn(e){}function qn(e){}f.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},f.default=Tr;var zn,S={},Q=(Object.defineProperty(S,"__esModule",{value:!0}),S.notificationFilterDisabledClassification=S.notificationFilterDisabledCategory=S.notificationFilterMinimumSeverityLevel=void 0,{OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"}),qr=(S.notificationFilterMinimumSeverityLevel=Q,Object.freeze(Q),{HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"}),P=(S.notificationFilterDisabledCategory=qr,Object.freeze(qr),qr),j=(S.notificationFilterDisabledClassification=P,S.default=Fn,{}),Vn=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Hn=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},E=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Gn=(Object.defineProperty(j,"__esModule",{value:!0}),E(f)),Yn=p,Kn=t,Zn=Yn.connectionHolder.EMPTY_CONNECTION_HOLDER;function Xn(e,t,r,n,o){var i;void 0===o&&(o={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[zn]="Result",this._stack=null==(i=new Error("")).stack?null:i.stack.replace(/^Error(\n\r)*/,""),this._streamObserverPromise=e,this._p=null,this._query=t,this._parameters=null!=r?r:{},this._connectionHolder=null!=n?n:Zn,this._keys=null,this._summary=null,this._error=null,this._watermarks=o}Xn.prototype.keys=function(){var n=this;return null!==this._keys?Promise.resolve(this._keys):null!==this._error?Promise.reject(this._error):new Promise(function(t,r){n._streamObserverPromise.then(function(e){return e.subscribe(n._decorateObserver({onKeys:function(e){return t(e)},onError:function(e){return r(e)}}))}).catch(r)})},Xn.prototype.summary=function(){var n=this;return null!==this._summary?Promise.resolve(this._summary):null!==this._error?Promise.reject(this._error):new Promise(function(t,r){n._streamObserverPromise.then(function(e){e.cancel(),e.subscribe(n._decorateObserver({onCompleted:function(e){return t(e)},onError:function(e){return r(e)}}))}).catch(r)})},Xn.prototype._getOrCreatePromise=function(){var e=this;return null==this._p&&(this._p=new Promise(function(t,r){var n=[];e.subscribe({onNext:function(e){n.push(e)},onCompleted:function(e){t({records:n,summary:e})},onError:function(e){r(e)}})})),this._p},Xn.prototype[Symbol.asyncIterator]=function(){var e,n=this;if(!this.isOpen())return e=(0,Kn.newError)("Result is already consumed"),{next:function(){return Promise.reject(e)},peek:function(){return Promise.reject(e)}};function o(){return Vn(n,void 0,void 0,function(){var t;return Hn(this,function(e){switch(e.label){case 0:return void 0!==u.queuedObserver?[3,2]:(u.queuedObserver=this._createQueuedResultObserver(r),t=u,[4,this._subscribe(u.queuedObserver,!0).catch(function(){})]);case 1:t.streaming=e.sent(),r(),e.label=2;case 2:return[2,u.queuedObserver]}})})}function i(e){if(void 0===e)throw(0,Kn.newError)("InvalidState: Result stream finished without Summary",Kn.PROTOCOL_ERROR);return 1}var u={paused:!0,firstRun:!0,finished:!1},r=function(){var e,t;null!=u.streaming&&(e=(t=null!=(t=null==(t=u.queuedObserver)?void 0:t.size)?t:0)>=n._watermarks.high,t=t<=n._watermarks.low,e&&!u.paused?(u.paused=!0,u.streaming.pause()):(t&&u.paused||u.firstRun&&!e)&&(u.firstRun=!1,u.paused=!1,u.streaming.resume()))};return{next:function(){return Vn(n,void 0,void 0,function(){var t;return Hn(this,function(e){switch(e.label){case 0:return u.finished&&i(u.summary)?[2,{done:!0,value:u.summary}]:[4,o()];case 1:return[4,e.sent().dequeue()];case 2:return!0===(t=e.sent()).done&&(u.finished=t.done,u.summary=t.value),[2,t]}})})},return:function(r){return Vn(n,void 0,void 0,function(){var t;return Hn(this,function(e){switch(e.label){case 0:return u.finished&&i(u.summary)?[2,{done:!0,value:null!=r?r:u.summary}]:(null!=(t=u.streaming)&&t.cancel(),[4,o()]);case 1:return[4,e.sent().dequeueUntilDone()];case 2:return t=e.sent(),u.finished=!0,t.value=null!=r?r:t.value,u.summary=t.value,[2,t]}})})},peek:function(){return Vn(n,void 0,void 0,function(){return Hn(this,function(e){switch(e.label){case 0:return u.finished&&i(u.summary)?[2,{done:!0,value:u.summary}]:[4,o()];case 1:return[4,e.sent().head()];case 2:return[2,e.sent()]}})})}}},Xn.prototype.then=function(e,t){return this._getOrCreatePromise().then(e,t)},Xn.prototype.catch=function(e){return this._getOrCreatePromise().catch(e)},Xn.prototype.finally=function(e){return this._getOrCreatePromise().finally(e)},Xn.prototype.subscribe=function(e){this._subscribe(e).catch(function(){})},Xn.prototype.isOpen=function(){return null===this._summary&&null===this._error},Xn.prototype._subscribe=function(e,t){void 0===t&&(t=!1);var r=this._decorateObserver(e);return this._streamObserverPromise.then(function(e){return t&&e.pause(),e.subscribe(r),e}).catch(function(e){return null!=r.onError&&r.onError(e),Promise.reject(e)})},Xn.prototype._decorateObserver=function(n){var e,o=this,t=null!=(e=n.onCompleted)?e:Wn,i=null!=(e=n.onError)?e:Bn,r=null!=(e=n.onKeys)?e:qn;return{onNext:null!=n.onNext?n.onNext.bind(n):void 0,onKeys:function(e){return o._keys=e,r.call(n,e)},onCompleted:function(e){o._releaseConnectionAndGetSummary(e).then(function(e){return null!==o._summary?t.call(n,o._summary):(o._summary=e,t.call(n,e))}).catch(i)},onError:function(r){o._connectionHolder.releaseConnection().then(function(){var e,t;e=r,null!=(t=o._stack)&&(e.stack=e.toString()+"\n"+t),o._error=r,i.call(n,r)}).catch(i)}}},Xn.prototype._cancel=function(){null===this._summary&&null===this._error&&this._streamObserverPromise.then(function(e){return e.cancel()}).catch(function(){})},Xn.prototype._releaseConnectionAndGetSummary=function(t){var e=Yn.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),r=e.validatedQuery,n=e.params,o=this._connectionHolder;return o.getConnection().then(function(e){return o.releaseConnection().then(function(){return null==e?void 0:e.getProtocolVersion()})},function(e){}).then(function(e){return new Gn.default(r,n,t,e)})},Xn.prototype._createQueuedResultObserver=function(n){var e=this;function o(){var r={};return r.promise=new Promise(function(e,t){r.resolve=e,r.reject=t}),r}function i(e){return e instanceof Error}function r(){var r;return Vn(this,void 0,void 0,function(){var t;return Hn(this,function(e){switch(e.label){case 0:if(0<u.length){if(t=null!=(r=u.shift())?r:(0,Kn.newError)("Unexpected empty buffer",Kn.PROTOCOL_ERROR),n(),i(t))throw t;return[2,t]}return a.resolvable=o(),[4,a.resolvable.promise];case 1:return[2,e.sent()]}})})}var u=[],a={resolvable:null},t={onNext:function(e){t._push({done:!1,value:e})},onCompleted:function(e){t._push({done:!0,value:e})},onError:function(e){t._push(e)},_push:function(e){var t;null!==a.resolvable?(t=a.resolvable,a.resolvable=null,i(e)?t.reject(e):t.resolve(e)):(u.push(e),n())},dequeue:r,dequeueUntilDone:function(){return Vn(e,void 0,void 0,function(){var t;return Hn(this,function(e){switch(e.label){case 0:return[4,r()];case 1:return!0===(t=e.sent()).done?[2,t]:[3,0];case 2:return[2]}})})},head:function(){return Vn(e,void 0,void 0,function(){var t,r;return Hn(this,function(e){switch(e.label){case 0:if(0<u.length){if(i(t=u[0]))throw t;return[2,t]}a.resolvable=o(),e.label=1;case 1:return e.trys.push([1,3,4,5]),[4,a.resolvable.promise];case 2:return t=e.sent(),u.unshift(t),[2,t];case 3:throw r=e.sent(),u.unshift(r),r;case 4:return n(),[7];case 5:return[2]}})})},get size(){return u.length}};return t},zn=Symbol.toStringTag,j.default=Xn;Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.default=function(e,t,r){this.keys=e,this.records=t,this.summary=r};O={},Object.defineProperty(O,"__esModule",{value:!0}),O.Releasable=void 0,Qn.prototype.release=function(){throw new Error("Not implemented")},w=Qn;function Qn(){}function Jn(){}O.Releasable=w,Jn.prototype.acquireConnection=function(e){throw Error("Not implemented")},Jn.prototype.supportsMultiDb=function(){throw Error("Not implemented")},Jn.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},Jn.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},Jn.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},Jn.prototype.verifyConnectivityAndGetServerInfo=function(e){throw Error("Not implemented")},Jn.prototype.verifyAuthentication=function(e){throw Error("Not implemented")},Jn.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},Jn.prototype.close=function(){throw Error("Not implemented")},O.default=Jn;o={};function $n(){}Object.defineProperty(o,"__esModule",{value:!0}),$n.prototype.beginTransaction=function(e){throw new Error("Not implemented")},$n.prototype.run=function(e,t,r){throw new Error("Not implemented")},$n.prototype.commitTransaction=function(e){throw new Error("Not implemented")},$n.prototype.rollbackTransaction=function(e){throw new Error("Not implemented")},$n.prototype.resetAndFlush=function(){throw new Error("Not implemented")},$n.prototype.isOpen=function(){throw new Error("Not implemented")},$n.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},$n.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},o.default=$n;var Tr={},eo=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},to=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Q=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ro=(Object.defineProperty(Tr,"__esModule",{value:!0}),u),no=_,oo=b,io=m,uo=h,ao=t,so=Q(j);function co(e){var t=e.connectionHolder,r=e.onClose,n=e.onBookmarks,o=e.onConnection,i=e.reactive,u=e.fetchSize,a=e.impersonatedUser,s=e.highRecordWatermark,c=e.lowRecordWatermark,l=e.notificationFilter,e=e.apiTelemetryConfig,f=this;this._connectionHolder=t,this._reactive=i,this._state=lo.ACTIVE,this._onClose=r,this._onBookmarks=n,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._fetchSize=u,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=a,this._lowRecordWatermak=c,this._highRecordWatermark=s,this._bookmarks=oo.Bookmarks.empty(),this._notificationFilter=l,this._apiTelemetryConfig=e,this._acceptActive=function(){},this._activePromise=new Promise(function(e,t){f._acceptActive=e})}co.prototype._begin=function(o,i,u){var t=this;this._connectionHolder.getConnection().then(function(n){return eo(t,void 0,void 0,function(){var t,r=this;return to(this,function(e){switch(e.label){case 0:return(this._onConnection(),null==n)?[3,2]:(t=this,[4,o()]);case 1:return t._bookmarks=e.sent(),[2,n.beginTransaction({bookmarks:this._bookmarks,txConfig:i,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(e){null!=u&&u.onError(e),r._onError(e).catch(function(){})},afterComplete:function(e){null!=u&&u.onComplete(e),r._onComplete(e)}})];case 2:throw(0,ao.newError)("No connection available")}})})}).catch(function(e){null!=u&&u.onError(e),t._onError(e).catch(function(){})}).finally(function(){return t._acceptActive()})},co.prototype.run=function(e,t){e=(0,ro.validateQueryAndParameters)(e,t),t=e.validatedQuery,e=e.params,t=this._state.run(t,e,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(t),t},co.prototype.commit=function(){var t=this,r=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(e){return t._onCompleteCallback(e,t._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=r.state,this._onClose(),new Promise(function(e,t){r.result.subscribe({onCompleted:function(){return e()},onError:function(e){return t(e)}})})},co.prototype.rollback=function(){var r=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=r.state,this._onClose(),new Promise(function(e,t){r.result.subscribe({onCompleted:function(){return e()},onError:function(e){return t(e)}})})},co.prototype.isOpen=function(){return this._state===lo.ACTIVE},co.prototype.close=function(){return eo(this,void 0,void 0,function(){return to(this,function(e){switch(e.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},co.prototype[Symbol.asyncDispose]=function(){return this.close()},co.prototype._onErrorCallback=function(t){return this._state===lo.FAILED?Promise.resolve(null):(this._state=lo.FAILED,this._onClose(),this._results.forEach(function(e){e.isOpen()&&e._streamObserverPromise.then(function(e){return e.onError(t)}).catch(function(e){})}),this._connectionHolder.releaseConnection())},co.prototype._onCompleteCallback=function(e,t){this._onBookmarks(new oo.Bookmarks(null==e?void 0:e.bookmark),null!=t?t:oo.Bookmarks.empty(),null==e?void 0:e.db)};var lo={ACTIVE:{commit:function(e){return{result:fo(!0,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:lo.SUCCEEDED}},rollback:function(e){return{result:fo(!1,e.connectionHolder,e.onError,e.onComplete,e.onConnection,e.pendingResults,e.preparationJob),state:lo.ROLLED_BACK}},run:function(t,r,e){var n=e.connectionHolder,o=e.onError,i=e.onComplete,u=e.onConnection,a=e.reactive,s=e.fetchSize,c=e.highRecordWatermark,l=e.lowRecordWatermark,e=e.preparationJob,f=null!=e?e:Promise.resolve();return po(n.getConnection().then(function(e){return f.then(function(){return e})}).then(function(e){if(u(),null!=e)return e.run(t,r,{bookmarks:oo.Bookmarks.empty(),txConfig:io.TxConfig.empty(),beforeError:o,afterComplete:i,reactive:a,fetchSize:s,highRecordWatermark:c,lowRecordWatermark:l});throw(0,ao.newError)("No connection available")}).catch(function(e){return new uo.FailedObserver({error:e,onError:o})}),t,r,n,c,l)}},FAILED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:po(new uo.FailedObserver({error:(0,ao.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:r}),"COMMIT",{},t,0,0),state:lo.FAILED}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:po(new uo.CompletedObserver,"ROLLBACK",{},t,0,0),state:lo.FAILED}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,po(new uo.FailedObserver({error:(0,ao.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),e,t,n,0,0)}},SUCCEEDED:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:po(new uo.FailedObserver({error:(0,ao.newError)("Cannot commit this transaction, because it has already been committed."),onError:r}),"COMMIT",{},no.EMPTY_CONNECTION_HOLDER,0,0),state:lo.SUCCEEDED,connectionHolder:t}},rollback:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:po(new uo.FailedObserver({error:(0,ao.newError)("Cannot rollback this transaction, because it has already been committed."),onError:r}),"ROLLBACK",{},no.EMPTY_CONNECTION_HOLDER,0,0),state:lo.SUCCEEDED,connectionHolder:t}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,po(new uo.FailedObserver({error:(0,ao.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),e,t,n,0,0)}},ROLLED_BACK:{commit:function(e){var t=e.connectionHolder,r=e.onError;return e.onComplete,{result:po(new uo.FailedObserver({error:(0,ao.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:r}),"COMMIT",{},t,0,0),state:lo.ROLLED_BACK}},rollback:function(e){var t=e.connectionHolder;return e.onError,e.onComplete,{result:po(new uo.FailedObserver({error:(0,ao.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},t,0,0),state:lo.ROLLED_BACK}},run:function(e,t,r){var n=r.connectionHolder,o=r.onError;return r.onComplete,po(new uo.FailedObserver({error:(0,ao.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),e,t,n,0,0)}}};function fo(r,e,n,o,i,u,t){var a=null!=t?t:Promise.resolve(),t=e.getConnection().then(function(e){return a.then(function(){return e})}).then(function(t){return i(),u.forEach(function(e){return e._cancel()}),Promise.all(u.map(function(e){return e.summary()})).then(function(e){if(null!=t)return r?t.commitTransaction({beforeError:n,afterComplete:o}):t.rollbackTransaction({beforeError:n,afterComplete:o});throw(0,ao.newError)("No connection available")})}).catch(function(e){return new uo.FailedObserver({error:e,onError:n})});return new so.default(t,r?"COMMIT":"ROLLBACK",{},e,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function po(e,t,r,n,o,i){return void 0===n&&(n=no.EMPTY_CONNECTION_HOLDER),new so.default(Promise.resolve(e),t,r,new no.ReadOnlyConnectionHolder(null!=n?n:no.EMPTY_CONNECTION_HOLDER),{low:i,high:o})}Tr.default=co;qr={};function ho(e){e=e.run;this._run=e}Object.defineProperty(qr,"__esModule",{value:!0}),ho.fromTransaction=function(e){return new ho({run:e.run.bind(e)})},ho.prototype.run=function(e,t){return this._run(e,t)},qr.default=ho;var bo,yo,_o,P={},E=r&&r.__extends||(bo=function(e,t){return(bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}bo(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),vo=r&&r.__assign||function(){return(vo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},w=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Q=(Object.defineProperty(P,"__esModule",{value:!0}),w(Tr)),w=(_o=Q.default,E(mo,_o),mo.prototype.then=function(e,t){return this._getOrCreateBeginPromise().then(e,t)},mo.prototype.catch=function(e){return this._getOrCreateBeginPromise().catch(e)},mo.prototype.finally=function(e){return this._getOrCreateBeginPromise().finally(e)},mo.prototype._getOrCreateBeginPromise=function(){var r=this;return null==this._beginPromise&&(this._beginPromise=new Promise(function(e,t){r._resolve=e,r._reject=t,null!=r._beginError&&t(r._beginError),null!=r._beginMetadata&&e(r._toTransaction())})),this._beginPromise},mo.prototype._toTransaction=function(){return vo(vo({},this),{run:_o.prototype.run.bind(this),commit:_o.prototype.commit.bind(this),rollback:_o.prototype.rollback.bind(this),close:_o.prototype.close.bind(this),isOpen:_o.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},mo.prototype._begin=function(e,t){return _o.prototype._begin.call(this,e,t,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this)})},mo.prototype._onBeginError=function(e){this._beginError=e,null!=this._reject&&this._reject(e)},mo.prototype._onBeginMetadata=function(e){this._beginMetadata=null!=e?e:{},null!=this._resolve&&this._resolve(this._toTransaction())},mo);function mo(e){var t=e.connectionHolder,r=e.onClose,n=e.onBookmarks,o=e.onConnection,i=e.reactive,u=e.fetchSize,a=e.impersonatedUser,s=e.highRecordWatermark,c=e.lowRecordWatermark,l=e.notificationFilter,e=e.apiTelemetryConfig,t=_o.call(this,{connectionHolder:t,onClose:r,onBookmarks:n,onConnection:o,reactive:i,fetchSize:u,impersonatedUser:a,highRecordWatermark:s,lowRecordWatermark:c,notificationFilter:l,apiTelemetryConfig:e})||this;return t[yo]="TransactionPromise",t}yo=Symbol.toStringTag,P.default=w;var Q={},go=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Oo=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},wo=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Eo=r&&r.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},E=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Po=(Object.defineProperty(Q,"__esModule",{value:!0}),h),So=u,To=y,jo=t,Co=E(j),Io=_,Ro=g,Ao=b,ko=m,Mo=E(P),No=E(qr);function xo(e){var t=e.mode,r=e.connectionProvider,n=e.bookmarks,o=e.database,i=e.config,u=e.reactive,a=e.fetchSize,s=e.impersonatedUser,c=e.bookmarkManager,l=e.notificationFilter,f=e.auth,e=e.log,t=(this._mode=t,this._database=o,this._reactive=u,this._fetchSize=a,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new Io.ConnectionHolder({mode:To.ACCESS_MODE_READ,auth:f,database:o,bookmarks:n,connectionProvider:r,impersonatedUser:s,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:e}),this._writeConnectionHolder=new Io.ConnectionHolder({mode:To.ACCESS_MODE_WRITE,auth:f,database:o,bookmarks:n,connectionProvider:r,impersonatedUser:s,onDatabaseNameResolved:this._onDatabaseNameResolved,getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:e}),this._open=!0,this._hasTx=!1,this._impersonatedUser=s,this._lastBookmarks=null!=n?n:Ao.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(e){e=null!=(e=null==e?void 0:e.maxTransactionRetryTime)?e:null;return new Ro.TransactionExecutor(e)}(i),this._databaseNameResolved=""!==this._database,this._calculateWatermaks());this._lowRecordWatermark=t.low,this._highRecordWatermark=t.high,this._results=[],this._bookmarkManager=c,this._notificationFilter=l,this._log=e}xo.prototype.run=function(e,t,r){var o=this,e=(0,So.validateQueryAndParameters)(e,t),i=e.validatedQuery,u=e.params,a=null!=r?new ko.TxConfig(r,this._log):ko.TxConfig.empty(),t=this._run(i,u,function(n){return go(o,void 0,void 0,function(){var t,r=this;return Oo(this,function(e){switch(e.label){case 0:return[4,this._bookmarks()];case 1:return t=e.sent(),this._assertSessionIsOpen(),[2,n.run(i,u,{bookmarks:t,txConfig:a,mode:this._mode,database:this._database,apiTelemetryConfig:{api:To.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(e){return r._onCompleteCallback(e,t)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter})]}})})});return this._results.push(t),t},xo.prototype._run=function(e,t,r){var r=this._acquireAndConsumeConnection(r),n=r.connectionHolder,r=r.resultPromise.catch(function(e){return Promise.resolve(new Po.FailedObserver({error:e}))}),o={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new Co.default(r,e,t,n,o)},xo.prototype._acquireConnection=function(e){var r=this,e=this._acquireAndConsumeConnection(e),n=e.connectionHolder;return e.resultPromise.then(function(t){return go(r,void 0,void 0,function(){return Oo(this,function(e){switch(e.label){case 0:return[4,n.releaseConnection()];case 1:return e.sent(),[2,t]}})})})},xo.prototype._acquireAndConsumeConnection=function(t){var e=this._connectionHolderWithMode(this._mode),r=this._open?!this._hasTx&&e.initializeConnection()?e.getConnection().then(function(e){return t(e)}):Promise.reject((0,jo.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,jo.newError)("Cannot run query in a closed session."));return{connectionHolder:e,resultPromise:r}},xo.prototype.beginTransaction=function(e){var t=ko.TxConfig.empty();return null!=e&&(t=new ko.TxConfig(e,this._log)),this._beginTransaction(this._mode,t,{api:To.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},xo.prototype._beginTransaction=function(e,t,r){var n=this;if(!this._open)throw(0,jo.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,jo.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");e=xo._validateSessionMode(e),e=this._connectionHolderWithMode(e),e.initializeConnection(),this._hasTx=!0,e=new Mo.default({connectionHolder:e,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(e,t,r){return n._updateBookmarks(e,t,r)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:r});return e._begin(function(){return n._bookmarks()},t),e},xo.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,jo.newError)("You cannot run more transactions on a closed session.")},xo.prototype._transactionClosed=function(){this._hasTx=!1},xo.prototype.lastBookmark=function(){return this.lastBookmarks()},xo.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},xo.prototype._bookmarks=function(){var r;return go(this,void 0,void 0,function(){var t;return Oo(this,function(e){switch(e.label){case 0:return[4,null==(r=this._bookmarkManager)?void 0:r.getBookmarks()];case 1:return void 0===(t=e.sent())?[2,this._lastBookmarks]:[2,new Ao.Bookmarks(Eo(Eo([],wo(t),!1),wo(this._configuredBookmarks),!1))]}})})},xo.prototype.readTransaction=function(e,t){t=new ko.TxConfig(t,this._log);return this._runTransaction(To.ACCESS_MODE_READ,t,e)},xo.prototype.writeTransaction=function(e,t){t=new ko.TxConfig(t,this._log);return this._runTransaction(To.ACCESS_MODE_WRITE,t,e)},xo.prototype._runTransaction=function(t,r,e){var n=this;return this._transactionExecutor.execute(function(e){return n._beginTransaction(t,r,e)},e)},xo.prototype.executeRead=function(e,t){t=new ko.TxConfig(t,this._log);return this._executeInTransaction(To.ACCESS_MODE_READ,t,e)},xo.prototype.executeWrite=function(e,t){t=new ko.TxConfig(t,this._log);return this._executeInTransaction(To.ACCESS_MODE_WRITE,t,e)},xo.prototype._executeInTransaction=function(t,r,e){var n=this;return this._transactionExecutor.execute(function(e){return n._beginTransaction(t,r,e)},e,No.default.fromTransaction)},xo.prototype._onDatabaseNameResolved=function(e){this._databaseNameResolved||(this._database=e=null!=e?e:"",this._readConnectionHolder.setDatabase(e),this._writeConnectionHolder.setDatabase(e),this._databaseNameResolved=!0)},xo.prototype._getConnectionAcquistionBookmarks=function(){var r;return go(this,void 0,void 0,function(){var t;return Oo(this,function(e){switch(e.label){case 0:return[4,null==(r=this._bookmarkManager)?void 0:r.getBookmarks()];case 1:return void 0===(t=e.sent())?[2,this._lastBookmarks]:[2,new Ao.Bookmarks(Eo(Eo([],wo(this._configuredBookmarks),!1),wo(t),!1))]}})})},xo.prototype._updateBookmarks=function(e,t,r){var n;null==e||e.isEmpty()||(null!=(n=this._bookmarkManager)&&n.updateBookmarks(null!=(n=null==t?void 0:t.values())?n:[],null!=(t=null==e?void 0:e.values())?t:[]).catch(function(){}),this._lastBookmarks=e,this._configuredBookmarks=Ao.Bookmarks.empty())},xo.prototype.close=function(){return go(this,void 0,void 0,function(){return Oo(this,function(e){switch(e.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(e){return e._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return e.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},xo.prototype[Symbol.asyncDispose]=function(){return this.close()},xo.prototype._connectionHolderWithMode=function(e){if(e===To.ACCESS_MODE_READ)return this._readConnectionHolder;if(e===To.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,jo.newError)("Unknown access mode: "+e)},xo.prototype._onCompleteCallback=function(e,t){this._updateBookmarks(new Ao.Bookmarks(e.bookmark),t,e.db)},xo.prototype._calculateWatermaks=function(){return this._fetchSize===To.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},xo.prototype._configureTransactionExecutor=function(e,t){this._transactionExecutor.pipelineBegin=e,this._transactionExecutor.telemetryApi=t},xo._validateSessionMode=function(e){e=null!=e?e:To.ACCESS_MODE_WRITE;if(e!==To.ACCESS_MODE_READ&&e!==To.ACCESS_MODE_WRITE)throw(0,jo.newError)("Illegal session mode "+e);return e},Q.default=xo;var w={},h={},Do=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Uo=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Lo=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fo=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Bo=r&&r.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},_=(Object.defineProperty(h,"__esModule",{value:!0}),h.bookmarkManager=void 0,Wo.prototype.updateBookmarks=function(e,t){return Do(this,void 0,void 0,function(){return Uo(this,function(e){throw new Error("Not implemented")})})},Wo.prototype.getBookmarks=function(){return Do(this,void 0,void 0,function(){return Uo(this,function(e){throw new Error("Not implemented")})})},Wo);function Wo(){throw new Error("Not implemented")}h.default=_,h.bookmarkManager=function(e){void 0===e&&(e={});var t=new Set(e.initialBookmarks);return new qo(t,e.bookmarksSupplier,e.bookmarksConsumer)};zo.prototype.updateBookmarks=function(f,p){return Do(this,void 0,void 0,function(){var t,r,n,o,i,u,a,s,c,l;return Uo(this,function(e){switch(e.label){case 0:t=this._bookmarks;try{for(r=Lo(f),n=r.next();!n.done;n=r.next())u=n.value,t.delete(u)}catch(e){a={error:e}}finally{try{n&&!n.done&&(s=r.return)&&s.call(r)}finally{if(a)throw a.error}}try{for(o=Lo(p),i=o.next();!i.done;i=o.next())u=i.value,t.add(u)}catch(e){c={error:e}}finally{try{i&&!i.done&&(l=o.return)&&l.call(o)}finally{if(c)throw c.error}}return"function"!=typeof this._bookmarksConsumer?[3,2]:[4,this._bookmarksConsumer(Bo([],Fo(t),!1))];case 1:e.sent(),e.label=2;case 2:return[2]}})})},zo.prototype.getBookmarks=function(){var s;return Do(this,void 0,void 0,function(){var t,r,n,o,i,u,a;return Uo(this,function(e){switch(e.label){case 0:return t=new Set(this._bookmarks),"function"!=typeof this._bookmarksSupplier?[3,2]:[4,this._bookmarksSupplier()];case 1:r=null!=(s=e.sent())?s:[];try{for(n=Lo(r),o=n.next();!o.done;o=n.next())i=o.value,t.add(i)}catch(e){u={error:e}}finally{try{o&&!o.done&&(a=n.return)&&a.call(n)}finally{if(u)throw u.error}}e.label=2;case 2:return[2,Bo([],Fo(t),!1)]}})})};var qo=zo;function zo(e,t,r){this._bookmarks=e,this._bookmarksSupplier=t,this._bookmarksConsumer=r}var g={},Vo=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Ho=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},m=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Go=(Object.defineProperty(g,"__esModule",{value:!0}),m(Dr)),Yo=t;function Ko(){}Ko.prototype.eagerResultTransformer=function(){return Zo},Ko.prototype.eager=function(){return Zo},Ko.prototype.mappedResultTransformer=function(e){return Xo(e)},Ko.prototype.mapped=function(e){return Xo(e)},Ko.prototype.first=function(){return Qo},Ko.prototype.summary=function(){return Jo};E=new Ko;function Zo(o){return Vo(this,void 0,void 0,function(){var t,r,n;return Ho(this,function(e){switch(e.label){case 0:return[4,o];case 1:return r=e.sent(),t=r.summary,r=r.records,[4,o.keys()];case 2:return n=e.sent(),[2,new Go.default(n,r,t)]}})})}function Xo(i){var e=this;if(null==i||null==i.collect&&null==i.map)throw(0,Yo.newError)("Requires a map or/and a collect functions.");return function(o){return Vo(e,void 0,void 0,function(){return Ho(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t,r){var n={records:[],keys:[]};o.subscribe({onKeys:function(e){n.keys=e},onNext:function(e){var t;null!=i.map?void 0!==(t=i.map(e))&&n.records.push(t):n.records.push(e)},onCompleted:function(e){null!=i.collect?t(i.collect(n.records,e,n.keys)):(e={records:n.records,summary:e,keys:n.keys},t(e))},onError:function(e){r(e)}})})];case 1:return[2,e.sent()]}})})}}function Qo(o){return Vo(this,void 0,void 0,function(){var t,r,n;return Ho(this,function(e){switch(e.label){case 0:return[4,(t=o[Symbol.asyncIterator]()).next()];case 1:n=e.sent(),r=n.value,n=n.done,e.label=2;case 2:return e.trys.push([2,,3,6]),!0===n?[2,void 0]:[2,r];case 3:return null==t.return?[3,5]:[4,t.return()];case 4:e.sent(),e.label=5;case 5:return[7];case 6:return[2]}})})}function Jo(t){return Vo(this,void 0,void 0,function(){return Ho(this,function(e){switch(e.label){case 0:return[4,t.summary()];case 1:return[2,e.sent()]}})})}Object.freeze(E),g.default=E;var _={},$o=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},ei=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},ti=(Object.defineProperty(_,"__esModule",{value:!0}),y);function ri(e){this._createSession=e}ri.prototype.execute=function(o,i,u){return $o(this,void 0,void 0,function(){var t,r,n=this;return ei(this,function(e){switch(e.label){case 0:t=this._createSession({database:o.database,bookmarkManager:o.bookmarkManager,impersonatedUser:o.impersonatedUser,auth:o.auth}),r=function(e,t,r){"function"==typeof(null==e?void 0:e.addEventListener)&&e.addEventListener(t,r);return{uninstall:function(){"function"==typeof(null==e?void 0:e.removeEventListener)&&e.removeEventListener(t,r)}}}(o.signal,"abort",function(){return $o(n,void 0,void 0,function(){return ei(this,function(e){switch(e.label){case 0:return[4,t.close()];case 1:return[2,e.sent()]}})})}),t._configureTransactionExecutor(!0,ti.TELEMETRY_APIS.EXECUTE_QUERY),e.label=1;case 1:return e.trys.push([1,,3,5]),[4,("READ"===o.routing?t.executeRead:t.executeWrite).bind(t)(function(r){return $o(n,void 0,void 0,function(){var t;return ei(this,function(e){switch(e.label){case 0:return t=r.run(i,u),[4,o.resultTransformer(t)];case 1:return[2,e.sent()]}})})},o.transactionConfig)];case 2:return[2,e.sent()];case 3:return r.uninstall(),[4,t.close()];case 4:return e.sent(),[7];case 5:return[2]}})})},_.default=ri;function ni(){this.routing=Oi.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0}var oi=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},ii=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},m=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ui=(Object.defineProperty(w,"__esModule",{value:!0}),w.QueryConfig=w.SessionConfig=w.routing=w.WRITE=w.READ=w.Driver=void 0,b),ai=m(Ar),si=y,ci=v,li=m(Q),fi=u,pi=h,di=m(g),hi=m(_),bi=t,yi=36e5,_i=1e3,vi=si.ACCESS_MODE_READ,mi=(w.READ=vi,si.ACCESS_MODE_WRITE),gi=(w.WRITE=mi,0),Oi=(w.SessionConfig=function(){this.defaultAccessMode=mi,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0},{WRITE:"WRITE",READ:"READ"}),E=(w.routing=Oi,Object.freeze(Oi),w.QueryConfig=ni,Object.defineProperty(wi.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),wi.prototype.executeQuery=function(o,i,u){var a,s;return void 0===u&&(u={}),oi(this,void 0,void 0,function(){var t,r,n;return ii(this,function(e){switch(e.label){case 0:if(t=null===u.bookmarkManager?void 0:null!=(a=u.bookmarkManager)?a:this.executeQueryBookmarkManager,r=null!=(a=u.resultTransformer)?a:di.default.eagerResultTransformer(),(n=null!=(s=u.routing)?s:Oi.WRITE)!==Oi.READ&&n!==Oi.WRITE)throw(0,bi.newError)('Illegal query routing config: "'.concat(n,'"'));return[4,this._queryExecutor.execute({resultTransformer:r,bookmarkManager:t,routing:n,database:u.database,impersonatedUser:u.impersonatedUser,transactionConfig:u.transactionConfig,auth:u.auth,signal:u.signal},o,i)];case 1:return[2,e.sent()]}})})},wi.prototype.verifyConnectivity=function(e){e=(void 0===e?{}:e).database,e=void 0===e?"":e;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:e,accessMode:vi})},wi.prototype.verifyAuthentication=function(e){var e=void 0===e?{}:e,t=e.database,r=e.auth;return oi(this,void 0,void 0,function(){return ii(this,function(e){switch(e.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:null!=t?t:"system",auth:r,accessMode:vi})];case 1:return[2,e.sent()]}})})},wi.prototype.getServerInfo=function(e){e=(void 0===e?{}:e).database,e=void 0===e?"":e;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:e,accessMode:vi})},wi.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},wi.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},wi.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},wi.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},wi.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},wi.prototype.isEncrypted=function(){return this._isEncrypted()},wi.prototype._supportsRouting=function(){return this._meta.routing},wi.prototype._isEncrypted=function(){return this._config.encrypted===fi.ENCRYPTION_ON||!0===this._config.encrypted},wi.prototype._getTrust=function(){return this._config.trust},wi.prototype.session=function(e){var e=void 0===e?{}:e,t=e.defaultAccessMode,r=e.bookmarks,n=e.database,o=e.impersonatedUser,i=e.fetchSize,u=e.bookmarkManager,a=e.notificationFilter,e=e.auth;return this._newSession({defaultAccessMode:void 0===t?mi:t,bookmarkOrBookmarks:r,database:void 0===n?"":n,reactive:!1,impersonatedUser:o,fetchSize:Pi(i,this._config.fetchSize),bookmarkManager:u,notificationFilter:a,auth:e})},wi.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),null!=this._connectionProvider?this._connectionProvider.close():Promise.resolve()},wi.prototype[Symbol.asyncDispose]=function(){return this.close()},wi.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},wi.prototype._newSession=function(e){var t=e.defaultAccessMode,r=e.bookmarkOrBookmarks,n=e.database,o=e.reactive,i=e.impersonatedUser,u=e.fetchSize,a=e.bookmarkManager,s=e.notificationFilter,e=e.auth,t=li.default._validateSessionMode(t),c=this._getOrCreateConnectionProvider(),r=null!=r?new ui.Bookmarks(r):ui.Bookmarks.empty();return this._createSession({mode:t,database:null!=n?n:"",connectionProvider:c,bookmarks:r,config:this._config,reactive:o,impersonatedUser:i,fetchSize:u,bookmarkManager:a,notificationFilter:s,auth:e,log:this._log})},wi.prototype._getOrCreateConnectionProvider=function(){var e;return null==this._connectionProvider&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(e=this._config,new ai.default(e.resolver)))),this._connectionProvider},wi);function wi(e,t,r,n,o){void 0===n&&(n=function(e){return new li.default(e)}),void 0===o&&(o=function(e){return new hi.default(e)}),(i=t=void 0===t?{}:t).maxConnectionLifetime=Ei(i.maxConnectionLifetime,yi),i.maxConnectionPoolSize=Ei(i.maxConnectionPoolSize,si.DEFAULT_POOL_MAX_SIZE),i.connectionAcquisitionTimeout=Ei(i.connectionAcquisitionTimeout,si.DEFAULT_POOL_ACQUISITION_TIMEOUT),i.fetchSize=Pi(i.fetchSize,_i),i.connectionTimeout=function(e){e=parseInt(e.connectionTimeout,10);return 0===e||!isNaN(e)&&e<0?null:isNaN(e)?si.DEFAULT_CONNECTION_TIMEOUT_MILLIS:e}(i),i.connectionLivenessCheckTimeout=function(e){if(null==e)return;e=parseInt(e,10);if(e<0||Number.isNaN(e))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(e));return e}(i.connectionLivenessCheckTimeout);var i=ci.Logger.create(t);!function(e,t){var r=e.resolver;if(null!=r&&"function"!=typeof r)throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof r));e.connectionAcquisitionTimeout<e.connectionTimeout&&t.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired');if(null==(null==(r=e.notificationFilter)?void 0:r.disabledCategories)||null==(null==(t=e.notificationFilter)?void 0:t.disabledClassifications))return;throw new Error('The notificationFilter can\'t have both "disabledCategories" and  "disabledClassifications" configured at the same time.')}(t,i),this._id=gi++,this._meta=e,this._config=t,this._log=i,this._createConnectionProvider=r,this._createSession=n,this._defaultExecuteQueryBookmarkManager=(0,pi.bookmarkManager)(),this._queryExecutor=o(this.session.bind(this)),this._connectionProvider=null,this._afterConstruction()}function Ei(e,t){e=parseInt(e,10);return 0<e||0===e?e:e<0?Number.MAX_SAFE_INTEGER:t}function Pi(e,t){e=parseInt(e,10);if(0<e||e===si.FETCH_ALL)return e;if(0===e||e<0)throw new Error("The fetch size can only be a positive value or ".concat(si.FETCH_ALL," for ALL. However fetchSize = ").concat(e));return t}w.Driver=E,w.default=E;b={};function Si(e){return null!=e&&""!==e&&(Object.getPrototypeOf(e)!==Object.prototype||0!==Object.keys(e).length)}Object.defineProperty(b,"__esModule",{value:!0}),b.default={basic:function(e,t,r){return null!=r?{scheme:"basic",principal:e,credentials:t,realm:r}:{scheme:"basic",principal:e,credentials:t}},kerberos:function(e){return{scheme:"kerberos",principal:"",credentials:e}},bearer:function(e){return{scheme:"bearer",credentials:e}},none:function(){return{scheme:"none"}},custom:function(e,t,r,n,o){n={scheme:n,principal:e};return Si(t)&&(n.credentials=t),Si(r)&&(n.realm=r),Si(o)&&(n.parameters=o),n}};var Ar={},Ti=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},ji=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},y=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ci=(Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.staticAuthTokenManager=Ar.authTokenManagers=Ar.AuthTokenAndExpiration=void 0,y(b)),Ii=p;function Ri(){}function Ai(){}Ri.prototype.getToken=function(){throw new Error("Not Implemented")},Ri.prototype.handleSecurityException=function(e,t){throw new Error("Not implemented")},Ar.default=Ri,Ar.AuthTokenAndExpiration=function(){this.token=Ci.default.none(),this.expiration=void 0},Ai.prototype.bearer=function(e){e=e.tokenProvider;if("function"!=typeof e)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof e));return new Ni(e,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},Ai.prototype.basic=function(e){var t=this,r=e.tokenProvider;if("function"!=typeof r)throw new TypeError("tokenProvider should be function, but got: ".concat(typeof r));return new Ni(function(){return Ti(t,void 0,void 0,function(){var t;return ji(this,function(e){switch(e.label){case 0:return t={},[4,r()];case 1:return[2,(t.token=e.sent(),t)]}})})},["Neo.ClientError.Security.Unauthorized"])};v=new Ai;Ar.authTokenManagers=v,Object.freeze(v),Ar.staticAuthTokenManager=function(e){return e=e.authToken,new Di(e)};Mi.prototype.subscribe=function(e){this._subscribers.push(e)},Mi.prototype.onCompleted=function(t){this._subscribers.forEach(function(e){return e.onCompleted(t)})},Mi.prototype.onError=function(t){this._subscribers.forEach(function(e){return e.onError(t)})};var ki=Mi;function Mi(e){this._subscribers=e=void 0===e?[]:e}xi.prototype.getToken=function(){var t;return Ti(this,void 0,void 0,function(){return ji(this,function(e){switch(e.label){case 0:return void 0===this._currentAuthData||void 0!==this._currentAuthData.expiration&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2,null==(t=this._currentAuthData)?void 0:t.token]}})})},xi.prototype.handleSecurityException=function(e,t){return!!this._handledSecurityCodes.includes(t)&&(Ii.util.equals(e,null==(t=this._currentAuthData)?void 0:t.token)&&this._scheduleRefreshAuthToken(),!0)},xi.prototype._scheduleRefreshAuthToken=function(e){var r=this;void 0===this._refreshObservable&&(this._currentAuthData=void 0,this._refreshObservable=new ki,Promise.resolve(this._tokenProvider()).then(function(e){var t;r._currentAuthData=e,null!=(t=r._refreshObservable)&&t.onCompleted(e)}).catch(function(e){var t;null!=(t=r._refreshObservable)&&t.onError(e)}).finally(function(){r._refreshObservable=void 0})),void 0!==e&&this._refreshObservable.subscribe(e)},xi.prototype._refreshAuthToken=function(){return Ti(this,void 0,void 0,function(){var r=this;return ji(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e,t){r._scheduleRefreshAuthToken({onCompleted:e,onError:t})})];case 1:return[2,e.sent()]}})})};var Ni=xi;function xi(e,t,r,n){this._tokenProvider=e,this._handledSecurityCodes=t,this._currentAuthData=r,this._refreshObservable=n}Ui.prototype.getToken=function(){return this._authToken},Ui.prototype.handleSecurityException=function(e,t){return!1};var Di=Ui;function Ui(e){this._authToken=e}function Li(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0}var Fi,Bi,u={},m=r&&r.__extends||(Fi=function(e,t){return(Fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Fi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),_=(Object.defineProperty(u,"__esModule",{value:!0}),u.InternalConfig=u.Config=void 0,u.Config=Li,m(Wi,Bi=Li),Wi);function Wi(){return null!==Bi&&Bi.apply(this,arguments)||this}u.InternalConfig=_;var qi,E={},y=r&&r.__extends||(qi=function(e,t){return(qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}qi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),zi=r&&r.__assign||function(){return(zi=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Vi=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),Hi=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&Vi(t,e,r);return Hi(t,e),t},Gi=(Object.defineProperty(E,"__esModule",{value:!0}),E.resolveCertificateProvider=E.clientCertificateProviders=E.RotatingClientCertificateProvider=E.ClientCertificateProvider=void 0,v(X)),m=(E.default=function(){this.certfile="",this.keyfile="",this.password=void 0},Yi.prototype.hasUpdate=function(){throw new Error("Not Implemented")},Yi.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},Yi);function Yi(){}E.ClientCertificateProvider=m;y(Zi,Ki=m),Zi.prototype.updateCertificate=function(e){throw new Error("Not implemented")};var Ki,_=Zi;function Zi(){return null!==Ki&&Ki.apply(this,arguments)||this}function Xi(){}E.RotatingClientCertificateProvider=_,Xi.prototype.rotating=function(e){e=e.initialCertificate;if(null==e||!Qi(e))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(Gi.stringify(e)));e=zi({},e);return new yu(e)};v=new Xi;function Qi(e){return null!=e&&"object"==typeof e&&"certfile"in e&&(Ji(r=e.certfile)||$i(r,Ji))&&"keyfile"in e&&(t(r=e.keyfile)||$i(r,t))&&eu("password",e);function t(e){return"string"==typeof e||null!=e&&"object"==typeof e&&"path"in e&&"string"==typeof e.path&&eu("password",e)}var r}function Ji(e){return"string"==typeof e}function $i(e,t,r){return void 0===r&&(r=!1),Array.isArray(e)&&(r||0<e.length)&&e.filter(t).length===e.length}function eu(e,t){return!(e in t)||null==t[e]||"string"==typeof t[e]}E.clientCertificateProviders=v,Object.freeze(v),E.resolveCertificateProvider=function(e){if(null!=e){if("object"==typeof e&&"hasUpdate"in e&&"getClientCertificate"in e&&"function"==typeof e.getClientCertificate&&"function"==typeof e.hasUpdate)return e;var t;if(Qi(e))return t=zi({},e),{getClientCertificate:function(){return t},hasUpdate:function(){return!1}};throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(Gi.stringify(e)))}};_u.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},_u.prototype.getClientCertificate=function(){return this._certificate},_u.prototype.updateCertificate=function(e){if(!Qi(e))throw new TypeError("certificate should be ClientCertificate, but got ".concat(Gi.stringify(e)));this._certificate=zi({},e),this._updated=!0};var tu,ru,nu,ou,iu,uu,au,su,cu,lu,fu,pu,du,hu,bu,yu=_u;function _u(e,t){void 0===t&&(t=!1),this._certificate=e,this._updated=t}y=e,tu=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),ru=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),m=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&tu(t,e,r);return ru(t,e),t},_=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(y,"__esModule",{value:!0}),y.Releasable=y.ConnectionProvider=y.EagerResult=y.Result=y.Stats=y.QueryStatistics=y.ProfiledPlan=y.Plan=y.GqlStatusObject=y.Notification=y.ServerInfo=y.queryType=y.ResultSummary=y.Record=y.isPathSegment=y.PathSegment=y.isPath=y.Path=y.isUnboundRelationship=y.UnboundRelationship=y.isRelationship=y.Relationship=y.isNode=y.Node=y.Time=y.LocalTime=y.LocalDateTime=y.isTime=y.isLocalTime=y.isLocalDateTime=y.isDuration=y.isDateTime=y.isDate=y.Duration=y.DateTime=y.Date=y.Point=y.isPoint=y.internal=y.toString=y.toNumber=y.inSafeRange=y.isInt=y.int=y.Integer=y.error=y.isRetriableError=y.Neo4jError=y.newError=y.authTokenManagers=void 0,y.resolveCertificateProvider=y.clientCertificateProviders=y.notificationFilterMinimumSeverityLevel=y.notificationFilterDisabledClassification=y.notificationFilterDisabledCategory=y.notificationSeverityLevel=y.notificationClassification=y.notificationCategory=y.resultTransformers=y.routing=y.staticAuthTokenManager=y.bookmarkManager=y.auth=y.json=y.driver=y.types=y.Driver=y.Session=y.TransactionPromise=y.ManagedTransaction=y.Transaction=y.Connection=void 0,nu=t,Object.defineProperty(y,"newError",{enumerable:!0,get:function(){return nu.newError}}),Object.defineProperty(y,"Neo4jError",{enumerable:!0,get:function(){return nu.Neo4jError}}),Object.defineProperty(y,"isRetriableError",{enumerable:!0,get:function(){return nu.isRetriableError}}),ou=m(n),y.Integer=ou.default,Object.defineProperty(y,"int",{enumerable:!0,get:function(){return ou.int}}),Object.defineProperty(y,"isInt",{enumerable:!0,get:function(){return ou.isInt}}),Object.defineProperty(y,"inSafeRange",{enumerable:!0,get:function(){return ou.inSafeRange}}),Object.defineProperty(y,"toNumber",{enumerable:!0,get:function(){return ou.toNumber}}),Object.defineProperty(y,"toString",{enumerable:!0,get:function(){return ou.toString}}),iu=i,Object.defineProperty(y,"Date",{enumerable:!0,get:function(){return iu.Date}}),Object.defineProperty(y,"DateTime",{enumerable:!0,get:function(){return iu.DateTime}}),Object.defineProperty(y,"Duration",{enumerable:!0,get:function(){return iu.Duration}}),Object.defineProperty(y,"isDate",{enumerable:!0,get:function(){return iu.isDate}}),Object.defineProperty(y,"isDateTime",{enumerable:!0,get:function(){return iu.isDateTime}}),Object.defineProperty(y,"isDuration",{enumerable:!0,get:function(){return iu.isDuration}}),Object.defineProperty(y,"isLocalDateTime",{enumerable:!0,get:function(){return iu.isLocalDateTime}}),Object.defineProperty(y,"isLocalTime",{enumerable:!0,get:function(){return iu.isLocalTime}}),Object.defineProperty(y,"isTime",{enumerable:!0,get:function(){return iu.isTime}}),Object.defineProperty(y,"LocalDateTime",{enumerable:!0,get:function(){return iu.LocalDateTime}}),Object.defineProperty(y,"LocalTime",{enumerable:!0,get:function(){return iu.LocalTime}}),Object.defineProperty(y,"Time",{enumerable:!0,get:function(){return iu.Time}}),uu=l,Object.defineProperty(y,"Node",{enumerable:!0,get:function(){return uu.Node}}),Object.defineProperty(y,"isNode",{enumerable:!0,get:function(){return uu.isNode}}),Object.defineProperty(y,"Relationship",{enumerable:!0,get:function(){return uu.Relationship}}),Object.defineProperty(y,"isRelationship",{enumerable:!0,get:function(){return uu.isRelationship}}),Object.defineProperty(y,"UnboundRelationship",{enumerable:!0,get:function(){return uu.UnboundRelationship}}),Object.defineProperty(y,"isUnboundRelationship",{enumerable:!0,get:function(){return uu.isUnboundRelationship}}),Object.defineProperty(y,"Path",{enumerable:!0,get:function(){return uu.Path}}),Object.defineProperty(y,"isPath",{enumerable:!0,get:function(){return uu.isPath}}),Object.defineProperty(y,"PathSegment",{enumerable:!0,get:function(){return uu.PathSegment}}),Object.defineProperty(y,"isPathSegment",{enumerable:!0,get:function(){return uu.isPathSegment}}),v=_(Qe),y.Record=v.default,au=s,Object.defineProperty(y,"isPoint",{enumerable:!0,get:function(){return au.isPoint}}),Object.defineProperty(y,"Point",{enumerable:!0,get:function(){return au.Point}}),su=m(f),y.ResultSummary=su.default,Object.defineProperty(y,"queryType",{enumerable:!0,get:function(){return su.queryType}}),Object.defineProperty(y,"ServerInfo",{enumerable:!0,get:function(){return su.ServerInfo}}),Object.defineProperty(y,"Plan",{enumerable:!0,get:function(){return su.Plan}}),Object.defineProperty(y,"ProfiledPlan",{enumerable:!0,get:function(){return su.ProfiledPlan}}),Object.defineProperty(y,"QueryStatistics",{enumerable:!0,get:function(){return su.QueryStatistics}}),Object.defineProperty(y,"Stats",{enumerable:!0,get:function(){return su.Stats}}),cu=m(T),y.Notification=cu.default,Object.defineProperty(y,"GqlStatusObject",{enumerable:!0,get:function(){return cu.GqlStatusObject}}),Object.defineProperty(y,"notificationCategory",{enumerable:!0,get:function(){return cu.notificationCategory}}),Object.defineProperty(y,"notificationClassification",{enumerable:!0,get:function(){return cu.notificationClassification}}),Object.defineProperty(y,"notificationSeverityLevel",{enumerable:!0,get:function(){return cu.notificationSeverityLevel}}),lu=S,Object.defineProperty(y,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return lu.notificationFilterDisabledCategory}}),Object.defineProperty(y,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return lu.notificationFilterDisabledClassification}}),Object.defineProperty(y,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return lu.notificationFilterMinimumSeverityLevel}}),t=_(j),y.Result=t.default,n=_(Dr),y.EagerResult=n.default,fu=m(O),y.ConnectionProvider=fu.default,Object.defineProperty(y,"Releasable",{enumerable:!0,get:function(){return fu.Releasable}}),i=_(o),y.Connection=i.default,l=_(Tr),y.Transaction=l.default,Qe=_(qr),y.ManagedTransaction=Qe.default,s=_(P),y.TransactionPromise=s.default,f=_(Q),y.Session=f.default,T=m(w),S=T,y.Driver=T.default,y.driver=S,j=_(b),y.auth=j.default,pu=h,Object.defineProperty(y,"bookmarkManager",{enumerable:!0,get:function(){return pu.bookmarkManager}}),du=Ar,Object.defineProperty(y,"authTokenManagers",{enumerable:!0,get:function(){return du.authTokenManagers}}),Object.defineProperty(y,"staticAuthTokenManager",{enumerable:!0,get:function(){return du.staticAuthTokenManager}}),hu=w,Object.defineProperty(y,"routing",{enumerable:!0,get:function(){return hu.routing}}),Dr=m(u),y.types=Dr,O=m(X),y.json=O,_=_(g),y.resultTransformers=_.default,bu=E,Object.defineProperty(y,"clientCertificateProviders",{enumerable:!0,get:function(){return bu.clientCertificateProviders}}),Object.defineProperty(y,"resolveCertificateProvider",{enumerable:!0,get:function(){return bu.resolveCertificateProvider}}),m=m(p),y.internal=m,o={SERVICE_UNAVAILABLE:nu.SERVICE_UNAVAILABLE,SESSION_EXPIRED:nu.SESSION_EXPIRED,PROTOCOL_ERROR:nu.PROTOCOL_ERROR},y.error=o,o={authTokenManagers:du.authTokenManagers,newError:nu.newError,Neo4jError:nu.Neo4jError,isRetriableError:nu.isRetriableError,error:o,Integer:ou.default,int:ou.int,isInt:ou.isInt,inSafeRange:ou.inSafeRange,toNumber:ou.toNumber,toString:ou.toString,internal:m,isPoint:au.isPoint,Point:au.Point,Date:iu.Date,DateTime:iu.DateTime,Duration:iu.Duration,isDate:iu.isDate,isDateTime:iu.isDateTime,isDuration:iu.isDuration,isLocalDateTime:iu.isLocalDateTime,isLocalTime:iu.isLocalTime,isTime:iu.isTime,LocalDateTime:iu.LocalDateTime,LocalTime:iu.LocalTime,Time:iu.Time,Node:uu.Node,isNode:uu.isNode,Relationship:uu.Relationship,isRelationship:uu.isRelationship,UnboundRelationship:uu.UnboundRelationship,isUnboundRelationship:uu.isUnboundRelationship,Path:uu.Path,isPath:uu.isPath,PathSegment:uu.PathSegment,isPathSegment:uu.isPathSegment,Record:v.default,ResultSummary:su.default,queryType:su.queryType,ServerInfo:su.ServerInfo,Notification:cu.default,GqlStatusObject:cu.GqlStatusObject,Plan:su.Plan,ProfiledPlan:su.ProfiledPlan,QueryStatistics:su.QueryStatistics,Stats:su.Stats,Result:t.default,EagerResult:n.default,Transaction:l.default,ManagedTransaction:Qe.default,TransactionPromise:s.default,Session:f.default,Driver:T.default,Connection:i.default,Releasable:fu.Releasable,types:Dr,driver:S,json:O,auth:j.default,bookmarkManager:pu.bookmarkManager,routing:hu.routing,resultTransformers:_.default,notificationCategory:cu.notificationCategory,notificationClassification:cu.notificationClassification,notificationSeverityLevel:cu.notificationSeverityLevel,notificationFilterDisabledCategory:lu.notificationFilterDisabledCategory,notificationFilterDisabledClassification:lu.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:lu.notificationFilterMinimumSeverityLevel,clientCertificateProviders:bu.clientCertificateProviders,resolveCertificateProvider:bu.resolveCertificateProvider},y.default=o;Tr={},qr={},P={},Q={},b={};Object.defineProperty(b,"__esModule",{value:!0}),b.isFunction=void 0,b.isFunction=function(e){return"function"==typeof e};h={},Ar={},w={};Object.defineProperty(w,"__esModule",{value:!0}),w.createErrorClass=void 0,w.createErrorClass=function(e){return(e=e(function(e){Error.call(e),e.stack=(new Error).stack})).prototype=Object.create(Error.prototype),e.prototype.constructor=e},Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.UnsubscriptionError=void 0;u=w,Ar.UnsubscriptionError=u.createErrorClass(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}),X={};Object.defineProperty(X,"__esModule",{value:!0}),X.arrRemove=void 0,X.arrRemove=function(e,t){e&&0<=(t=e.indexOf(t))&&e.splice(t,1)};var vu=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mu=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},gu=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Ou=(Object.defineProperty(h,"__esModule",{value:!0}),h.isSubscription=h.EMPTY_SUBSCRIPTION=h.Subscription=void 0,b),wu=Ar,Eu=X,Pu=(Su.prototype.unsubscribe=function(){var t,e,r;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n))try{for(var o=vu(n),i=o.next();!i.done;i=o.next())i.value.remove(this)}catch(e){a={error:e}}finally{try{i&&!i.done&&(u=o.return)&&u.call(o)}finally{if(a)throw a.error}}else n.remove(this);var u=this.initialTeardown;if(Ou.isFunction(u))try{u()}catch(e){r=e instanceof wu.UnsubscriptionError?e.errors:[e]}var a=this._finalizers;if(a){this._finalizers=null;try{for(var s=vu(a),c=s.next();!c.done;c=s.next()){var l=c.value;try{Tu(l)}catch(e){r=null!=r?r:[],e instanceof wu.UnsubscriptionError?r=gu(gu([],mu(r)),mu(e.errors)):r.push(e)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}}if(r)throw new wu.UnsubscriptionError(r)}},Su.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Tu(e);else{if(e instanceof Su){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!=(t=this._finalizers)?t:[]).push(e)}},Su.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},Su.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},Su.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Eu.arrRemove(t,e)},Su.prototype.remove=function(e){var t=this._finalizers;t&&Eu.arrRemove(t,e),e instanceof Su&&e._removeParent(this)},Su.EMPTY=((g=new Su).closed=!0,g),Su);function Su(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}function Tu(e){Ou.isFunction(e)?e():e.unsubscribe()}h.Subscription=Pu,h.EMPTY_SUBSCRIPTION=Pu.EMPTY,h.isSubscription=function(e){return e instanceof Pu||e&&"closed"in e&&Ou.isFunction(e.remove)&&Ou.isFunction(e.add)&&Ou.isFunction(e.unsubscribe)};var ju,Cu,Iu,E={},p=(Object.defineProperty(E,"__esModule",{value:!0}),E.config=void 0,E.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},{}),m={},Ru=(ju=m,Cu=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Iu=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Object.defineProperty(ju,"__esModule",{value:!0}),ju.timeoutProvider=void 0,ju.timeoutProvider={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=ju.timeoutProvider.delegate;return null!=o&&o.setTimeout?o.setTimeout.apply(o,Iu([e,t],Cu(r))):setTimeout.apply(void 0,Iu([e,t],Cu(r)))},clearTimeout:function(e){var t=ju.timeoutProvider.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0},Object.defineProperty(p,"__esModule",{value:!0}),p.reportUnhandledError=void 0,E),Au=m;p.reportUnhandledError=function(t){Au.timeoutProvider.setTimeout(function(){var e=Ru.config.onUnhandledError;if(!e)throw t;e(t)})};v={};Object.defineProperty(v,"__esModule",{value:!0}),v.noop=void 0,v.noop=function(){};t={};function ku(e,t,r){return{kind:e,value:t,error:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=ku("C",void 0,void 0),t.errorNotification=function(e){return ku("E",void 0,e)},t.nextNotification=function(e){return ku("N",e,void 0)},t.createNotification=ku;var Mu,Nu,xu,Du,Uu,Lu,Fu,Bu,Wu,qu,zu,Vu,Hu,Gu,n={},Yu=(Object.defineProperty(n,"__esModule",{value:!0}),n.captureError=n.errorContext=void 0,E),Ku=null;function Zu(e){var t=xu.call(this)||this;return t.isStopped=!1,e?(t.destination=e,Uu.isSubscription(e)&&e.add(t)):t.destination=Mu.EMPTY_OBSERVER,t}function Xu(e,t){return zu.call(e,t)}function Qu(e){this.partialObserver=e}function Ju(e,t,r){var n=Hu.call(this)||this;return r=Du.isFunction(e)||!e?{next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=r?r:void 0}:n&&Lu.config.useDeprecatedNextContext?((t=Object.create(e)).unsubscribe=function(){return n.unsubscribe()},{next:e.next&&Xu(e.next,t),error:e.error&&Xu(e.error,t),complete:e.complete&&Xu(e.complete,t)}):e,n.destination=new Vu(r),n}function $u(e){Lu.config.useDeprecatedSynchronousErrorHandling?qu.captureError(e):Fu.reportUnhandledError(e)}function ea(e,t){var r=Lu.config.onStoppedNotification;r&&Wu.timeoutProvider.setTimeout(function(){return r(e,t)})}n.errorContext=function(e){if(Yu.config.useDeprecatedSynchronousErrorHandling){var t=!Ku;if(t&&(Ku={errorThrown:!1,error:null}),e(),t){var t=Ku,r=t.errorThrown,t=t.error;if(Ku=null,r)throw t}}else e()},n.captureError=function(e){Yu.config.useDeprecatedSynchronousErrorHandling&&Ku&&(Ku.errorThrown=!0,Ku.error=e)},Mu=Q,l=r&&r.__extends||(Nu=function(e,t){return(Nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Nu(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.EMPTY_OBSERVER=Mu.SafeSubscriber=Mu.Subscriber=void 0,Du=b,Lu=E,Fu=p,Qe=v,Bu=t,Wu=m,qu=n,xu=(Uu=h).Subscription,l(Zu,xu),Zu.create=function(e,t,r){return new Gu(e,t,r)},Zu.prototype.next=function(e){this.isStopped?ea(Bu.nextNotification(e),this):this._next(e)},Zu.prototype.error=function(e){this.isStopped?ea(Bu.errorNotification(e),this):(this.isStopped=!0,this._error(e))},Zu.prototype.complete=function(){this.isStopped?ea(Bu.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},Zu.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,xu.prototype.unsubscribe.call(this),this.destination=null)},Zu.prototype._next=function(e){this.destination.next(e)},Zu.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},Zu.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},s=Zu,Mu.Subscriber=s,zu=Function.prototype.bind,Qu.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){$u(e)}},Qu.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){$u(e)}else $u(e)},Qu.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){$u(e)}},Vu=Qu,l(Ju,Hu=s),Gu=Ju,Mu.SafeSubscriber=Gu,Mu.EMPTY_OBSERVER={closed:!0,next:Qe.noop,error:function(e){throw e},complete:Qe.noop};f={},Object.defineProperty(f,"__esModule",{value:!0}),f.observable=void 0,f.observable="function"==typeof Symbol&&Symbol.observable||"@@observable",T={},i={};Object.defineProperty(i,"__esModule",{value:!0}),i.identity=void 0,i.identity=function(e){return e},Object.defineProperty(T,"__esModule",{value:!0}),T.pipeFromArray=T.pipe=void 0;var ta=i;function ra(t){return 0===t.length?ta.identity:1===t.length?t[0]:function(e){return t.reduce(function(e,t){return t(e)},e)}}T.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ra(e)},T.pipeFromArray=ra,Object.defineProperty(P,"__esModule",{value:!0}),P.Observable=void 0;var na=Q,oa=h,Dr=f,ia=T,ua=E,aa=b,sa=n;function ca(e){e&&(this._subscribe=e)}function la(e){return null!=(e=null!=e?e:ua.config.Promise)?e:Promise}ca.prototype.lift=function(e){var t=new ca;return t.source=this,t.operator=e,t},ca.prototype.subscribe=function(e,t,r){var n,o=this,i=(n=e)&&n instanceof na.Subscriber||function(e){return e&&aa.isFunction(e.next)&&aa.isFunction(e.error)&&aa.isFunction(e.complete)}(n)&&oa.isSubscription(n)?e:new na.SafeSubscriber(e,t,r);return sa.errorContext(function(){var e=o.operator,t=o.source;i.add(e?e.call(i,t):t?o._subscribe(i):o._trySubscribe(i))}),i},ca.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},ca.prototype.forEach=function(n,e){var o=this;return new(e=la(e))(function(e,t){var r=new na.SafeSubscriber({next:function(e){try{n(e)}catch(e){t(e),r.unsubscribe()}},error:t,complete:e});o.subscribe(r)})},ca.prototype._subscribe=function(e){var t;return null==(t=this.source)?void 0:t.subscribe(e)},ca.prototype[Dr.observable]=function(){return this},ca.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ia.pipeFromArray(e)(this)},ca.prototype.toPromise=function(e){var n=this;return new(e=la(e))(function(e,t){var r;n.subscribe(function(e){return r=e},function(e){return t(e)},function(){return e(r)})})},ca.create=function(e){return new ca(e)},P.Observable=ca;var S={},O={},j={},fa=(Object.defineProperty(j,"__esModule",{value:!0}),j.operate=j.hasLift=void 0,b);function pa(e){return fa.isFunction(null==e?void 0:e.lift)}j.hasLift=pa,j.operate=function(t){return function(e){if(pa(e))return e.lift(function(e){try{return t(e,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}};var da,_={},y=r&&r.__extends||(da=function(e,t){return(da=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}da(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(_,"__esModule",{value:!0}),_.OperatorSubscriber=_.createOperatorSubscriber=void 0,Q);_.createOperatorSubscriber=function(e,t,r,n,o){return new ba(e,t,r,n,o)};y(ya,ha=o.Subscriber),ya.prototype.unsubscribe=function(){var e;this.shouldUnsubscribe&&!this.shouldUnsubscribe()||(e=this.closed,ha.prototype.unsubscribe.call(this),e||null==(e=this.onFinalize)||e.call(this))};var ha,ba=ya;function ya(t,r,e,n,o,i){var u=ha.call(this,t)||this;return u.onFinalize=o,u.shouldUnsubscribe=i,u._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:ha.prototype._next,u._error=n?function(e){try{n(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:ha.prototype._error,u._complete=e?function(){try{e()}catch(e){t.error(e)}finally{this.unsubscribe()}}:ha.prototype._complete,u}_.OperatorSubscriber=ba,Object.defineProperty(O,"__esModule",{value:!0}),O.refCount=void 0;var _a=j,va=_;O.refCount=function(){return _a.operate(function(r,n){var o=null,e=(r._refCount++,va.createOperatorSubscriber(n,void 0,void 0,void 0,function(){var e,t;!r||r._refCount<=0||0<--r._refCount?o=null:(e=r._connection,t=o,o=null,!e||t&&e!==t||e.unsubscribe(),n.unsubscribe())}));r.subscribe(e),e.closed||(o=r.connect())})};var ma,u=r&&r.__extends||(ma=function(e,t){return(ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ma(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(S,"__esModule",{value:!0}),S.ConnectableObservable=void 0;var ga,Oa=h,wa=O,Ea=_,Pa=j,g=(ga=P.Observable,u(Sa,ga),Sa.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},Sa.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},Sa.prototype._teardown=function(){this._refCount=0;var e=this._connection;(this._subject=this._connection=null)!=e&&e.unsubscribe()},Sa.prototype.connect=function(){var t,r=this,e=this._connection;return e||(e=this._connection=new Oa.Subscription,t=this.getSubject(),e.add(this.source.subscribe(Ea.createOperatorSubscriber(t,void 0,function(){r._teardown(),t.complete()},function(e){r._teardown(),t.error(e)},function(){return r._teardown()}))),e.closed&&(this._connection=null,e=Oa.Subscription.EMPTY)),e},Sa.prototype.refCount=function(){return wa.refCount()(this)},Sa);function Sa(e,t){var r=ga.call(this)||this;return r.source=e,r.subjectFactory=t,r._subject=null,r._refCount=0,r._connection=null,Pa.hasLift(e)&&(r.lift=e.lift),r}S.ConnectableObservable=g;var Ta,ja,Ca,Ia,Ra,t={},m={},l=(Ta=m,Object.defineProperty(Ta,"__esModule",{value:!0}),Ta.performanceTimestampProvider=void 0,Ta.performanceTimestampProvider={now:function(){return(Ta.performanceTimestampProvider.delegate||performance).now()},delegate:void 0},{}),Aa=(ja=l,Ca=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Ia=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Object.defineProperty(ja,"__esModule",{value:!0}),ja.animationFrameProvider=void 0,Ra=h,ja.animationFrameProvider={schedule:function(t){var e=requestAnimationFrame,r=cancelAnimationFrame,n=ja.animationFrameProvider.delegate,o=(n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame),e(function(e){r=void 0,t(e)}));return new Ra.Subscription(function(){return null==r?void 0:r(o)})},requestAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ja.animationFrameProvider.delegate;return((null==r?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,Ia([],Ca(e)))},cancelAnimationFrame:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ja.animationFrameProvider.delegate;return((null==r?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Ia([],Ca(e)))},delegate:void 0},Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0,P),ka=m,Ma=l;function Na(a){return new Aa.Observable(function(r){var n=a||ka.performanceTimestampProvider,o=n.now(),i=0,u=function(){r.closed||(i=Ma.animationFrameProvider.requestAnimationFrame(function(e){i=0;var t=n.now();r.next({timestamp:a?t:e,elapsed:t-o}),u()}))};return u(),function(){i&&Ma.animationFrameProvider.cancelAnimationFrame(i)}})}t.animationFrames=function(e){return e?Na(e):Ua};var xa,Da,Ua=Na(),s={},Qe={},Dr=(Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.ObjectUnsubscribedError=void 0,w),y=(Qe.ObjectUnsubscribedError=Dr.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),r&&r.__extends||(xa=function(e,t){return(xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}xa(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),La=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fa=(Object.defineProperty(s,"__esModule",{value:!0}),s.AnonymousSubject=s.Subject=void 0,P),Ba=h,Wa=Qe,qa=X,za=n,o=(Da=Fa.Observable,y(Va,Da),Va.prototype.lift=function(e){var t=new Ga(this,this);return t.operator=e,t},Va.prototype._throwIfClosed=function(){if(this.closed)throw new Wa.ObjectUnsubscribedError},Va.prototype.next=function(o){var i=this;za.errorContext(function(){var t,e;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var r=La(i.currentObservers),n=r.next();!n.done;n=r.next())n.value.next(o)}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}})},Va.prototype.error=function(t){var r=this;za.errorContext(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=t;for(var e=r.observers;e.length;)e.shift().error(t)}})},Va.prototype.complete=function(){var t=this;za.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},Va.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(Va.prototype,"observed",{get:function(){var e;return 0<(null==(e=this.observers)?void 0:e.length)},enumerable:!1,configurable:!0}),Va.prototype._trySubscribe=function(e){return this._throwIfClosed(),Da.prototype._trySubscribe.call(this,e)},Va.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},Va.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,o=this.observers;return r||n?Ba.EMPTY_SUBSCRIPTION:(this.currentObservers=null,o.push(e),new Ba.Subscription(function(){t.currentObservers=null,qa.arrRemove(o,e)}))},Va.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},Va.prototype.asObservable=function(){var e=new Fa.Observable;return e.source=this,e},Va.create=function(e,t){return new Ga(e,t)},Va);function Va(){var e=Da.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}s.Subject=o;y(Ya,Ha=o),Ya.prototype.next=function(e){var t,r;null!=(r=null==(t=this.destination)?void 0:t.next)&&r.call(t,e)},Ya.prototype.error=function(e){var t,r;null!=(r=null==(t=this.destination)?void 0:t.error)&&r.call(t,e)},Ya.prototype.complete=function(){var e,t;null!=(t=null==(e=this.destination)?void 0:e.complete)&&t.call(e)},Ya.prototype._subscribe=function(e){var t;return null!=(t=null==(t=this.source)?void 0:t.subscribe(e))?t:Ba.EMPTY_SUBSCRIPTION};var Ha,Ga=Ya;function Ya(e,t){var r=Ha.call(this)||this;return r.destination=e,r.source=t,r}s.AnonymousSubject=Ga;var Ka,u={},g=r&&r.__extends||(Ka=function(e,t){return(Ka=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ka(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(u,"__esModule",{value:!0}),u.BehaviorSubject=void 0;Za=s.Subject,g(Xa,Za),Object.defineProperty(Xa.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),Xa.prototype._subscribe=function(e){var t=Za.prototype._subscribe.call(this,e);return t.closed||e.next(this._value),t},Xa.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},Xa.prototype.next=function(e){Za.prototype.next.call(this,this._value=e)};var Za,m=Xa;function Xa(e){var t=Za.call(this)||this;return t._value=e,t}u.BehaviorSubject=m;var Qa,Ja,Dr={},n={},y=(Qa=n,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.dateTimestampProvider=void 0,Qa.dateTimestampProvider={now:function(){return(Qa.dateTimestampProvider.delegate||Date).now()},delegate:void 0},r&&r.__extends||(Ja=function(e,t){return(Ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ja(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}));Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.ReplaySubject=void 0;var $a,es=n,o=($a=s.Subject,y(ts,$a),ts.prototype.next=function(e){var t=this.isStopped,r=this._buffer,n=this._infiniteTimeWindow,o=this._timestampProvider,i=this._windowTime;t||(r.push(e),n||r.push(o.now()+i)),this._trimBuffer(),$a.prototype.next.call(this,e)},ts.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),o=0;o<n.length&&!e.closed;o+=r?1:2)e.next(n[o]);return this._checkFinalizedStatuses(e),t},ts.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,n=this._infiniteTimeWindow,o=(n?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!n){for(var i=t.now(),u=0,a=1;a<r.length&&r[a]<=i;a+=2)u=a;u&&r.splice(0,u+1)}},ts);function ts(e,t,r){void 0===e&&(e=1/0),void 0===t&&(t=1/0),void 0===r&&(r=es.dateTimestampProvider);var n=$a.call(this)||this;return n._bufferSize=e,n._windowTime=t,n._timestampProvider=r,n._buffer=[],n._infiniteTimeWindow=!0,n._infiniteTimeWindow=t===1/0,n._bufferSize=Math.max(1,e),n._windowTime=Math.max(1,t),n}Dr.ReplaySubject=o;var rs,g={},m=r&&r.__extends||(rs=function(e,t){return(rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}rs(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(g,"__esModule",{value:!0}),g.AsyncSubject=void 0;ns=s.Subject,m(os,ns),os.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this._hasValue,n=this._value,o=this.thrownError,i=this.isStopped,u=this._isComplete;t?e.error(o):(i||u)&&(r&&e.next(n),e.complete())},os.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},os.prototype.complete=function(){var e=this._hasValue,t=this._value;this._isComplete||(this._isComplete=!0,e&&ns.prototype.next.call(this,t),ns.prototype.complete.call(this))};var ns,y=os;function os(){var e=null!==ns&&ns.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}g.AsyncSubject=y;var is,o={},m={},y={},us={},as=r&&r.__extends||(is=function(e,t){return(is=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}is(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(us,"__esModule",{value:!0}),us.Action=void 0;ss=h.Subscription,as(cs,ss),cs.prototype.schedule=function(e,t){return this};var ss,as=cs;function cs(e,t){return ss.call(this)||this}us.Action=as;var ls,fs,ps,ds,as={},hs=(ls=as,fs=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},ps=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Object.defineProperty(ls,"__esModule",{value:!0}),ls.intervalProvider=void 0,ls.intervalProvider={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=ls.intervalProvider.delegate;return null!=o&&o.setInterval?o.setInterval.apply(o,ps([e,t],fs(r))):setInterval.apply(void 0,ps([e,t],fs(r)))},clearInterval:function(e){var t=ls.intervalProvider.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},r&&r.__extends||(ds=function(e,t){return(ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ds(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}));Object.defineProperty(y,"__esModule",{value:!0}),y.AsyncAction=void 0;var bs,ys=as,_s=X,as=(bs=us.Action,hs(vs,bs),vs.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var e=this.id,r=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(r,e,t)),this.pending=!0,this.delay=t,this.id=null!=(e=this.id)?e:this.requestAsyncId(r,this.id,t),this},vs.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),ys.intervalProvider.setInterval(e.flush.bind(e,this),r)},vs.prototype.recycleAsyncId=function(e,t,r){if(null!=(r=void 0===r?0:r)&&this.delay===r&&!1===this.pending)return t;null!=t&&ys.intervalProvider.clearInterval(t)},vs.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;e=this._execute(e,t);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},vs.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},vs.prototype.unsubscribe=function(){var e,t,r;this.closed||(e=this.id,r=(t=this.scheduler).actions,this.work=this.state=this.scheduler=null,this.pending=!1,_s.arrRemove(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,bs.prototype.unsubscribe.call(this))},vs);function vs(e,t){var r=bs.call(this,e,t)||this;return r.scheduler=e,r.work=t,r.pending=!1,r}y.AsyncAction=as;var ms,gs,Os,ws,Es,Ps,us={},hs={},Ss=(Object.defineProperty(hs,"__esModule",{value:!0}),hs.TestTools=hs.Immediate=void 0,1),Ts={};function js(e){return e in Ts&&(delete Ts[e],!0)}hs.Immediate={setImmediate:function(e){var t=Ss++;return Ts[t]=!0,(ms=ms||Promise.resolve()).then(function(){return js(t)&&e()}),t},clearImmediate:function(e){js(e)}},hs.TestTools={pending:function(){return Object.keys(Ts).length}},gs=us,Os=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},ws=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Object.defineProperty(gs,"__esModule",{value:!0}),gs.immediateProvider=void 0,Es=hs.Immediate.setImmediate,Ps=hs.Immediate.clearImmediate,gs.immediateProvider={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=gs.immediateProvider.delegate;return((null==r?void 0:r.setImmediate)||Es).apply(void 0,ws([],Os(e)))},clearImmediate:function(e){var t=gs.immediateProvider.delegate;return((null==t?void 0:t.clearImmediate)||Ps)(e)},delegate:void 0};var Cs,as=r&&r.__extends||(Cs=function(e,t){return(Cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Cs(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(m,"__esModule",{value:!0}),m.AsapAction=void 0;var Is,Rs=us,hs=(Is=y.AsyncAction,as(As,Is),As.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r?Is.prototype.requestAsyncId.call(this,e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Rs.immediateProvider.setImmediate(e.flush.bind(e,void 0))))},As.prototype.recycleAsyncId=function(e,t,r){if(null!=(r=void 0===r?0:r)?0<r:0<this.delay)return Is.prototype.recycleAsyncId.call(this,e,t,r);var r=e.actions;null!=t&&(null==(r=r[r.length-1])?void 0:r.id)!==t&&(Rs.immediateProvider.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))},As);function As(e,t){var r=Is.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}m.AsapAction=hs;var us={},as={},hs={},ks=(Object.defineProperty(hs,"__esModule",{value:!0}),hs.Scheduler=void 0,n);function Ms(e,t){void 0===t&&(t=Ms.now),this.schedulerActionCtor=e,this.now=t}Ms.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},Ms.now=ks.dateTimestampProvider.now,hs.Scheduler=Ms;var Ns,xs,ks=r&&r.__extends||(Ns=function(e,t){return(Ns=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ns(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Ds=(Object.defineProperty(as,"__esModule",{value:!0}),as.AsyncScheduler=void 0,hs),ks=(xs=Ds.Scheduler,ks(Us,xs),Us.prototype.flush=function(e){var t,r=this.actions;if(this._active)r.push(e);else{this._active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}}},Us);function Us(e,t){void 0===t&&(t=Ds.Scheduler.now);e=xs.call(this,e,t)||this;return e.actions=[],e._active=!1,e}as.AsyncScheduler=ks;var Ls,ks=r&&r.__extends||(Ls=function(e,t){return(Ls=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ls(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(us,"__esModule",{value:!0}),us.AsapScheduler=void 0;Fs=as.AsyncScheduler,ks(Bs,Fs),Bs.prototype.flush=function(e){this._active=!0;var t,r=this._scheduled,n=(this._scheduled=void 0,this.actions);e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}};var Fs,ks=Bs;function Bs(){return null!==Fs&&Fs.apply(this,arguments)||this}us.AsapScheduler=ks,ks=o,Object.defineProperty(ks,"__esModule",{value:!0}),ks.asap=ks.asapScheduler=void 0,ks.asapScheduler=new us.AsapScheduler(m.AsapAction),ks.asap=ks.asapScheduler;var Ws,us={},ks=(m=us,Object.defineProperty(m,"__esModule",{value:!0}),m.async=m.asyncScheduler=void 0,m.asyncScheduler=new as.AsyncScheduler(y.AsyncAction),m.async=m.asyncScheduler,{}),m={},qs=r&&r.__extends||(Ws=function(e,t){return(Ws=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ws(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(m,"__esModule",{value:!0}),m.QueueAction=void 0;zs=y.AsyncAction,qs(Vs,zs),Vs.prototype.schedule=function(e,t){return 0<(t=void 0===t?0:t)?zs.prototype.schedule.call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)},Vs.prototype.execute=function(e,t){return 0<t||this.closed?zs.prototype.execute.call(this,e,t):this._execute(e,t)},Vs.prototype.requestAsyncId=function(e,t,r){return null!=(r=void 0===r?0:r)&&0<r||null==r&&0<this.delay?zs.prototype.requestAsyncId.call(this,e,t,r):(e.flush(this),0)};var zs,qs=Vs;function Vs(e,t){var r=zs.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}m.QueueAction=qs;var Hs,qs={},Gs=r&&r.__extends||(Hs=function(e,t){return(Hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Hs(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(qs,"__esModule",{value:!0}),qs.QueueScheduler=void 0;Ys=as.AsyncScheduler,Gs(Ks,Ys);var Ys,Gs=Ks;function Ks(){return null!==Ys&&Ys.apply(this,arguments)||this}qs.QueueScheduler=Gs,Gs=ks,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.queue=Gs.queueScheduler=void 0,Gs.queueScheduler=new qs.QueueScheduler(m.QueueAction),Gs.queue=Gs.queueScheduler;var Zs,qs={},m={},Gs=r&&r.__extends||(Zs=function(e,t){return(Zs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Zs(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(m,"__esModule",{value:!0}),m.AnimationFrameAction=void 0;var Xs,Qs=l,l=(Xs=y.AsyncAction,Gs(Js,Xs),Js.prototype.requestAsyncId=function(e,t,r){return null!==(r=void 0===r?0:r)&&0<r?Xs.prototype.requestAsyncId.call(this,e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Qs.animationFrameProvider.requestAnimationFrame(function(){return e.flush(void 0)})))},Js.prototype.recycleAsyncId=function(e,t,r){if(null!=(r=void 0===r?0:r)?0<r:0<this.delay)return Xs.prototype.recycleAsyncId.call(this,e,t,r);var r=e.actions;null!=t&&(null==(r=r[r.length-1])?void 0:r.id)!==t&&(Qs.animationFrameProvider.cancelAnimationFrame(t),e._scheduled=void 0)},Js);function Js(e,t){var r=Xs.call(this,e,t)||this;return r.scheduler=e,r.work=t,r}m.AnimationFrameAction=l;var $s,Gs={},l=r&&r.__extends||($s=function(e,t){return($s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}$s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.AnimationFrameScheduler=void 0;ec=as.AsyncScheduler,l(tc,ec),tc.prototype.flush=function(e){this._active=!0;var t,r=this._scheduled,n=(this._scheduled=void 0,this.actions);e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}};var ec,l=tc;function tc(){return null!==ec&&ec.apply(this,arguments)||this}Gs.AnimationFrameScheduler=l,l=qs,Object.defineProperty(l,"__esModule",{value:!0}),l.animationFrame=l.animationFrameScheduler=void 0,l.animationFrameScheduler=new Gs.AnimationFrameScheduler(m.AnimationFrameAction),l.animationFrame=l.animationFrameScheduler;var rc,nc,Gs={},m=r&&r.__extends||(rc=function(e,t){return(rc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}rc(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=(Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.VirtualAction=Gs.VirtualTimeScheduler=void 0,y),oc=h,y=(nc=as.AsyncScheduler,m(ic,nc),ic.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},ic.frameTimeFactor=10,ic);function ic(e,t){void 0===t&&(t=1/0);var r=nc.call(this,e=void 0===e?ac:e,function(){return r.frame})||this;return r.maxFrames=t,r.frame=0,r.index=-1,r}Gs.VirtualTimeScheduler=y;uc=l.AsyncAction,m(sc,uc),sc.prototype.schedule=function(e,t){if(void 0===t&&(t=0),Number.isFinite(t)){if(!this.id)return uc.prototype.schedule.call(this,e,t);this.active=!1;var r=new sc(this.scheduler,this.work);return this.add(r),r.schedule(e,t)}return oc.Subscription.EMPTY},sc.prototype.requestAsyncId=function(e,t,r){this.delay=e.frame+(r=void 0===r?0:r);r=e.actions;return r.push(this),r.sort(sc.sortActions),1},sc.prototype.recycleAsyncId=function(e,t,r){},sc.prototype._execute=function(e,t){if(!0===this.active)return uc.prototype._execute.call(this,e,t)},sc.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1};var uc,ac=sc;function sc(e,t,r){void 0===r&&(r=e.index+=1);var n=uc.call(this,e,t)||this;return n.scheduler=e,n.work=t,n.index=r,n.active=!0,n.index=e.index=r,n}Gs.VirtualAction=ac;var cc,lc,as={},y={},l=(cc=y,Object.defineProperty(cc,"__esModule",{value:!0}),cc.empty=cc.EMPTY=void 0,lc=P,cc.EMPTY=new lc.Observable(function(e){return e.complete()}),cc.empty=function(e){return e?(t=e,new lc.Observable(function(e){return t.schedule(function(){return e.complete()})})):cc.EMPTY;var t},{}),m={},fc={},pc=(Object.defineProperty(fc,"__esModule",{value:!0}),fc.isScheduler=void 0,b);fc.isScheduler=function(e){return e&&pc.isFunction(e.schedule)},Object.defineProperty(m,"__esModule",{value:!0}),m.popNumber=m.popScheduler=m.popResultSelector=void 0;var dc=b,hc=fc;function bc(e){return e[e.length-1]}m.popResultSelector=function(e){return dc.isFunction(bc(e))?e.pop():void 0},m.popScheduler=function(e){return hc.isScheduler(bc(e))?e.pop():void 0},m.popNumber=function(e,t){return"number"==typeof bc(e)?e.pop():t};var yc={},_c={},vc={},C={},mc={},gc=(Object.defineProperty(mc,"__esModule",{value:!0}),mc.isArrayLike=void 0,mc.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e},{}),Oc=(Object.defineProperty(gc,"__esModule",{value:!0}),gc.isPromise=void 0,b);gc.isPromise=function(e){return Oc.isFunction(null==e?void 0:e.then)};var wc={},Ec=(Object.defineProperty(wc,"__esModule",{value:!0}),wc.isInteropObservable=void 0,f),Pc=b;wc.isInteropObservable=function(e){return Pc.isFunction(e[Ec.observable])};var Sc={},Tc=(Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.isAsyncIterable=void 0,b);Sc.isAsyncIterable=function(e){return Symbol.asyncIterator&&Tc.isFunction(null==e?void 0:e[Symbol.asyncIterator])};var jc={};Object.defineProperty(jc,"__esModule",{value:!0}),jc.createInvalidObservableTypeError=void 0,jc.createInvalidObservableTypeError=function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")};var Cc={},Ic={};function Rc(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.iterator=Ic.getSymbolIterator=void 0,Ic.getSymbolIterator=Rc,Ic.iterator=Rc(),Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.isIterable=void 0;var Ac=Ic,kc=b;Cc.isIterable=function(e){return kc.isFunction(null==e?void 0:e[Ac.iterator])};var Mc={},Nc=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},xc=r&&r.__await||function(e){return this instanceof xc?(this.v=e,this):new xc(e)},Dc=r&&r.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=r.apply(e,t||[]),i=[],u={};return n("next"),n("throw"),n("return"),u[Symbol.asyncIterator]=function(){return this},u;function n(n){o[n]&&(u[n]=function(r){return new Promise(function(e,t){1<i.push([n,r,e,t])||a(n,r)})})}function a(e,t){try{(r=o[e](t)).value instanceof xc?Promise.resolve(r.value.v).then(s,c):l(i[0][2],r)}catch(e){l(i[0][3],e)}var r}function s(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}},Uc=(Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.isReadableStreamLike=Mc.readableStreamLikeToAsyncGenerator=void 0,b);Mc.readableStreamLikeToAsyncGenerator=function(o){return Dc(this,arguments,function(){var t,r,n;return Nc(this,function(e){switch(e.label){case 0:t=o.getReader(),e.label=1;case 1:e.trys.push([1,,9,10]),e.label=2;case 2:return[4,xc(t.read())];case 3:return(r=e.sent(),n=r.value,r.done)?[4,xc(void 0)]:[3,5];case 4:return[2,e.sent()];case 5:return[4,xc(n)];case 6:return[4,e.sent()];case 7:return e.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},Mc.isReadableStreamLike=function(e){return Uc.isFunction(null==e?void 0:e.getReader)};var Lc=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Fc=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Bc=r&&r.__asyncValues||function(u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=u[Symbol.asyncIterator];return t?t.call(u):(u="function"==typeof Wc?Wc(u):u[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(i){e[i]=u[i]&&function(o){return new Promise(function(e,t){var r,n;o=u[i](o),r=e,e=t,n=o.done,t=o.value,Promise.resolve(t).then(function(e){r({value:e,done:n})},e)})}}},Wc=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},qc=(Object.defineProperty(C,"__esModule",{value:!0}),C.fromReadableStreamLike=C.fromAsyncIterable=C.fromIterable=C.fromPromise=C.fromArrayLike=C.fromInteropObservable=C.innerFrom=void 0,mc),zc=gc,Vc=P,Hc=wc,Gc=Sc,Yc=jc,Kc=Cc,Zc=Mc,Xc=b,Qc=p,Jc=f;function $c(r){return new Vc.Observable(function(e){var t=r[Jc.observable]();if(Xc.isFunction(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function el(r){return new Vc.Observable(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}function tl(e){return new Vc.Observable(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,Qc.reportUnhandledError)})}function rl(u){return new Vc.Observable(function(e){var t,r;try{for(var n=Wc(u),o=n.next();!o.done;o=n.next()){var i=o.value;if(e.next(i),e.closed)return}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}e.complete()})}function nl(e){return new Vc.Observable(function(t){!function(r,n){var o,i,u,a;return Lc(this,void 0,void 0,function(){var t;return Fc(this,function(e){switch(e.label){case 0:e.trys.push([0,5,6,11]),o=Bc(r),e.label=1;case 1:return[4,o.next()];case 2:if((i=e.sent()).done)return[3,4];if(t=i.value,n.next(t),n.closed)return[2];e.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return t=e.sent(),u={error:t},[3,11];case 6:return(e.trys.push([6,,9,10]),i&&!i.done&&(a=o.return))?[4,a.call(o)]:[3,8];case 7:e.sent(),e.label=8;case 8:return[3,10];case 9:if(u)throw u.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}(e,t).catch(function(e){return t.error(e)})})}function ol(e){return nl(Zc.readableStreamLikeToAsyncGenerator(e))}C.innerFrom=function(e){if(e instanceof Vc.Observable)return e;if(null!=e){if(Hc.isInteropObservable(e))return $c(e);if(qc.isArrayLike(e))return el(e);if(zc.isPromise(e))return tl(e);if(Gc.isAsyncIterable(e))return nl(e);if(Kc.isIterable(e))return rl(e);if(Zc.isReadableStreamLike(e))return ol(e)}throw Yc.createInvalidObservableTypeError(e)},C.fromInteropObservable=$c,C.fromArrayLike=el,C.fromPromise=tl,C.fromIterable=rl,C.fromAsyncIterable=nl,C.fromReadableStreamLike=ol;var p={},il={};Object.defineProperty(il,"__esModule",{value:!0}),il.executeSchedule=void 0,il.executeSchedule=function(e,t,r,n,o){if(void 0===n&&(n=0),void 0===o&&(o=!1),t=t.schedule(function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n),e.add(t),!o)return t},Object.defineProperty(p,"__esModule",{value:!0}),p.observeOn=void 0;var ul=il,al=j,sl=_;p.observeOn=function(r,n){return void 0===n&&(n=0),al.operate(function(e,t){e.subscribe(sl.createOperatorSubscriber(t,function(e){return ul.executeSchedule(t,r,function(){return t.next(e)},n)},function(){return ul.executeSchedule(t,r,function(){return t.complete()},n)},function(e){return ul.executeSchedule(t,r,function(){return t.error(e)},n)}))})};var cl={},ll=(Object.defineProperty(cl,"__esModule",{value:!0}),cl.subscribeOn=void 0,j);cl.subscribeOn=function(r,n){return void 0===n&&(n=0),ll.operate(function(e,t){t.add(r.schedule(function(){return e.subscribe(t)},n))})},Object.defineProperty(vc,"__esModule",{value:!0}),vc.scheduleObservable=void 0;var fl=C,pl=p,dl=cl;vc.scheduleObservable=function(e,t){return fl.innerFrom(e).pipe(dl.subscribeOn(t),pl.observeOn(t))};var hl={},bl=(Object.defineProperty(hl,"__esModule",{value:!0}),hl.schedulePromise=void 0,C),yl=p,_l=cl;hl.schedulePromise=function(e,t){return bl.innerFrom(e).pipe(_l.subscribeOn(t),yl.observeOn(t))};var vl={},ml=(Object.defineProperty(vl,"__esModule",{value:!0}),vl.scheduleArray=void 0,P);vl.scheduleArray=function(r,n){return new ml.Observable(function(e){var t=0;return n.schedule(function(){t===r.length?e.complete():(e.next(r[t++]),e.closed||this.schedule())})})};var gl={},Ol=(Object.defineProperty(gl,"__esModule",{value:!0}),gl.scheduleIterable=void 0,P),wl=Ic,El=b,Pl=il;gl.scheduleIterable=function(e,t){return new Ol.Observable(function(n){var o;return Pl.executeSchedule(n,t,function(){o=e[wl.iterator](),Pl.executeSchedule(n,t,function(){var e,t,r;try{t=(e=o.next()).value,r=e.done}catch(e){return void n.error(e)}r?n.complete():n.next(t)},0,!0)}),function(){return El.isFunction(null==o?void 0:o.return)&&o.return()}})};var Ic={},Sl=(Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.scheduleAsyncIterable=void 0,P),Tl=il;Ic.scheduleAsyncIterable=function(r,n){if(r)return new Sl.Observable(function(t){Tl.executeSchedule(t,n,function(){var e=r[Symbol.asyncIterator]();Tl.executeSchedule(t,n,function(){e.next().then(function(e){e.done?t.complete():t.next(e.value)})},0,!0)})});throw new Error("Iterable cannot be null")};var jl={},Cl=(Object.defineProperty(jl,"__esModule",{value:!0}),jl.scheduleReadableStreamLike=void 0,Ic),Il=Mc;jl.scheduleReadableStreamLike=function(e,t){return Cl.scheduleAsyncIterable(Il.readableStreamLikeToAsyncGenerator(e),t)},Object.defineProperty(_c,"__esModule",{value:!0}),_c.scheduled=void 0;var Rl=vc,Al=hl,kl=vl,Ml=gl,Nl=Ic,xl=wc,Dl=gc,Ul=mc,Ll=Cc,Fl=Sc,Bl=jc,Wl=Mc,ql=jl;_c.scheduled=function(e,t){if(null!=e){if(xl.isInteropObservable(e))return Rl.scheduleObservable(e,t);if(Ul.isArrayLike(e))return kl.scheduleArray(e,t);if(Dl.isPromise(e))return Al.schedulePromise(e,t);if(Fl.isAsyncIterable(e))return Nl.scheduleAsyncIterable(e,t);if(Ll.isIterable(e))return Ml.scheduleIterable(e,t);if(Wl.isReadableStreamLike(e))return ql.scheduleReadableStreamLike(e,t)}throw Bl.createInvalidObservableTypeError(e)},Object.defineProperty(yc,"__esModule",{value:!0}),yc.from=void 0;var zl=_c,Vl=C;yc.from=function(e,t){return t?zl.scheduled(e,t):Vl.innerFrom(e)},Object.defineProperty(l,"__esModule",{value:!0}),l.of=void 0;var Hl=m,Gl=yc;l.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Hl.popScheduler(e);return Gl.from(e,r)};var Yl,Kl,Zl,Xl,vc={},Ql=(Object.defineProperty(vc,"__esModule",{value:!0}),vc.throwError=void 0,P),Jl=b;function $l(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}function ef(e,t){var r,n=e.kind,o=e.value,e=e.error;if("string"!=typeof n)throw new TypeError('Invalid notification, missing "kind"');"N"===n?null!=(r=t.next)&&r.call(t,o):"E"===n?null!=(r=t.error)&&r.call(t,e):null!=(o=t.complete)&&o.call(t)}vc.throwError=function(e,t){function r(e){return e.error(n())}var n=Jl.isFunction(e)?e:function(){return e};return new Ql.Observable(t?function(e){return t.schedule(r,0,e)}:r)},hl=as,Object.defineProperty(hl,"__esModule",{value:!0}),hl.observeNotification=hl.Notification=hl.NotificationKind=void 0,Yl=y,Kl=l,Zl=vc,Xl=b,(vl=hl.NotificationKind||(hl.NotificationKind={})).NEXT="N",vl.ERROR="E",vl.COMPLETE="C",$l.prototype.observe=function(e){return ef(this,e)},$l.prototype.do=function(e,t,r){var n=this.kind,o=this.value,i=this.error;return"N"===n?null==e?void 0:e(o):"E"===n?null==t?void 0:t(i):null==r?void 0:r()},$l.prototype.accept=function(e,t,r){var n;return Xl.isFunction(null==(n=e)?void 0:n.next)?this.observe(e):this.do(e,t,r)},$l.prototype.toObservable=function(){var e=this.kind,t=this.value,r=this.error,t="N"===e?Kl.of(t):"E"===e?Zl.throwError(function(){return r}):"C"===e?Yl.EMPTY:0;if(t)return t;throw new TypeError("Unexpected notification kind "+e)},$l.createNext=function(e){return new $l("N",e)},$l.createError=function(e){return new $l("E",void 0,e)},$l.createComplete=function(){return $l.completeNotification},$l.completeNotification=new $l("C"),vl=$l,hl.Notification=vl,hl.observeNotification=ef;var Ic={},tf=(Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.isObservable=void 0,P),rf=b;Ic.isObservable=function(e){return!!e&&(e instanceof tf.Observable||rf.isFunction(e.lift)&&rf.isFunction(e.subscribe))};var wc={},gc={},Cc=(Object.defineProperty(gc,"__esModule",{value:!0}),gc.EmptyError=void 0,w),nf=(gc.EmptyError=Cc.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),Object.defineProperty(wc,"__esModule",{value:!0}),wc.lastValueFrom=void 0,gc);wc.lastValueFrom=function(o,i){var u="object"==typeof i;return new Promise(function(e,t){var r,n=!1;o.subscribe({next:function(e){r=e,n=!0},error:t,complete:function(){n?e(r):u?e(i.defaultValue):t(new nf.EmptyError)}})})};var Sc={},of=(Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.firstValueFrom=void 0,gc),uf=Q;Sc.firstValueFrom=function(n,o){var i="object"==typeof o;return new Promise(function(t,e){var r=new uf.SafeSubscriber({next:function(e){t(e),r.unsubscribe()},error:e,complete:function(){i?t(o.defaultValue):e(new of.EmptyError)}});n.subscribe(r)})};var af,sf,cf,lf,ff,pf,df,jc={},Mc=(Object.defineProperty(jc,"__esModule",{value:!0}),jc.ArgumentOutOfRangeError=void 0,w),jl=(jc.ArgumentOutOfRangeError=Mc.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),{}),vl=(Object.defineProperty(jl,"__esModule",{value:!0}),jl.NotFoundError=void 0,w),hl=(jl.NotFoundError=vl.createErrorClass(function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}}),{}),Cc=(Object.defineProperty(hl,"__esModule",{value:!0}),hl.SequenceError=void 0,w),Mc=(hl.SequenceError=Cc.createErrorClass(function(t){return function(e){t(this),this.name="SequenceError",this.message=e}}),{}),vl={};function hf(e){throw new af.TimeoutError(e)}Object.defineProperty(vl,"__esModule",{value:!0}),vl.isValidDate=void 0,vl.isValidDate=function(e){return e instanceof Date&&!isNaN(e)},af=Mc,Object.defineProperty(af,"__esModule",{value:!0}),af.timeout=af.TimeoutError=void 0,sf=us,cf=vl,lf=j,ff=C,pf=_,df=il,af.TimeoutError=w.createErrorClass(function(t){return function(e){void 0===e&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}}),af.timeout=function(e,t){var a=(e=cf.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e).first,s=e.each,r=e.with,c=void 0===r?hf:r,l=void 0===(r=e.scheduler)?null!=t?t:sf.asyncScheduler:r,f=void 0===(t=e.meta)?null:t;if(null==a&&null==s)throw new TypeError("No timeout provided.");return lf.operate(function(e,t){function r(e){n=df.executeSchedule(t,l,function(){try{u.unsubscribe(),ff.innerFrom(c({meta:f,lastValue:o,seen:i})).subscribe(t)}catch(e){t.error(e)}},e)}var n,o=null,i=0,u=e.subscribe(pf.createOperatorSubscriber(t,function(e){null!=n&&n.unsubscribe(),i++,t.next(o=e),0<s&&r(s)},void 0,void 0,function(){null!=n&&n.closed||null!=n&&n.unsubscribe(),o=null}));i||r(null!=a?"number"==typeof a?a:+a-l.now():s)})};var Cc={},w={},bf={},yf={},_f=(Object.defineProperty(yf,"__esModule",{value:!0}),yf.map=void 0,j),vf=_;yf.map=function(n,o){return _f.operate(function(e,t){var r=0;e.subscribe(vf.createOperatorSubscriber(t,function(e){t.next(n.call(o,e,r++))}))})};var mf=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},gf=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Of=(Object.defineProperty(bf,"__esModule",{value:!0}),bf.mapOneOrManyArgs=void 0,yf),wf=Array.isArray;bf.mapOneOrManyArgs=function(r){return Of.map(function(e){return t=r,wf(e=e)?t.apply(void 0,gf([],mf(e))):t(e);var t})};var Ef=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Pf=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Sf=(Object.defineProperty(w,"__esModule",{value:!0}),w.bindCallbackInternals=void 0,fc),Tf=P,jf=cl,Cf=bf,If=p,Rf=g;w.bindCallbackInternals=function r(a,s,n,o){if(n){if(!Sf.isScheduler(n))return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(a,s,o).apply(this,e).pipe(Cf.mapOneOrManyArgs(n))};o=n}return o?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(a,s).apply(this,e).pipe(jf.subscribeOn(o),If.observeOn(o))}:function(){for(var t=this,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var i=new Rf.AsyncSubject,u=!0;return new Tf.Observable(function(e){var n,o,e=i.subscribe(e);return u&&(n=u=!1,o=!1,s.apply(t,Pf(Pf([],Ef(r)),[function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(a){var r=e.shift();if(null!=r)return void i.error(r)}i.next(1<e.length?e:e[0]),o=!0,n&&i.complete()}])),o&&i.complete(),n=!0),e})}},Object.defineProperty(Cc,"__esModule",{value:!0}),Cc.bindCallback=void 0;var Af=w;Cc.bindCallback=function(e,t,r){return Af.bindCallbackInternals(!1,e,t,r)};var kf={},Mf=(Object.defineProperty(kf,"__esModule",{value:!0}),kf.bindNodeCallback=void 0,w);kf.bindNodeCallback=function(e,t,r){return Mf.bindCallbackInternals(!0,e,t,r)};var w={},Nf={},xf=(Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.argsArgArrayOrObject=void 0,Array.isArray),Df=Object.getPrototypeOf,Uf=Object.prototype,Lf=Object.keys;Nf.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(xf(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&Df(r)===Uf)return{args:(r=Lf(t)).map(function(e){return t[e]}),keys:r}}var r;return{args:e,keys:null}};var Ff={};Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.createObject=void 0,Ff.createObject=function(e,n){return e.reduce(function(e,t,r){return e[t]=n[r],e},{})},Object.defineProperty(w,"__esModule",{value:!0}),w.combineLatestInit=w.combineLatest=void 0;var Bf=P,Wf=Nf,qf=yc,zf=i,Vf=bf,Hf=m,Gf=Ff,Yf=_,Kf=il;function Zf(a,s,c){return void 0===c&&(c=zf.identity),function(u){Xf(s,function(){for(var e=a.length,n=new Array(e),o=e,i=e,t=0;t<e;t++)!function(r){Xf(s,function(){var e=qf.from(a[r],s),t=!1;e.subscribe(Yf.createOperatorSubscriber(u,function(e){n[r]=e,t||(t=!0,i--),i||u.next(c(n.slice()))},function(){--o||u.complete()}))},u)}(t)},u)}}function Xf(e,t,r){e?Kf.executeSchedule(r,e,t):t()}w.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Hf.popScheduler(e),n=Hf.popResultSelector(e),o=Wf.argsArgArrayOrObject(e),i=o.args,u=o.keys;return 0===i.length?qf.from([],r):(o=new Bf.Observable(Zf(i,r,u?function(e){return Gf.createObject(u,e)}:zf.identity)),n?o.pipe(Vf.mapOneOrManyArgs(n)):o)},w.combineLatestInit=Zf;var Qf={},Jf={},$f={},ep={},tp={},rp=(Object.defineProperty(tp,"__esModule",{value:!0}),tp.mergeInternals=void 0,C),np=il,op=_;tp.mergeInternals=function(e,r,n,o,i,u,a,t){var s=[],c=0,l=0,f=function(){s.length||c||r.complete()},p=function(e){return c<o?d(e):s.push(e)},d=function(e){u&&r.next(e),c++;var t=!1;rp.innerFrom(n(e,l++)).subscribe(op.createOperatorSubscriber(r,function(e){null!=i&&i(e),u?p(e):r.next(e)},function(){t=!0},void 0,function(){if(t)try{c--;for(;s.length&&c<o;)!function(){var e=s.shift();a?np.executeSchedule(r,a,function(){return d(e)}):d(e)}();f()}catch(e){r.error(e)}}))};return e.subscribe(op.createOperatorSubscriber(r,p,function(){f()})),function(){null!=t&&t()}},Object.defineProperty(ep,"__esModule",{value:!0}),ep.mergeMap=void 0;var ip=yf,up=C,ap=j,sp=tp,cp=b;ep.mergeMap=function e(o,i,r){return void 0===r&&(r=1/0),cp.isFunction(i)?e(function(r,n){return ip.map(function(e,t){return i(r,e,n,t)})(up.innerFrom(o(r,n)))},r):("number"==typeof i&&(r=i),ap.operate(function(e,t){return sp.mergeInternals(e,t,o,r)}))},Object.defineProperty($f,"__esModule",{value:!0}),$f.mergeAll=void 0;var lp=ep,fp=i;$f.mergeAll=function(e){return lp.mergeMap(fp.identity,e=void 0===e?1/0:e)},Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.concatAll=void 0;var pp=$f;Jf.concatAll=function(){return pp.mergeAll(1)},Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.concat=void 0;var dp=Jf,hp=m,bp=yc;Qf.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return dp.concatAll()(bp.from(e,hp.popScheduler(e)))};var yp={},_p={},vp=(Object.defineProperty(_p,"__esModule",{value:!0}),_p.defer=void 0,P),mp=C;_p.defer=function(t){return new vp.Observable(function(e){mp.innerFrom(t()).subscribe(e)})},Object.defineProperty(yp,"__esModule",{value:!0}),yp.connectable=void 0;var gp=s,Op=P,wp=_p,Ep={connector:function(){return new gp.Subject},resetOnDisconnect:!0};yp.connectable=function(e,t){var r=null,n=(t=void 0===t?Ep:t).connector,o=void 0===(t=t.resetOnDisconnect)||t,i=n();return(t=new Op.Observable(function(e){return i.subscribe(e)})).connect=function(){return r&&!r.closed||(r=wp.defer(function(){return e}).subscribe(i),o&&r.add(function(){return i=n()})),r},t};var Pp={},Sp=(Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.forkJoin=void 0,P),Tp=Nf,jp=C,Cp=m,Ip=_,Rp=bf,Ap=Ff;Pp.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Cp.popResultSelector(e),u=(n=Tp.argsArgArrayOrObject(e)).args,a=n.keys,n=new Sp.Observable(function(e){var t=u.length;if(t)for(var n=new Array(t),o=t,i=t,r=0;r<t;r++)!function(t){var r=!1;jp.innerFrom(u[t]).subscribe(Ip.createOperatorSubscriber(e,function(e){r||(r=!0,i--),n[t]=e},function(){return o--},void 0,function(){o&&r||(i||e.next(a?Ap.createObject(a,n):n),e.complete())}))}(r);else e.complete()});return r?n.pipe(Rp.mapOneOrManyArgs(r)):n};var Nf={},kp=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Mp=(Object.defineProperty(Nf,"__esModule",{value:!0}),Nf.fromEvent=void 0,C),Np=P,xp=ep,Dp=mc,Up=b,Lp=bf,Fp=["addListener","removeListener"],Bp=["addEventListener","removeEventListener"],Wp=["on","off"];function qp(r,n){return function(t){return function(e){return r[t](n,e)}}}Nf.fromEvent=function t(r,n,o,e){if(Up.isFunction(o)&&(e=o,o=void 0),e)return t(r,n,o).pipe(Lp.mapOneOrManyArgs(e));var e=kp((e=r,Up.isFunction(e.addEventListener)&&Up.isFunction(e.removeEventListener)?Bp.map(function(t){return function(e){return r[t](n,e,o)}}):(e=r,Up.isFunction(e.addListener)&&Up.isFunction(e.removeListener)?Fp.map(qp(r,n)):(e=r,Up.isFunction(e.on)&&Up.isFunction(e.off)?Wp.map(qp(r,n)):[]))),2),i=e[0],u=e[1];if(!i&&Dp.isArrayLike(r))return xp.mergeMap(function(e){return t(e,n,o)})(Mp.innerFrom(r));if(i)return new Np.Observable(function(r){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1<e.length?e:e[0])}return i(e),function(){return u(e)}});throw new TypeError("Invalid event target")};var Ff={},zp=(Object.defineProperty(Ff,"__esModule",{value:!0}),Ff.fromEventPattern=void 0,P),Vp=b,Hp=bf;Ff.fromEventPattern=function e(n,o,t){return t?e(n,o).pipe(Hp.mapOneOrManyArgs(t)):new zp.Observable(function(r){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)}var t=n(e);return Vp.isFunction(o)?function(){return o(e,t)}:void 0})};var mc={},Gp=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Yp=(Object.defineProperty(mc,"__esModule",{value:!0}),mc.generate=void 0,i),Kp=fc,Zp=_p,Xp=gl;mc.generate=function(e,r,n,t,o){var i,u,a;function s(){var t;return Gp(this,function(e){switch(e.label){case 0:t=a,e.label=1;case 1:return r&&!r(t)?[3,4]:[4,u(t)];case 2:e.sent(),e.label=3;case 3:return t=n(t),[3,1];case 4:return[2]}})}return 1===arguments.length?(a=e.initialState,r=e.condition,n=e.iterate,i=e.resultSelector,u=void 0===i?Yp.identity:i,o=e.scheduler):(a=e,!t||Kp.isScheduler(t)?(u=Yp.identity,o=t):u=t),Zp.defer(o?function(){return Xp.scheduleIterable(s(),o)}:s)};var gl={},Qp=(Object.defineProperty(gl,"__esModule",{value:!0}),gl.iif=void 0,_p);gl.iif=function(e,t,r){return Qp.defer(function(){return e()?t:r})};var Jp={},$p={},ed=(Object.defineProperty($p,"__esModule",{value:!0}),$p.timer=void 0,P),td=us,rd=fc,nd=vl;$p.timer=function(n,e,o){void 0===n&&(n=0),void 0===o&&(o=td.async);var i=-1;return null!=e&&(rd.isScheduler(e)?o=e:i=e),new ed.Observable(function(e){var t=nd.isValidDate(n)?+n-o.now():n,r=0;return o.schedule(function(){e.closed||(e.next(r++),0<=i?this.schedule(void 0,i):e.complete())},t=t<0?0:t)})},Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.interval=void 0;var od=us,id=$p;Jp.interval=function(e,t){return id.timer(e=(e=void 0===e?0:e)<0?0:e,e,t=void 0===t?od.asyncScheduler:t)};var fc={},ud=(Object.defineProperty(fc,"__esModule",{value:!0}),fc.merge=void 0,$f),ad=C,sd=y,cd=m,ld=yc;fc.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=cd.popScheduler(e),n=cd.popNumber(e,1/0),o=e;return o.length?1===o.length?ad.innerFrom(o[0]):ud.mergeAll(n)(ld.from(o,r)):sd.EMPTY};var fd,pd={},dd=(fd=pd,Object.defineProperty(fd,"__esModule",{value:!0}),fd.never=fd.NEVER=void 0,fd.NEVER=new P.Observable(v.noop),fd.never=function(){return fd.NEVER},{}),hd={},bd=(Object.defineProperty(hd,"__esModule",{value:!0}),hd.argsOrArgArray=void 0,Array.isArray);hd.argsOrArgArray=function(e){return 1===e.length&&bd(e[0])?e[0]:e},Object.defineProperty(dd,"__esModule",{value:!0}),dd.onErrorResumeNext=void 0;var yd=P,_d=hd,vd=_,md=v,gd=C;dd.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=_d.argsOrArgArray(e);return new yd.Observable(function(r){var n=0,o=function(){if(n<i.length){var e=void 0;try{e=gd.innerFrom(i[n++])}catch(e){return void o()}var t=new vd.OperatorSubscriber(r,void 0,md.noop,md.noop);e.subscribe(t),t.add(o)}else r.complete()};o()})};var Od={},wd=(Object.defineProperty(Od,"__esModule",{value:!0}),Od.pairs=void 0,yc);Od.pairs=function(e,t){return wd.from(Object.entries(e),t)};var Ed={},Pd={};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.not=void 0,Pd.not=function(r,n){return function(e,t){return!r.call(n,e,t)}};var Sd={},Td=(Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.filter=void 0,j),jd=_;Sd.filter=function(n,o){return Td.operate(function(e,t){var r=0;e.subscribe(jd.createOperatorSubscriber(t,function(e){return n.call(o,e,r++)&&t.next(e)}))})},Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.partition=void 0;var Cd=Pd,Id=Sd,Rd=C;Ed.partition=function(e,t,r){return[Id.filter(t,r)(Rd.innerFrom(e)),Id.filter(Cd.not(t,r))(Rd.innerFrom(e))]};var Ad={},kd=(Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.raceInit=Ad.race=void 0,P),Md=C,Nd=hd,xd=_;function Dd(t){return function(n){for(var o=[],e=0;o&&!n.closed&&e<t.length;e++)!function(r){o.push(Md.innerFrom(t[r]).subscribe(xd.createOperatorSubscriber(n,function(e){if(o){for(var t=0;t<o.length;t++)t!==r&&o[t].unsubscribe();o=null}n.next(e)})))}(e)}}Ad.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=Nd.argsOrArgArray(e)).length?Md.innerFrom(e[0]):new kd.Observable(Dd(e))},Ad.raceInit=Dd;var Ud={},Ld=(Object.defineProperty(Ud,"__esModule",{value:!0}),Ud.range=void 0,P),Fd=y;Ud.range=function(r,e,n){if(null==e&&(e=r,r=0),e<=0)return Fd.EMPTY;var o=e+r;return new Ld.Observable(n?function(e){var t=r;return n.schedule(function(){t<o?(e.next(t++),this.schedule()):e.complete()})}:function(e){for(var t=r;t<o&&!e.closed;)e.next(t++);e.complete()})};var Bd={},Wd=(Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.using=void 0,P),qd=C,zd=y;Bd.using=function(n,o){return new Wd.Observable(function(e){var t=n(),r=o(t);return(r?qd.innerFrom(r):zd.EMPTY).subscribe(e),function(){t&&t.unsubscribe()}})};var Vd={},Hd=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Gd=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Yd=(Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.zip=void 0,P),Kd=C,Zd=hd,Xd=y,Qd=_,Jd=m;Vd.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=Jd.popResultSelector(e),u=Zd.argsOrArgArray(e);return u.length?new Yd.Observable(function(r){for(var n=u.map(function(){return[]}),o=u.map(function(){return!1}),e=(r.add(function(){n=o=null}),0);!r.closed&&e<u.length;e++)!function(t){Kd.innerFrom(u[t]).subscribe(Qd.createOperatorSubscriber(r,function(e){n[t].push(e),n.every(function(e){return e.length})&&(e=n.map(function(e){return e.shift()}),r.next(i?i.apply(void 0,Gd([],Hd(e))):e),n.some(function(e,t){return!e.length&&o[t]})&&r.complete())},function(){o[t]=!0,n[t].length||r.complete()}))}(e);return function(){n=o=null}}):Xd.EMPTY};var $d={},eh=(Object.defineProperty($d,"__esModule",{value:!0}),{}),th=(Object.defineProperty(eh,"__esModule",{value:!0}),eh.audit=void 0,j),rh=C,nh=_;eh.audit=function(s){return th.operate(function(e,t){function r(){var e;null!=u&&u.unsubscribe(),u=null,o&&(o=!1,e=i,i=null,t.next(e)),a&&t.complete()}function n(){u=null,a&&t.complete()}var o=!1,i=null,u=null,a=!1;e.subscribe(nh.createOperatorSubscriber(t,function(e){o=!0,i=e,u||rh.innerFrom(s(e)).subscribe(u=nh.createOperatorSubscriber(t,r,n))},function(){a=!0,o&&u&&!u.closed||t.complete()}))})};var oh={},ih=(Object.defineProperty(oh,"__esModule",{value:!0}),oh.auditTime=void 0,us),uh=eh,ah=$p;oh.auditTime=function(e,t){return void 0===t&&(t=ih.asyncScheduler),uh.audit(function(){return ah.timer(e,t)})};var sh={},ch=(Object.defineProperty(sh,"__esModule",{value:!0}),sh.buffer=void 0,j),lh=v,fh=_,ph=C;sh.buffer=function(n){return ch.operate(function(e,t){var r=[];return e.subscribe(fh.createOperatorSubscriber(t,function(e){return r.push(e)},function(){t.next(r),t.complete()})),ph.innerFrom(n).subscribe(fh.createOperatorSubscriber(t,function(){var e=r;r=[],t.next(e)},lh.noop)),function(){r=null}})};var dh={},hh=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bh=(Object.defineProperty(dh,"__esModule",{value:!0}),dh.bufferCount=void 0,j),yh=_,_h=X;dh.bufferCount=function(h,b){return b=null!=(b=void 0===b?null:b)?b:h,bh.operate(function(e,f){var p=[],d=0;e.subscribe(yh.createOperatorSubscriber(f,function(e){var t,r,n,o,i=null;d++%b==0&&p.push([]);try{for(var u=hh(p),a=u.next();!a.done;a=u.next())(l=a.value).push(e),h<=l.length&&(i=null!=i?i:[]).push(l)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}if(i)try{for(var s=hh(i),c=s.next();!c.done;c=s.next()){var l=c.value;_h.arrRemove(p,l),f.next(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},function(){var t,e;try{for(var r=hh(p),n=r.next();!n.done;n=r.next()){var o=n.value;f.next(o)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}f.complete()},void 0,function(){p=null}))})};var vh={},mh=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gh=(Object.defineProperty(vh,"__esModule",{value:!0}),vh.bufferTime=void 0,h),Oh=j,wh=_,Eh=X,Ph=us,Sh=m,Th=il;vh.bufferTime=function(i){for(var e,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var u=null!=(e=Sh.popScheduler(t))?e:Ph.asyncScheduler,a=null!=(e=t[0])?e:null,l=t[1]||1/0;return Oh.operate(function(e,r){var s=[],n=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),Eh.arrRemove(s,e),r.next(t),n&&o()},o=function(){var e,t;s&&(e=new gh.Subscription,r.add(e),s.push(t={buffer:[],subs:e}),Th.executeSchedule(e,u,function(){return c(t)},i))},t=(null!==a&&0<=a?Th.executeSchedule(r,u,o,a,!0):n=!0,o(),wh.createOperatorSubscriber(r,function(e){var t,r,n=s.slice();try{for(var o=mh(n),i=o.next();!i.done;i=o.next()){var u=i.value,a=u.buffer;a.push(e),l<=a.length&&c(u)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},function(){for(;null!=s&&s.length;)r.next(s.shift().buffer);null!=t&&t.unsubscribe(),r.complete(),r.unsubscribe()},void 0,function(){return s=null}));e.subscribe(t)})};var jh={},Ch=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ih=(Object.defineProperty(jh,"__esModule",{value:!0}),jh.bufferToggle=void 0,h),Rh=j,Ah=C,kh=_,Mh=v,Nh=X;jh.bufferToggle=function(t,o){return Rh.operate(function(e,n){var i=[];Ah.innerFrom(t).subscribe(kh.createOperatorSubscriber(n,function(e){var t=[],r=(i.push(t),new Ih.Subscription);r.add(Ah.innerFrom(o(e)).subscribe(kh.createOperatorSubscriber(n,function(){Nh.arrRemove(i,t),n.next(t),r.unsubscribe()},Mh.noop)))},Mh.noop)),e.subscribe(kh.createOperatorSubscriber(n,function(e){var t,r;try{for(var n=Ch(i),o=n.next();!o.done;o=n.next())o.value.push(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}},function(){for(;0<i.length;)n.next(i.shift());n.complete()}))})};var xh={},Dh=(Object.defineProperty(xh,"__esModule",{value:!0}),xh.bufferWhen=void 0,j),Uh=v,Lh=_,Fh=C;xh.bufferWhen=function(i){return Dh.operate(function(e,t){var r=null,n=null,o=function(){null!=n&&n.unsubscribe();var e=r;r=[],e&&t.next(e),Fh.innerFrom(i()).subscribe(n=Lh.createOperatorSubscriber(t,o,Uh.noop))};o(),e.subscribe(Lh.createOperatorSubscriber(t,function(e){return null==r?void 0:r.push(e)},function(){r&&t.next(r),t.complete()},void 0,function(){return r=n=null}))})};var Bh={},Wh=(Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.catchError=void 0,C),qh=_,zh=j;Bh.catchError=function u(a){return zh.operate(function(t,r){var n,o=null,i=!1,o=t.subscribe(qh.createOperatorSubscriber(r,void 0,void 0,function(e){n=Wh.innerFrom(a(e,u(a)(t))),o?(o.unsubscribe(),o=null,n.subscribe(r)):i=!0}));i&&(o.unsubscribe(),o=null,n.subscribe(r))})};var Vh={},Hh={},I={},Gh={},Yh={},Kh={},Zh=(Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.scanInternals=void 0,_);Kh.scanInternals=function(u,t,a,s,c){return function(e,r){var n=a,o=t,i=0;e.subscribe(Zh.createOperatorSubscriber(r,function(e){var t=i++;o=n?u(o,e,t):(n=!0,e),s&&r.next(o)},c&&function(){n&&r.next(o),r.complete()}))}},Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.reduce=void 0;var Xh=Kh,Qh=j;Yh.reduce=function(e,t){return Qh.operate(Xh.scanInternals(e,t,2<=arguments.length,!1,!0))},Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.toArray=void 0;function Jh(e,t){return e.push(t),e}var $h=Yh,eb=j;Gh.toArray=function(){return eb.operate(function(e,t){$h.reduce(Jh,[])(e).subscribe(t)})},Object.defineProperty(I,"__esModule",{value:!0}),I.joinAllInternals=void 0;var tb=i,rb=bf,nb=T,ob=ep,ib=Gh;I.joinAllInternals=function(t,e){return nb.pipe(ib.toArray(),ob.mergeMap(function(e){return t(e)}),e?rb.mapOneOrManyArgs(e):tb.identity)},Object.defineProperty(Hh,"__esModule",{value:!0}),Hh.combineLatestAll=void 0;var ub=w,ab=I;Hh.combineLatestAll=function(e){return ab.joinAllInternals(ub.combineLatest,e)},Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.combineAll=void 0;Vh.combineAll=Hh.combineLatestAll;var sb={},cb={},lb=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},fb=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},pb=(Object.defineProperty(cb,"__esModule",{value:!0}),cb.combineLatest=void 0,w),db=j,hb=hd,bb=bf,yb=T,_b=m;function vb(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=_b.popResultSelector(r);return t?yb.pipe(vb.apply(void 0,fb([],lb(r))),bb.mapOneOrManyArgs(t)):db.operate(function(e,t){pb.combineLatestInit(fb([e],lb(hb.argsOrArgArray(r))))(t)})}cb.combineLatest=vb;var mb=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},gb=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Ob=(Object.defineProperty(sb,"__esModule",{value:!0}),sb.combineLatestWith=void 0,cb);sb.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ob.combineLatest.apply(void 0,gb([],mb(e)))};var bf={},wb=(Object.defineProperty(bf,"__esModule",{value:!0}),bf.concatMap=void 0,ep),Eb=b;bf.concatMap=function(e,t){return Eb.isFunction(t)?wb.mergeMap(e,t,1):wb.mergeMap(e,1)};var Pb={},Sb=(Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.concatMapTo=void 0,bf),Tb=b;Pb.concatMapTo=function(e,t){return Tb.isFunction(t)?Sb.concatMap(function(){return e},t):Sb.concatMap(function(){return e})};var jb={},Cb={},Ib=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Rb=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Ab=(Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.concat=void 0,j),kb=Jf,Mb=m,Nb=yc;Cb.concat=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=Mb.popScheduler(r);return Ab.operate(function(e,t){kb.concatAll()(Nb.from(Rb([e],Ib(r)),n)).subscribe(t)})};var xb=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Db=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Ub=(Object.defineProperty(jb,"__esModule",{value:!0}),jb.concatWith=void 0,Cb);jb.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ub.concat.apply(void 0,Db([],xb(e)))};var Lb={},Fb={},Bb=(Object.defineProperty(Fb,"__esModule",{value:!0}),Fb.fromSubscribable=void 0,P);Fb.fromSubscribable=function(t){return new Bb.Observable(function(e){return t.subscribe(e)})},Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.connect=void 0;var Wb=s,qb=C,zb=j,Vb=Fb,Hb={connector:function(){return new Wb.Subject}};Lb.connect=function(n,e){var o=(e=void 0===e?Hb:e).connector;return zb.operate(function(e,t){var r=o();qb.innerFrom(n(Vb.fromSubscribable(r))).subscribe(t),t.add(e.subscribe(r))})};var Fb={},Gb=(Object.defineProperty(Fb,"__esModule",{value:!0}),Fb.count=void 0,Yh);Fb.count=function(n){return Gb.reduce(function(e,t,r){return!n||n(t,r)?e+1:e},0)};var Yb={},Kb=(Object.defineProperty(Yb,"__esModule",{value:!0}),Yb.debounce=void 0,j),Zb=v,Xb=_,Qb=C;Yb.debounce=function(u){return Kb.operate(function(e,t){function r(){var e;null!=i&&i.unsubscribe(),i=null,n&&(n=!1,e=o,o=null,t.next(e))}var n=!1,o=null,i=null;e.subscribe(Xb.createOperatorSubscriber(t,function(e){null!=i&&i.unsubscribe(),n=!0,o=e,i=Xb.createOperatorSubscriber(t,r,Zb.noop),Qb.innerFrom(u(e)).subscribe(i)},function(){r(),t.complete()},void 0,function(){o=i=null}))})};var Jb={},$b=(Object.defineProperty(Jb,"__esModule",{value:!0}),Jb.debounceTime=void 0,us),ey=j,ty=_;Jb.debounceTime=function(a,s){return void 0===s&&(s=$b.asyncScheduler),ey.operate(function(e,r){var n=null,t=null,o=null,i=function(){var e;n&&(n.unsubscribe(),e=t,t=n=null,r.next(e))};function u(){var e=o+a,t=s.now();if(t<e)return n=this.schedule(void 0,e-t),void r.add(n);i()}e.subscribe(ty.createOperatorSubscriber(r,function(e){t=e,o=s.now(),n||(n=s.schedule(u,a),r.add(n))},function(){i(),r.complete()},void 0,function(){t=n=null}))})};var ry={},ny=(Object.defineProperty(ry,"__esModule",{value:!0}),ry.defaultIfEmpty=void 0,j),oy=_;ry.defaultIfEmpty=function(n){return ny.operate(function(e,t){var r=!1;e.subscribe(oy.createOperatorSubscriber(t,function(e){r=!0,t.next(e)},function(){r||t.next(n),t.complete()}))})};var R={},iy={},uy={},ay=(Object.defineProperty(uy,"__esModule",{value:!0}),uy.take=void 0,y),sy=j,cy=_;uy.take=function(n){return n<=0?function(){return ay.EMPTY}:sy.operate(function(e,t){var r=0;e.subscribe(cy.createOperatorSubscriber(t,function(e){++r<=n&&(t.next(e),n<=r&&t.complete())}))})};var ly={},fy=(Object.defineProperty(ly,"__esModule",{value:!0}),ly.ignoreElements=void 0,j),py=_,dy=v;ly.ignoreElements=function(){return fy.operate(function(e,t){e.subscribe(py.createOperatorSubscriber(t,dy.noop))})};var hy={},by=(Object.defineProperty(hy,"__esModule",{value:!0}),hy.mapTo=void 0,yf);hy.mapTo=function(e){return by.map(function(){return e})},Object.defineProperty(iy,"__esModule",{value:!0}),iy.delayWhen=void 0;var yy=Qf,_y=uy,vy=ly,my=hy,gy=ep,Oy=C;iy.delayWhen=function t(r,n){return n?function(e){return yy.concat(n.pipe(_y.take(1),vy.ignoreElements()),e.pipe(t(r)))}:gy.mergeMap(function(e,t){return Oy.innerFrom(r(e,t)).pipe(_y.take(1),my.mapTo(e))})},Object.defineProperty(R,"__esModule",{value:!0}),R.delay=void 0;var wy=us,Ey=iy,Py=$p;R.delay=function(e,t){var r=Py.timer(e,t=void 0===t?wy.asyncScheduler:t);return Ey.delayWhen(function(){return r})};var Sy={},Ty=(Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.dematerialize=void 0,as),jy=j,Cy=_;Sy.dematerialize=function(){return jy.operate(function(e,t){e.subscribe(Cy.createOperatorSubscriber(t,function(e){return Ty.observeNotification(e,t)}))})};var Iy={},Ry=(Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.distinct=void 0,j),Ay=_,ky=v,My=C;Iy.distinct=function(o,t){return Ry.operate(function(e,r){var n=new Set;e.subscribe(Ay.createOperatorSubscriber(r,function(e){var t=o?o(e):e;n.has(t)||(n.add(t),r.next(e))})),t&&My.innerFrom(t).subscribe(Ay.createOperatorSubscriber(r,function(){return n.clear()},ky.noop))})};var Ny={},xy=(Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.distinctUntilChanged=void 0,i),Dy=j,Uy=_;function Ly(e,t){return e===t}Ny.distinctUntilChanged=function(i,u){return void 0===u&&(u=xy.identity),i=null!=i?i:Ly,Dy.operate(function(e,r){var n,o=!0;e.subscribe(Uy.createOperatorSubscriber(r,function(e){var t=u(e);!o&&i(n,t)||(o=!1,n=t,r.next(e))}))})};var Fy={},By=(Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.distinctUntilKeyChanged=void 0,Ny);Fy.distinctUntilKeyChanged=function(r,n){return By.distinctUntilChanged(function(e,t){return n?n(e[r],t[r]):e[r]===t[r]})};var Wy={},qy={},zy=(Object.defineProperty(qy,"__esModule",{value:!0}),qy.throwIfEmpty=void 0,gc),Vy=j,Hy=_;function Gy(){return new zy.EmptyError}qy.throwIfEmpty=function(n){return void 0===n&&(n=Gy),Vy.operate(function(e,t){var r=!1;e.subscribe(Hy.createOperatorSubscriber(t,function(e){r=!0,t.next(e)},function(){return r?t.complete():t.error(n())}))})},Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.elementAt=void 0;var Yy=jc,Ky=Sd,Zy=qy,Xy=ry,Qy=uy;Wy.elementAt=function(r,t){if(r<0)throw new Yy.ArgumentOutOfRangeError;var n=2<=arguments.length;return function(e){return e.pipe(Ky.filter(function(e,t){return t===r}),Qy.take(1),n?Xy.defaultIfEmpty(t):Zy.throwIfEmpty(function(){return new Yy.ArgumentOutOfRangeError}))}};var Jy={},$y=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},e_=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},t_=(Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.endWith=void 0,Qf),r_=l;Jy.endWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return t_.concat(e,r_.of.apply(void 0,e_([],$y(t))))}};var n_={},o_=(Object.defineProperty(n_,"__esModule",{value:!0}),n_.every=void 0,j),i_=_;n_.every=function(o,i){return o_.operate(function(t,r){var n=0;t.subscribe(i_.createOperatorSubscriber(r,function(e){o.call(i,e,n++,t)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})};var u_={},a_={},s_={},c_=(Object.defineProperty(s_,"__esModule",{value:!0}),s_.exhaustMap=void 0,yf),l_=C,f_=j,p_=_;s_.exhaustMap=function t(i,o){return o?function(e){return e.pipe(t(function(r,n){return l_.innerFrom(i(r,n)).pipe(c_.map(function(e,t){return o(r,e,n,t)}))}))}:f_.operate(function(e,t){var r=0,n=null,o=!1;e.subscribe(p_.createOperatorSubscriber(t,function(e){n||(n=p_.createOperatorSubscriber(t,void 0,function(){n=null,o&&t.complete()}),l_.innerFrom(i(e,r++)).subscribe(n))},function(){o=!0,n||t.complete()}))})},Object.defineProperty(a_,"__esModule",{value:!0}),a_.exhaustAll=void 0;var d_=s_,h_=i;a_.exhaustAll=function(){return d_.exhaustMap(h_.identity)},Object.defineProperty(u_,"__esModule",{value:!0}),u_.exhaust=void 0;u_.exhaust=a_.exhaustAll;var b_={},y_=(Object.defineProperty(b_,"__esModule",{value:!0}),b_.expand=void 0,j),__=tp;b_.expand=function(r,n,o){return n=((n=void 0===n?1/0:n)||0)<1?1/0:n,y_.operate(function(e,t){return __.mergeInternals(e,t,r,n,void 0,!0,o)})};var v_={},m_=(Object.defineProperty(v_,"__esModule",{value:!0}),v_.finalize=void 0,j);v_.finalize=function(r){return m_.operate(function(e,t){try{e.subscribe(t)}finally{t.add(r)}})};var g_={},O_=(Object.defineProperty(g_,"__esModule",{value:!0}),g_.createFind=g_.find=void 0,j),w_=_;function E_(i,u,e){var a="index"===e;return function(r,n){var o=0;r.subscribe(w_.createOperatorSubscriber(n,function(e){var t=o++;i.call(u,e,t,r)&&(n.next(a?t:e),n.complete())},function(){n.next(a?-1:void 0),n.complete()}))}}g_.find=function(e,t){return O_.operate(E_(e,t,"value"))},g_.createFind=E_;var P_={},S_=(Object.defineProperty(P_,"__esModule",{value:!0}),P_.findIndex=void 0,j),T_=g_;P_.findIndex=function(e,t){return S_.operate(T_.createFind(e,t,"index"))};var j_={},C_=(Object.defineProperty(j_,"__esModule",{value:!0}),j_.first=void 0,gc),I_=Sd,R_=uy,A_=ry,k_=qy,M_=i;j_.first=function(n,e){var t=2<=arguments.length;return function(r){return r.pipe(n?I_.filter(function(e,t){return n(e,t,r)}):M_.identity,R_.take(1),t?A_.defaultIfEmpty(e):k_.throwIfEmpty(function(){return new C_.EmptyError}))}};var N_={},x_=(Object.defineProperty(N_,"__esModule",{value:!0}),N_.groupBy=void 0,P),D_=C,U_=s,L_=j,F_=_;N_.groupBy=function(b,t,y,_){return L_.operate(function(e,s){function c(t){return r(function(e){return e.error(t)})}t&&"function"!=typeof t?(y=t.duration,l=t.element,_=t.connector):l=t;var l,f=new Map,r=function(e){f.forEach(e),e(s)},p=0,d=!1,h=new F_.OperatorSubscriber(s,function(e){try{var t,r,n=b(e),o=f.get(n);o||(f.set(n,o=_?_():new U_.Subject),i=n,u=o,(a=new x_.Observable(function(e){p++;var t=u.subscribe(e);return function(){t.unsubscribe(),0==--p&&d&&h.unsubscribe()}})).key=i,t=a,s.next(t),y&&(r=F_.createOperatorSubscriber(o,function(){o.complete(),null!=r&&r.unsubscribe()},void 0,void 0,function(){return f.delete(n)}),h.add(D_.innerFrom(y(t)).subscribe(r)))),o.next(l?l(e):e)}catch(e){c(e)}var i,u,a},function(){return r(function(e){return e.complete()})},c,function(){return f.clear()},function(){return d=!0,0===p});e.subscribe(h)})};var B_={},W_=(Object.defineProperty(B_,"__esModule",{value:!0}),B_.isEmpty=void 0,j),q_=_;B_.isEmpty=function(){return W_.operate(function(e,t){e.subscribe(q_.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})};var z_={},V_={},H_=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},G_=(Object.defineProperty(V_,"__esModule",{value:!0}),V_.takeLast=void 0,y),Y_=j,K_=_;V_.takeLast=function(t){return t<=0?function(){return G_.EMPTY}:Y_.operate(function(e,i){var u=[];e.subscribe(K_.createOperatorSubscriber(i,function(e){u.push(e),t<u.length&&u.shift()},function(){var t,e;try{for(var r=H_(u),n=r.next();!n.done;n=r.next()){var o=n.value;i.next(o)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}i.complete()},void 0,function(){u=null}))})},Object.defineProperty(z_,"__esModule",{value:!0}),z_.last=void 0;var Z_=gc,X_=Sd,Q_=V_,J_=qy,$_=ry,ev=i;z_.last=function(n,e){var t=2<=arguments.length;return function(r){return r.pipe(n?X_.filter(function(e,t){return n(e,t,r)}):ev.identity,Q_.takeLast(1),t?$_.defaultIfEmpty(e):J_.throwIfEmpty(function(){return new Z_.EmptyError}))}};var tv={},rv=(Object.defineProperty(tv,"__esModule",{value:!0}),tv.materialize=void 0,as),nv=j,ov=_;tv.materialize=function(){return nv.operate(function(e,t){e.subscribe(ov.createOperatorSubscriber(t,function(e){t.next(rv.Notification.createNext(e))},function(){t.next(rv.Notification.createComplete()),t.complete()},function(e){t.next(rv.Notification.createError(e)),t.complete()}))})};var iv={},uv=(Object.defineProperty(iv,"__esModule",{value:!0}),iv.max=void 0,Yh),av=b;iv.max=function(r){return uv.reduce(av.isFunction(r)?function(e,t){return 0<r(e,t)?e:t}:function(e,t){return t<e?e:t})};var sv={},cv=(Object.defineProperty(sv,"__esModule",{value:!0}),sv.flatMap=void 0,ep),cv=(sv.flatMap=cv.mergeMap,{}),lv=(Object.defineProperty(cv,"__esModule",{value:!0}),cv.mergeMapTo=void 0,ep),fv=b;cv.mergeMapTo=function(e,t,r){return void 0===r&&(r=1/0),fv.isFunction(t)?lv.mergeMap(function(){return e},t,r):lv.mergeMap(function(){return e},r="number"==typeof t?t:r)};var pv={},dv=(Object.defineProperty(pv,"__esModule",{value:!0}),pv.mergeScan=void 0,j),hv=tp;pv.mergeScan=function(n,o,i){return void 0===i&&(i=1/0),dv.operate(function(e,t){var r=o;return hv.mergeInternals(e,t,function(e,t){return n(r,e,t)},i,function(e){r=e},!1,void 0,function(){return r=null})})};var tp={},bv={},yv=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},_v=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},vv=(Object.defineProperty(bv,"__esModule",{value:!0}),bv.merge=void 0,j),mv=hd,gv=$f,Ov=m,wv=yc;bv.merge=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=Ov.popScheduler(r),o=Ov.popNumber(r,1/0),r=mv.argsOrArgArray(r);return vv.operate(function(e,t){gv.mergeAll(o)(wv.from(_v([e],yv(r)),n)).subscribe(t)})};var Ev=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Pv=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Sv=(Object.defineProperty(tp,"__esModule",{value:!0}),tp.mergeWith=void 0,bv);tp.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Sv.merge.apply(void 0,Pv([],Ev(e)))};var Tv={},jv=(Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.min=void 0,Yh),Cv=b;Tv.min=function(r){return jv.reduce(Cv.isFunction(r)?function(e,t){return r(e,t)<0?e:t}:function(e,t){return e<t?e:t})};var Iv={},Rv=(Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.multicast=void 0,S),Av=b,kv=Lb;Iv.multicast=function(e,t){var r=Av.isFunction(e)?e:function(){return e};return Av.isFunction(t)?kv.connect(t,{connector:r}):function(e){return new Rv.ConnectableObservable(e,r)}};var Mv={},Nv=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},xv=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Dv=(Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.onErrorResumeNext=Mv.onErrorResumeNextWith=void 0,hd),Uv=dd;function Lv(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Dv.argsOrArgArray(e);return function(e){return Uv.onErrorResumeNext.apply(void 0,xv([e],Nv(r)))}}Mv.onErrorResumeNextWith=Lv,Mv.onErrorResumeNext=Lv;var Fv={},Bv=(Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.pairwise=void 0,j),Wv=_;Fv.pairwise=function(){return Bv.operate(function(e,r){var n,o=!1;e.subscribe(Wv.createOperatorSubscriber(r,function(e){var t=n;n=e,o&&r.next([t,e]),o=!0}))})};var qv={},zv=(Object.defineProperty(qv,"__esModule",{value:!0}),qv.pluck=void 0,yf);qv.pluck=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];var i=o.length;if(0===i)throw new Error("list of properties cannot be empty.");return zv.map(function(e){for(var t=e,r=0;r<i;r++){var n=null==t?void 0:t[o[r]];if(void 0===n)return;t=n}return t})};var Vv={},Hv=(Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.publish=void 0,s),Gv=Iv,Yv=Lb;Vv.publish=function(t){return t?function(e){return Yv.connect(t)(e)}:function(e){return Gv.multicast(new Hv.Subject)(e)}};var Kv={},Zv=(Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.publishBehavior=void 0,u),Xv=S;Kv.publishBehavior=function(r){return function(e){var t=new Zv.BehaviorSubject(r);return new Xv.ConnectableObservable(e,function(){return t})}};var Qv={},Jv=(Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.publishLast=void 0,g),$v=S;Qv.publishLast=function(){return function(e){var t=new Jv.AsyncSubject;return new $v.ConnectableObservable(e,function(){return t})}};var em={},tm=(Object.defineProperty(em,"__esModule",{value:!0}),em.publishReplay=void 0,Dr),rm=Iv,nm=b;em.publishReplay=function(t,r,e,n){e&&!nm.isFunction(e)&&(n=e);var o=nm.isFunction(e)?e:void 0;return function(e){return rm.multicast(new tm.ReplaySubject(t,r,n),o)(e)}};var om={},im=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},um=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},am=(Object.defineProperty(om,"__esModule",{value:!0}),om.raceWith=void 0,Ad),sm=j,cm=i;om.raceWith=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return r.length?sm.operate(function(e,t){am.raceInit(um([e],im(r)))(t)}):cm.identity};var lm={},fm=(Object.defineProperty(lm,"__esModule",{value:!0}),lm.repeat=void 0,y),pm=j,dm=_,hm=C,bm=$p;lm.repeat=function(e){var t,a,s=1/0;return null!=e&&("object"==typeof e?(t=e.count,s=void 0===t?1/0:t,a=e.delay):s=e),s<=0?function(){return fm.EMPTY}:pm.operate(function(t,r){function n(){var e=!1;o=t.subscribe(dm.createOperatorSubscriber(r,void 0,function(){++i<s?o?u():e=!0:r.complete()})),e&&u()}var o,i=0,u=function(){var e,t;null!=o&&o.unsubscribe(),(o=null)!=a?(e="number"==typeof a?bm.timer(a):hm.innerFrom(a(i)),t=dm.createOperatorSubscriber(r,function(){t.unsubscribe(),n()}),e.subscribe(t)):n()};n()})};var ym={},_m=(Object.defineProperty(ym,"__esModule",{value:!0}),ym.repeatWhen=void 0,C),vm=s,mm=j,gm=_;ym.repeatWhen=function(l){return mm.operate(function(e,t){var r,n,o=!1,i=!1,u=!1,a=function(){return u&&i&&(t.complete(),!0)},s=function(){return n||(n=new vm.Subject,_m.innerFrom(l(n)).subscribe(gm.createOperatorSubscriber(t,function(){r?c():o=!0},function(){i=!0,a()}))),n},c=function(){u=!1,r=e.subscribe(gm.createOperatorSubscriber(t,void 0,function(){u=!0,a()||s().next()})),o&&(r.unsubscribe(),r=null,o=!1,c())};c()})};var Om={},wm=(Object.defineProperty(Om,"__esModule",{value:!0}),Om.retry=void 0,j),Em=_,Pm=i,Sm=$p,Tm=C;Om.retry=function(e){var t=(e=(e=void 0===e?1/0:e)&&"object"==typeof e?e:{count:e}).count,c=void 0===t?1/0:t,l=e.delay,r=void 0!==(t=e.resetOnSuccess)&&t;return c<=0?Pm.identity:wm.operate(function(e,i){var u,a=0,s=function(){var o=!1;u=e.subscribe(Em.createOperatorSubscriber(i,function(e){r&&(a=0),i.next(e)},void 0,function(e){var t,r,n;a++<c?(t=function(){u?(u.unsubscribe(),u=null,s()):o=!0},null!=l?(r="number"==typeof l?Sm.timer(l):Tm.innerFrom(l(e,a)),n=Em.createOperatorSubscriber(i,function(){n.unsubscribe(),t()},function(){i.complete()}),r.subscribe(n)):t()):i.error(e)})),o&&(u.unsubscribe(),u=null,s())};s()})};var jm={},Cm=(Object.defineProperty(jm,"__esModule",{value:!0}),jm.retryWhen=void 0,C),Im=s,Rm=j,Am=_;jm.retryWhen=function(u){return Rm.operate(function(e,t){var r,n,o=!1,i=function(){r=e.subscribe(Am.createOperatorSubscriber(t,void 0,void 0,function(e){n||(n=new Im.Subject,Cm.innerFrom(u(n)).subscribe(Am.createOperatorSubscriber(t,function(){return r?i():o=!0}))),n&&n.next(e)})),o&&(r.unsubscribe(),r=null,o=!1,i())};i()})};var km={},Mm=(Object.defineProperty(km,"__esModule",{value:!0}),km.sample=void 0,C),Nm=j,xm=v,Dm=_;km.sample=function(o){return Nm.operate(function(e,t){var r=!1,n=null;e.subscribe(Dm.createOperatorSubscriber(t,function(e){r=!0,n=e})),Mm.innerFrom(o).subscribe(Dm.createOperatorSubscriber(t,function(){var e;r&&(r=!1,e=n,n=null,t.next(e))},xm.noop))})};var Um={},Lm=(Object.defineProperty(Um,"__esModule",{value:!0}),Um.sampleTime=void 0,us),Fm=km,Bm=Jp;Um.sampleTime=function(e,t){return Fm.sample(Bm.interval(e,t=void 0===t?Lm.asyncScheduler:t))};var Wm={},qm=(Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.scan=void 0,j),zm=Kh;Wm.scan=function(e,t){return qm.operate(zm.scanInternals(e,t,2<=arguments.length,!0))};var Kh={},Vm=(Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.sequenceEqual=void 0,j),Hm=_,Gm=C;function Ym(){return{buffer:[],complete:!1}}Kh.sequenceEqual=function(u,a){return void 0===a&&(a=function(e,t){return e===t}),Vm.operate(function(e,t){function r(n,o){var r=Hm.createOperatorSubscriber(t,function(e){var t=o.buffer,r=o.complete;0===t.length?r?i(!1):n.buffer.push(e):a(e,t.shift())||i(!1)},function(){n.complete=!0;var e=o.complete,t=o.buffer;e&&i(0===t.length),null!=r&&r.unsubscribe()});return r}var n=Ym(),o=Ym(),i=function(e){t.next(e),t.complete()};e.subscribe(r(n,o)),Gm.innerFrom(u).subscribe(r(o,n))})};var Km={},Zm=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Xm=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},Qm=(Object.defineProperty(Km,"__esModule",{value:!0}),Km.share=void 0,C),Jm=s,$m=Q,e0=j;function t0(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!0===t)e();else if(!1!==t)return r=new $m.SafeSubscriber({next:function(){r.unsubscribe(),e()}}),Qm.innerFrom(t.apply(void 0,Xm([],Zm(n)))).subscribe(r)}Km.share=function(e){var t=(e=void 0===e?{}:e).connector,p=void 0===t?function(){return new Jm.Subject}:t,d=void 0===(t=e.resetOnError)||t,h=void 0===(t=e.resetOnComplete)||t,b=void 0===(t=e.resetOnRefCountZero)||t;return function(e){function n(){var e=o;f(),null!=e&&e.unsubscribe()}var o,i,u,a=0,s=!1,c=!1,l=function(){null!=i&&i.unsubscribe(),i=void 0},f=function(){l(),o=u=void 0,s=c=!1};return e0.operate(function(e,t){a++,c||s||l();var r=u=null!=u?u:p();t.add(function(){0!==--a||c||s||(i=t0(n,b))}),r.subscribe(t),!o&&0<a&&(o=new $m.SafeSubscriber({next:function(e){return r.next(e)},error:function(e){c=!0,l(),i=t0(f,d,e),r.error(e)},complete:function(){s=!0,l(),i=t0(f,h),r.complete()}}),Qm.innerFrom(e).subscribe(o))})(e)}};var r0={},n0=(Object.defineProperty(r0,"__esModule",{value:!0}),r0.shareReplay=void 0,Dr),o0=Km;r0.shareReplay=function(e,t,r){var n,o,i=!1;return e&&"object"==typeof e?(n=e.bufferSize,o=void 0===n?1/0:n,n=e.windowTime,t=void 0===n?1/0:n,i=void 0!==(n=e.refCount)&&n,r=e.scheduler):o=null!=e?e:1/0,o0.share({connector:function(){return new n0.ReplaySubject(o,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})};var i0={},u0=(Object.defineProperty(i0,"__esModule",{value:!0}),i0.single=void 0,gc),a0=hl,s0=jl,c0=j,l0=_;i0.single=function(a){return c0.operate(function(t,r){var n,o=!1,i=!1,u=0;t.subscribe(l0.createOperatorSubscriber(r,function(e){i=!0,a&&!a(e,u++,t)||(o&&r.error(new a0.SequenceError("Too many matching values")),o=!0,n=e)},function(){o?(r.next(n),r.complete()):r.error(i?new s0.NotFoundError("No matching values"):new u0.EmptyError)}))})};var f0={},p0=(Object.defineProperty(f0,"__esModule",{value:!0}),f0.skip=void 0,Sd);f0.skip=function(r){return p0.filter(function(e,t){return r<=t})};var d0={},h0=(Object.defineProperty(d0,"__esModule",{value:!0}),d0.skipLast=void 0,i),b0=j,y0=_;d0.skipLast=function(u){return u<=0?h0.identity:b0.operate(function(e,n){var o=new Array(u),i=0;return e.subscribe(y0.createOperatorSubscriber(n,function(e){var t,r=i++;r<u?o[r]=e:(t=o[r=r%u],o[r]=e,n.next(t))})),function(){o=null}})};var _0={},v0=(Object.defineProperty(_0,"__esModule",{value:!0}),_0.skipUntil=void 0,j),m0=_,g0=C,O0=v;_0.skipUntil=function(o){return v0.operate(function(e,t){var r=!1,n=m0.createOperatorSubscriber(t,function(){null!=n&&n.unsubscribe(),r=!0},O0.noop);g0.innerFrom(o).subscribe(n),e.subscribe(m0.createOperatorSubscriber(t,function(e){return r&&t.next(e)}))})};var w0={},E0=(Object.defineProperty(w0,"__esModule",{value:!0}),w0.skipWhile=void 0,j),P0=_;w0.skipWhile=function(o){return E0.operate(function(e,t){var r=!1,n=0;e.subscribe(P0.createOperatorSubscriber(t,function(e){return(r=r||!o(e,n++))&&t.next(e)}))})};var S0={},T0=(Object.defineProperty(S0,"__esModule",{value:!0}),S0.startWith=void 0,Qf),j0=m,C0=j;S0.startWith=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=j0.popScheduler(r);return C0.operate(function(e,t){(n?T0.concat(r,e,n):T0.concat(r,e)).subscribe(t)})};var I0={},R0={},A0=(Object.defineProperty(R0,"__esModule",{value:!0}),R0.switchMap=void 0,C),k0=j,M0=_;R0.switchMap=function(s,c){return k0.operate(function(e,o){function i(){t&&!u&&o.complete()}var u=null,a=0,t=!1;e.subscribe(M0.createOperatorSubscriber(o,function(t){null!=u&&u.unsubscribe();var r=0,n=a++;A0.innerFrom(s(t,n)).subscribe(u=M0.createOperatorSubscriber(o,function(e){return o.next(c?c(t,e,n,r++):e)},function(){u=null,i()}))},function(){t=!0,i()}))})},Object.defineProperty(I0,"__esModule",{value:!0}),I0.switchAll=void 0;var N0=R0,x0=i;I0.switchAll=function(){return N0.switchMap(x0.identity)};var D0={},U0=(Object.defineProperty(D0,"__esModule",{value:!0}),D0.switchMapTo=void 0,R0),L0=b;D0.switchMapTo=function(e,t){return L0.isFunction(t)?U0.switchMap(function(){return e},t):U0.switchMap(function(){return e})};var F0={},B0=(Object.defineProperty(F0,"__esModule",{value:!0}),F0.switchScan=void 0,R0),W0=j;F0.switchScan=function(n,o){return W0.operate(function(e,t){var r=o;return B0.switchMap(function(e,t){return n(r,e,t)},function(e,t){return r=t})(e).subscribe(t),function(){r=null}})};var q0={},z0=(Object.defineProperty(q0,"__esModule",{value:!0}),q0.takeUntil=void 0,j),V0=_,H0=C,G0=v;q0.takeUntil=function(r){return z0.operate(function(e,t){H0.innerFrom(r).subscribe(V0.createOperatorSubscriber(t,function(){return t.complete()},G0.noop)),t.closed||e.subscribe(t)})};var Y0={},K0=(Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.takeWhile=void 0,j),Z0=_;Y0.takeWhile=function(o,i){return void 0===i&&(i=!1),K0.operate(function(e,r){var n=0;e.subscribe(Z0.createOperatorSubscriber(r,function(e){var t=o(e,n++);(t||i)&&r.next(e),t||r.complete()}))})};var X0={},Q0=(Object.defineProperty(X0,"__esModule",{value:!0}),X0.tap=void 0,b),J0=j,$0=_,eg=i;X0.tap=function(e,t,r){var o=Q0.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return o?J0.operate(function(e,r){null!=(t=o.subscribe)&&t.call(o);var t,n=!0;e.subscribe($0.createOperatorSubscriber(r,function(e){var t;null!=(t=o.next)&&t.call(o,e),r.next(e)},function(){var e;n=!1,null!=(e=o.complete)&&e.call(o),r.complete()},function(e){var t;n=!1,null!=(t=o.error)&&t.call(o,e),r.error(e)},function(){var e;n&&null!=(e=o.unsubscribe)&&e.call(o),null!=(e=o.finalize)&&e.call(o)}))}):eg.identity};var b={},tg=(Object.defineProperty(b,"__esModule",{value:!0}),b.throttle=void 0,j),rg=_,ng=C;b.throttle=function(h,b){return tg.operate(function(e,t){function r(){var e;a&&(a=!1,e=s,s=null,t.next(e),l||d(e))}var n=null!=b?b:{},o=n.leading,i=void 0===o||o,o=n.trailing,u=void 0!==o&&o,a=!1,s=null,c=null,l=!1,f=function(){null!=c&&c.unsubscribe(),c=null,u&&(r(),l&&t.complete())},p=function(){c=null,l&&t.complete()},d=function(e){return c=ng.innerFrom(h(e)).subscribe(rg.createOperatorSubscriber(t,f,p))};e.subscribe(rg.createOperatorSubscriber(t,function(e){a=!0,s=e,c&&!c.closed||(i?r():d(e))},function(){l=!0,u&&a&&c&&!c.closed||t.complete()}))})};var og={},ig=(Object.defineProperty(og,"__esModule",{value:!0}),og.throttleTime=void 0,us),ug=b,ag=$p;og.throttleTime=function(e,t,r){var n=ag.timer(e,t=void 0===t?ig.asyncScheduler:t);return ug.throttle(function(){return n},r)};var sg={},cg=(Object.defineProperty(sg,"__esModule",{value:!0}),sg.TimeInterval=sg.timeInterval=void 0,us),lg=j,fg=_;sg.timeInterval=function(i){return void 0===i&&(i=cg.asyncScheduler),lg.operate(function(e,n){var o=i.now();e.subscribe(fg.createOperatorSubscriber(n,function(e){var t=i.now(),r=t-o;o=t,n.next(new pg(e,r))}))})};var pg=function(e,t){this.value=e,this.interval=t},dg=(sg.TimeInterval=pg,{}),hg=(Object.defineProperty(dg,"__esModule",{value:!0}),dg.timeoutWith=void 0,us),bg=vl,yg=Mc;dg.timeoutWith=function(e,t,r){var n,o;if(r=null!=r?r:hg.async,bg.isValidDate(e)?n=e:"number"==typeof e&&(o=e),!t)throw new TypeError("No observable provided to switch to");if(e=function(){return t},null==n&&null==o)throw new TypeError("No timeout provided.");return yg.timeout({first:n,each:o,scheduler:r,with:e})};var vl={},_g=(Object.defineProperty(vl,"__esModule",{value:!0}),vl.timestamp=void 0,n),vg=yf;vl.timestamp=function(t){return void 0===t&&(t=_g.dateTimestampProvider),vg.map(function(e){return{value:e,timestamp:t.now()}})};var n={},mg=(Object.defineProperty(n,"__esModule",{value:!0}),n.window=void 0,s),gg=j,Og=_,wg=v,Eg=C;n.window=function(o){return gg.operate(function(e,t){function r(e){n.error(e),t.error(e)}var n=new mg.Subject;t.next(n.asObservable());return e.subscribe(Og.createOperatorSubscriber(t,function(e){return null==n?void 0:n.next(e)},function(){n.complete(),t.complete()},r)),Eg.innerFrom(o).subscribe(Og.createOperatorSubscriber(t,function(){n.complete(),t.next(n=new mg.Subject)},wg.noop,r)),function(){null!=n&&n.unsubscribe(),n=null}})};var Pg={},Sg=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Tg=(Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.windowCount=void 0,s),jg=j,Cg=_;Pg.windowCount=function(s,e){var c=0<(e=void 0===e?0:e)?e:s;return jg.operate(function(e,i){var u=[new Tg.Subject],a=0;i.next(u[0].asObservable()),e.subscribe(Cg.createOperatorSubscriber(i,function(e){try{for(var t=Sg(u),r=t.next();!r.done;r=t.next())r.value.next(e)}catch(e){n={error:e}}finally{try{r&&!r.done&&(o=t.return)&&o.call(t)}finally{if(n)throw n.error}}var n,o=a-s+1;0<=o&&o%c==0&&u.shift().complete(),++a%c==0&&(n=new Tg.Subject,u.push(n),i.next(n.asObservable()))},function(){for(;0<u.length;)u.shift().complete();i.complete()},function(e){for(;0<u.length;)u.shift().error(e);i.error(e)},function(){u=null}))})};var Ig={},Rg=(Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.windowTime=void 0,s),Ag=us,kg=h,Mg=j,Ng=_,xg=X,Dg=m,Ug=il;Ig.windowTime=function(c){for(var e,t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var l=null!=(e=Dg.popScheduler(t))?e:Ag.asyncScheduler,f=null!=(e=t[0])?e:null,p=t[1]||1/0;return Mg.operate(function(e,n){function r(t){s(function(e){e=e.window;return t(e)}),t(n),n.unsubscribe()}var o=[],i=!1,u=function(e){var t=e.window,r=e.subs;t.complete(),r.unsubscribe(),xg.arrRemove(o,e),i&&a()},a=function(){var e,t,r;o&&(e=new kg.Subscription,n.add(e),t=new Rg.Subject,o.push(r={window:t,subs:e,seen:0}),n.next(t.asObservable()),Ug.executeSchedule(e,l,function(){return u(r)},c))},s=(null!==f&&0<=f?Ug.executeSchedule(n,l,a,f,!0):i=!0,a(),function(e){return o.slice().forEach(e)});return e.subscribe(Ng.createOperatorSubscriber(n,function(t){s(function(e){e.window.next(t),p<=++e.seen&&u(e)})},function(){return r(function(e){return e.complete()})},function(t){return r(function(e){return e.error(t)})})),function(){o=null}})};var il={},Lg=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Fg=(Object.defineProperty(il,"__esModule",{value:!0}),il.windowToggle=void 0,s),Bg=h,Wg=j,qg=C,zg=_,Vg=v,Hg=X;il.windowToggle=function(t,a){return Wg.operate(function(e,o){function i(e){for(;0<u.length;)u.shift().error(e);o.error(e)}var u=[];qg.innerFrom(t).subscribe(zg.createOperatorSubscriber(o,function(e){var t,r=new Fg.Subject,n=(u.push(r),new Bg.Subscription);try{t=qg.innerFrom(a(e))}catch(e){return void i(e)}o.next(r.asObservable()),n.add(t.subscribe(zg.createOperatorSubscriber(o,function(){Hg.arrRemove(u,r),r.complete(),n.unsubscribe()},Vg.noop,i)))},Vg.noop)),e.subscribe(zg.createOperatorSubscriber(o,function(e){var t,r,n=u.slice();try{for(var o=Lg(n),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},function(){for(;0<u.length;)u.shift().complete();o.complete()},i,function(){for(;0<u.length;)u.shift().unsubscribe()}))})};var X={},Gg=(Object.defineProperty(X,"__esModule",{value:!0}),X.windowWhen=void 0,s),Yg=j,Kg=_,Zg=C;X.windowWhen=function(u){return Yg.operate(function(e,t){var r,n,o=function(e){r.error(e),t.error(e)},i=function(){var e;null!=n&&n.unsubscribe(),null!=r&&r.complete(),r=new Gg.Subject,t.next(r.asObservable());try{e=Zg.innerFrom(u())}catch(e){return void o(e)}e.subscribe(n=Kg.createOperatorSubscriber(t,i,i,o))};i(),e.subscribe(Kg.createOperatorSubscriber(t,function(e){return r.next(e)},function(){r.complete(),t.complete()},o,function(){null!=n&&n.unsubscribe(),r=null}))})};var Xg={},Qg=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Jg=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},$g=(Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.withLatestFrom=void 0,j),eO=_,tO=C,rO=i,nO=v,oO=m;Xg.withLatestFrom=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];var s=oO.popResultSelector(a);return $g.operate(function(e,r){for(var t=a.length,n=new Array(t),o=a.map(function(){return!1}),i=!1,u=0;u<t;u++)!function(t){tO.innerFrom(a[t]).subscribe(eO.createOperatorSubscriber(r,function(e){n[t]=e,i||o[t]||(o[t]=!0,(i=o.every(rO.identity))&&(o=null))},nO.noop))}(u);e.subscribe(eO.createOperatorSubscriber(r,function(e){i&&(e=Jg([e],Qg(n)),r.next(s?s.apply(void 0,Jg([],Qg(e))):e))}))})};var _={},iO=(Object.defineProperty(_,"__esModule",{value:!0}),_.zipAll=void 0,Vd),uO=I;_.zipAll=function(e){return uO.joinAllInternals(iO.zip,e)};var C={},m={},aO=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},sO=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},cO=(Object.defineProperty(m,"__esModule",{value:!0}),m.zip=void 0,Vd),lO=j;m.zip=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return lO.operate(function(e,t){cO.zip.apply(void 0,sO([e],aO(r))).subscribe(t)})};var fO,pO,dO,hO,bO,yO,_O,vO,mO,gO,OO,wO,EO,PO,SO,TO,jO,CO,IO,RO,AO,kO,MO,NO,xO,DO,UO,LO,FO,BO,WO,qO,zO,VO,HO,GO,YO,KO,ZO,XO,QO,JO,$O,ew,tw,rw,nw,ow,iw,uw,aw,sw,cw,lw,fw,pw,dw,hw,bw,yw,_w,vw,mw,gw,Ow,ww,Ew,Pw,Sw,Tw,jw,Cw,Iw,Rw,Aw,kw,Mw,Nw,xw,Dw,Uw,Lw,Fw,Bw,Ww,qw,zw,Vw,Hw,Gw,Yw,Kw,Zw,Xw,Qw,Jw,$w,eE,tE,rE,nE,oE,iE,uE,aE,sE,cE,lE,fE,pE,dE,hE,bE,yE,_E,vE,mE,gE,OE,wE,EE,PE,SE,TE,jE,CE,IE,RE,AE,kE,ME,NE,xE,DE,UE,LE,FE,BE,WE,qE,zE,VE,HE,GE,YE,KE,ZE,XE,QE,JE,$E,eP,tP,rP,nP,oP,iP,uP,aP,sP,cP,lP,fP,pP,dP,hP,bP,yP,_P=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},vP=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},mP=(Object.defineProperty(C,"__esModule",{value:!0}),C.zipWith=void 0,m);C.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mP.zip.apply(void 0,vP([],_P(e)))},I=qr,fO=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),j=r&&r.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||fO(t,e,r)},Object.defineProperty(I,"__esModule",{value:!0}),I.interval=I.iif=I.generate=I.fromEventPattern=I.fromEvent=I.from=I.forkJoin=I.empty=I.defer=I.connectable=I.concat=I.combineLatest=I.bindNodeCallback=I.bindCallback=I.UnsubscriptionError=I.TimeoutError=I.SequenceError=I.ObjectUnsubscribedError=I.NotFoundError=I.EmptyError=I.ArgumentOutOfRangeError=I.firstValueFrom=I.lastValueFrom=I.isObservable=I.identity=I.noop=I.pipe=I.NotificationKind=I.Notification=I.Subscriber=I.Subscription=I.Scheduler=I.VirtualAction=I.VirtualTimeScheduler=I.animationFrameScheduler=I.animationFrame=I.queueScheduler=I.queue=I.asyncScheduler=I.async=I.asapScheduler=I.asap=I.AsyncSubject=I.ReplaySubject=I.BehaviorSubject=I.Subject=I.animationFrames=I.observable=I.ConnectableObservable=I.Observable=void 0,I.filter=I.expand=I.exhaustMap=I.exhaustAll=I.exhaust=I.every=I.endWith=I.elementAt=I.distinctUntilKeyChanged=I.distinctUntilChanged=I.distinct=I.dematerialize=I.delayWhen=I.delay=I.defaultIfEmpty=I.debounceTime=I.debounce=I.count=I.connect=I.concatWith=I.concatMapTo=I.concatMap=I.concatAll=I.combineLatestWith=I.combineLatestAll=I.combineAll=I.catchError=I.bufferWhen=I.bufferToggle=I.bufferTime=I.bufferCount=I.buffer=I.auditTime=I.audit=I.config=I.NEVER=I.EMPTY=I.scheduled=I.zip=I.using=I.timer=I.throwError=I.range=I.race=I.partition=I.pairs=I.onErrorResumeNext=I.of=I.never=I.merge=void 0,I.switchMap=I.switchAll=I.subscribeOn=I.startWith=I.skipWhile=I.skipUntil=I.skipLast=I.skip=I.single=I.shareReplay=I.share=I.sequenceEqual=I.scan=I.sampleTime=I.sample=I.refCount=I.retryWhen=I.retry=I.repeatWhen=I.repeat=I.reduce=I.raceWith=I.publishReplay=I.publishLast=I.publishBehavior=I.publish=I.pluck=I.pairwise=I.onErrorResumeNextWith=I.observeOn=I.multicast=I.min=I.mergeWith=I.mergeScan=I.mergeMapTo=I.mergeMap=I.flatMap=I.mergeAll=I.max=I.materialize=I.mapTo=I.map=I.last=I.isEmpty=I.ignoreElements=I.groupBy=I.first=I.findIndex=I.find=I.finalize=void 0,I.zipWith=I.zipAll=I.withLatestFrom=I.windowWhen=I.windowToggle=I.windowTime=I.windowCount=I.window=I.toArray=I.timestamp=I.timeoutWith=I.timeout=I.timeInterval=I.throwIfEmpty=I.throttleTime=I.throttle=I.tap=I.takeWhile=I.takeUntil=I.takeLast=I.take=I.switchScan=I.switchMapTo=void 0,pO=P,Object.defineProperty(I,"Observable",{enumerable:!0,get:function(){return pO.Observable}}),dO=S,Object.defineProperty(I,"ConnectableObservable",{enumerable:!0,get:function(){return dO.ConnectableObservable}}),hO=f,Object.defineProperty(I,"observable",{enumerable:!0,get:function(){return hO.observable}}),bO=t,Object.defineProperty(I,"animationFrames",{enumerable:!0,get:function(){return bO.animationFrames}}),yO=s,Object.defineProperty(I,"Subject",{enumerable:!0,get:function(){return yO.Subject}}),_O=u,Object.defineProperty(I,"BehaviorSubject",{enumerable:!0,get:function(){return _O.BehaviorSubject}}),vO=Dr,Object.defineProperty(I,"ReplaySubject",{enumerable:!0,get:function(){return vO.ReplaySubject}}),mO=g,Object.defineProperty(I,"AsyncSubject",{enumerable:!0,get:function(){return mO.AsyncSubject}}),gO=o,Object.defineProperty(I,"asap",{enumerable:!0,get:function(){return gO.asap}}),Object.defineProperty(I,"asapScheduler",{enumerable:!0,get:function(){return gO.asapScheduler}}),OO=us,Object.defineProperty(I,"async",{enumerable:!0,get:function(){return OO.async}}),Object.defineProperty(I,"asyncScheduler",{enumerable:!0,get:function(){return OO.asyncScheduler}}),wO=ks,Object.defineProperty(I,"queue",{enumerable:!0,get:function(){return wO.queue}}),Object.defineProperty(I,"queueScheduler",{enumerable:!0,get:function(){return wO.queueScheduler}}),EO=qs,Object.defineProperty(I,"animationFrame",{enumerable:!0,get:function(){return EO.animationFrame}}),Object.defineProperty(I,"animationFrameScheduler",{enumerable:!0,get:function(){return EO.animationFrameScheduler}}),PO=Gs,Object.defineProperty(I,"VirtualTimeScheduler",{enumerable:!0,get:function(){return PO.VirtualTimeScheduler}}),Object.defineProperty(I,"VirtualAction",{enumerable:!0,get:function(){return PO.VirtualAction}}),SO=hs,Object.defineProperty(I,"Scheduler",{enumerable:!0,get:function(){return SO.Scheduler}}),TO=h,Object.defineProperty(I,"Subscription",{enumerable:!0,get:function(){return TO.Subscription}}),jO=Q,Object.defineProperty(I,"Subscriber",{enumerable:!0,get:function(){return jO.Subscriber}}),CO=as,Object.defineProperty(I,"Notification",{enumerable:!0,get:function(){return CO.Notification}}),Object.defineProperty(I,"NotificationKind",{enumerable:!0,get:function(){return CO.NotificationKind}}),IO=T,Object.defineProperty(I,"pipe",{enumerable:!0,get:function(){return IO.pipe}}),RO=v,Object.defineProperty(I,"noop",{enumerable:!0,get:function(){return RO.noop}}),AO=i,Object.defineProperty(I,"identity",{enumerable:!0,get:function(){return AO.identity}}),kO=Ic,Object.defineProperty(I,"isObservable",{enumerable:!0,get:function(){return kO.isObservable}}),MO=wc,Object.defineProperty(I,"lastValueFrom",{enumerable:!0,get:function(){return MO.lastValueFrom}}),NO=Sc,Object.defineProperty(I,"firstValueFrom",{enumerable:!0,get:function(){return NO.firstValueFrom}}),xO=jc,Object.defineProperty(I,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return xO.ArgumentOutOfRangeError}}),DO=gc,Object.defineProperty(I,"EmptyError",{enumerable:!0,get:function(){return DO.EmptyError}}),UO=jl,Object.defineProperty(I,"NotFoundError",{enumerable:!0,get:function(){return UO.NotFoundError}}),LO=Qe,Object.defineProperty(I,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return LO.ObjectUnsubscribedError}}),FO=hl,Object.defineProperty(I,"SequenceError",{enumerable:!0,get:function(){return FO.SequenceError}}),BO=Mc,Object.defineProperty(I,"TimeoutError",{enumerable:!0,get:function(){return BO.TimeoutError}}),WO=Ar,Object.defineProperty(I,"UnsubscriptionError",{enumerable:!0,get:function(){return WO.UnsubscriptionError}}),qO=Cc,Object.defineProperty(I,"bindCallback",{enumerable:!0,get:function(){return qO.bindCallback}}),zO=kf,Object.defineProperty(I,"bindNodeCallback",{enumerable:!0,get:function(){return zO.bindNodeCallback}}),VO=w,Object.defineProperty(I,"combineLatest",{enumerable:!0,get:function(){return VO.combineLatest}}),HO=Qf,Object.defineProperty(I,"concat",{enumerable:!0,get:function(){return HO.concat}}),GO=yp,Object.defineProperty(I,"connectable",{enumerable:!0,get:function(){return GO.connectable}}),YO=_p,Object.defineProperty(I,"defer",{enumerable:!0,get:function(){return YO.defer}}),KO=y,Object.defineProperty(I,"empty",{enumerable:!0,get:function(){return KO.empty}}),ZO=Pp,Object.defineProperty(I,"forkJoin",{enumerable:!0,get:function(){return ZO.forkJoin}}),XO=yc,Object.defineProperty(I,"from",{enumerable:!0,get:function(){return XO.from}}),QO=Nf,Object.defineProperty(I,"fromEvent",{enumerable:!0,get:function(){return QO.fromEvent}}),JO=Ff,Object.defineProperty(I,"fromEventPattern",{enumerable:!0,get:function(){return JO.fromEventPattern}}),$O=mc,Object.defineProperty(I,"generate",{enumerable:!0,get:function(){return $O.generate}}),ew=gl,Object.defineProperty(I,"iif",{enumerable:!0,get:function(){return ew.iif}}),tw=Jp,Object.defineProperty(I,"interval",{enumerable:!0,get:function(){return tw.interval}}),rw=fc,Object.defineProperty(I,"merge",{enumerable:!0,get:function(){return rw.merge}}),nw=pd,Object.defineProperty(I,"never",{enumerable:!0,get:function(){return nw.never}}),ow=l,Object.defineProperty(I,"of",{enumerable:!0,get:function(){return ow.of}}),iw=dd,Object.defineProperty(I,"onErrorResumeNext",{enumerable:!0,get:function(){return iw.onErrorResumeNext}}),uw=Od,Object.defineProperty(I,"pairs",{enumerable:!0,get:function(){return uw.pairs}}),aw=Ed,Object.defineProperty(I,"partition",{enumerable:!0,get:function(){return aw.partition}}),sw=Ad,Object.defineProperty(I,"race",{enumerable:!0,get:function(){return sw.race}}),cw=Ud,Object.defineProperty(I,"range",{enumerable:!0,get:function(){return cw.range}}),lw=vc,Object.defineProperty(I,"throwError",{enumerable:!0,get:function(){return lw.throwError}}),fw=$p,Object.defineProperty(I,"timer",{enumerable:!0,get:function(){return fw.timer}}),pw=Bd,Object.defineProperty(I,"using",{enumerable:!0,get:function(){return pw.using}}),dw=Vd,Object.defineProperty(I,"zip",{enumerable:!0,get:function(){return dw.zip}}),hw=_c,Object.defineProperty(I,"scheduled",{enumerable:!0,get:function(){return hw.scheduled}}),bw=y,Object.defineProperty(I,"EMPTY",{enumerable:!0,get:function(){return bw.EMPTY}}),yw=pd,Object.defineProperty(I,"NEVER",{enumerable:!0,get:function(){return yw.NEVER}}),j($d,I),_w=E,Object.defineProperty(I,"config",{enumerable:!0,get:function(){return _w.config}}),vw=eh,Object.defineProperty(I,"audit",{enumerable:!0,get:function(){return vw.audit}}),mw=oh,Object.defineProperty(I,"auditTime",{enumerable:!0,get:function(){return mw.auditTime}}),gw=sh,Object.defineProperty(I,"buffer",{enumerable:!0,get:function(){return gw.buffer}}),Ow=dh,Object.defineProperty(I,"bufferCount",{enumerable:!0,get:function(){return Ow.bufferCount}}),ww=vh,Object.defineProperty(I,"bufferTime",{enumerable:!0,get:function(){return ww.bufferTime}}),Ew=jh,Object.defineProperty(I,"bufferToggle",{enumerable:!0,get:function(){return Ew.bufferToggle}}),Pw=xh,Object.defineProperty(I,"bufferWhen",{enumerable:!0,get:function(){return Pw.bufferWhen}}),Sw=Bh,Object.defineProperty(I,"catchError",{enumerable:!0,get:function(){return Sw.catchError}}),Tw=Vh,Object.defineProperty(I,"combineAll",{enumerable:!0,get:function(){return Tw.combineAll}}),jw=Hh,Object.defineProperty(I,"combineLatestAll",{enumerable:!0,get:function(){return jw.combineLatestAll}}),Cw=sb,Object.defineProperty(I,"combineLatestWith",{enumerable:!0,get:function(){return Cw.combineLatestWith}}),Iw=Jf,Object.defineProperty(I,"concatAll",{enumerable:!0,get:function(){return Iw.concatAll}}),Rw=bf,Object.defineProperty(I,"concatMap",{enumerable:!0,get:function(){return Rw.concatMap}}),Aw=Pb,Object.defineProperty(I,"concatMapTo",{enumerable:!0,get:function(){return Aw.concatMapTo}}),kw=jb,Object.defineProperty(I,"concatWith",{enumerable:!0,get:function(){return kw.concatWith}}),Mw=Lb,Object.defineProperty(I,"connect",{enumerable:!0,get:function(){return Mw.connect}}),Nw=Fb,Object.defineProperty(I,"count",{enumerable:!0,get:function(){return Nw.count}}),xw=Yb,Object.defineProperty(I,"debounce",{enumerable:!0,get:function(){return xw.debounce}}),Dw=Jb,Object.defineProperty(I,"debounceTime",{enumerable:!0,get:function(){return Dw.debounceTime}}),Uw=ry,Object.defineProperty(I,"defaultIfEmpty",{enumerable:!0,get:function(){return Uw.defaultIfEmpty}}),Lw=R,Object.defineProperty(I,"delay",{enumerable:!0,get:function(){return Lw.delay}}),Fw=iy,Object.defineProperty(I,"delayWhen",{enumerable:!0,get:function(){return Fw.delayWhen}}),Bw=Sy,Object.defineProperty(I,"dematerialize",{enumerable:!0,get:function(){return Bw.dematerialize}}),Ww=Iy,Object.defineProperty(I,"distinct",{enumerable:!0,get:function(){return Ww.distinct}}),qw=Ny,Object.defineProperty(I,"distinctUntilChanged",{enumerable:!0,get:function(){return qw.distinctUntilChanged}}),zw=Fy,Object.defineProperty(I,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return zw.distinctUntilKeyChanged}}),Vw=Wy,Object.defineProperty(I,"elementAt",{enumerable:!0,get:function(){return Vw.elementAt}}),Hw=Jy,Object.defineProperty(I,"endWith",{enumerable:!0,get:function(){return Hw.endWith}}),Gw=n_,Object.defineProperty(I,"every",{enumerable:!0,get:function(){return Gw.every}}),Yw=u_,Object.defineProperty(I,"exhaust",{enumerable:!0,get:function(){return Yw.exhaust}}),Kw=a_,Object.defineProperty(I,"exhaustAll",{enumerable:!0,get:function(){return Kw.exhaustAll}}),Zw=s_,Object.defineProperty(I,"exhaustMap",{enumerable:!0,get:function(){return Zw.exhaustMap}}),Xw=b_,Object.defineProperty(I,"expand",{enumerable:!0,get:function(){return Xw.expand}}),Qw=Sd,Object.defineProperty(I,"filter",{enumerable:!0,get:function(){return Qw.filter}}),Jw=v_,Object.defineProperty(I,"finalize",{enumerable:!0,get:function(){return Jw.finalize}}),$w=g_,Object.defineProperty(I,"find",{enumerable:!0,get:function(){return $w.find}}),eE=P_,Object.defineProperty(I,"findIndex",{enumerable:!0,get:function(){return eE.findIndex}}),tE=j_,Object.defineProperty(I,"first",{enumerable:!0,get:function(){return tE.first}}),rE=N_,Object.defineProperty(I,"groupBy",{enumerable:!0,get:function(){return rE.groupBy}}),nE=ly,Object.defineProperty(I,"ignoreElements",{enumerable:!0,get:function(){return nE.ignoreElements}}),oE=B_,Object.defineProperty(I,"isEmpty",{enumerable:!0,get:function(){return oE.isEmpty}}),iE=z_,Object.defineProperty(I,"last",{enumerable:!0,get:function(){return iE.last}}),uE=yf,Object.defineProperty(I,"map",{enumerable:!0,get:function(){return uE.map}}),aE=hy,Object.defineProperty(I,"mapTo",{enumerable:!0,get:function(){return aE.mapTo}}),sE=tv,Object.defineProperty(I,"materialize",{enumerable:!0,get:function(){return sE.materialize}}),cE=iv,Object.defineProperty(I,"max",{enumerable:!0,get:function(){return cE.max}}),lE=$f,Object.defineProperty(I,"mergeAll",{enumerable:!0,get:function(){return lE.mergeAll}}),fE=sv,Object.defineProperty(I,"flatMap",{enumerable:!0,get:function(){return fE.flatMap}}),pE=ep,Object.defineProperty(I,"mergeMap",{enumerable:!0,get:function(){return pE.mergeMap}}),dE=cv,Object.defineProperty(I,"mergeMapTo",{enumerable:!0,get:function(){return dE.mergeMapTo}}),hE=pv,Object.defineProperty(I,"mergeScan",{enumerable:!0,get:function(){return hE.mergeScan}}),bE=tp,Object.defineProperty(I,"mergeWith",{enumerable:!0,get:function(){return bE.mergeWith}}),yE=Tv,Object.defineProperty(I,"min",{enumerable:!0,get:function(){return yE.min}}),_E=Iv,Object.defineProperty(I,"multicast",{enumerable:!0,get:function(){return _E.multicast}}),vE=p,Object.defineProperty(I,"observeOn",{enumerable:!0,get:function(){return vE.observeOn}}),mE=Mv,Object.defineProperty(I,"onErrorResumeNextWith",{enumerable:!0,get:function(){return mE.onErrorResumeNextWith}}),gE=Fv,Object.defineProperty(I,"pairwise",{enumerable:!0,get:function(){return gE.pairwise}}),OE=qv,Object.defineProperty(I,"pluck",{enumerable:!0,get:function(){return OE.pluck}}),wE=Vv,Object.defineProperty(I,"publish",{enumerable:!0,get:function(){return wE.publish}}),EE=Kv,Object.defineProperty(I,"publishBehavior",{enumerable:!0,get:function(){return EE.publishBehavior}}),PE=Qv,Object.defineProperty(I,"publishLast",{enumerable:!0,get:function(){return PE.publishLast}}),SE=em,Object.defineProperty(I,"publishReplay",{enumerable:!0,get:function(){return SE.publishReplay}}),TE=om,Object.defineProperty(I,"raceWith",{enumerable:!0,get:function(){return TE.raceWith}}),jE=Yh,Object.defineProperty(I,"reduce",{enumerable:!0,get:function(){return jE.reduce}}),CE=lm,Object.defineProperty(I,"repeat",{enumerable:!0,get:function(){return CE.repeat}}),IE=ym,Object.defineProperty(I,"repeatWhen",{enumerable:!0,get:function(){return IE.repeatWhen}}),RE=Om,Object.defineProperty(I,"retry",{enumerable:!0,get:function(){return RE.retry}}),AE=jm,Object.defineProperty(I,"retryWhen",{enumerable:!0,get:function(){return AE.retryWhen}}),kE=O,Object.defineProperty(I,"refCount",{enumerable:!0,get:function(){return kE.refCount}}),ME=km,Object.defineProperty(I,"sample",{enumerable:!0,get:function(){return ME.sample}}),NE=Um,Object.defineProperty(I,"sampleTime",{enumerable:!0,get:function(){return NE.sampleTime}}),xE=Wm,Object.defineProperty(I,"scan",{enumerable:!0,get:function(){return xE.scan}}),DE=Kh,Object.defineProperty(I,"sequenceEqual",{enumerable:!0,get:function(){return DE.sequenceEqual}}),UE=Km,Object.defineProperty(I,"share",{enumerable:!0,get:function(){return UE.share}}),LE=r0,Object.defineProperty(I,"shareReplay",{enumerable:!0,get:function(){return LE.shareReplay}}),FE=i0,Object.defineProperty(I,"single",{enumerable:!0,get:function(){return FE.single}}),BE=f0,Object.defineProperty(I,"skip",{enumerable:!0,get:function(){return BE.skip}}),WE=d0,Object.defineProperty(I,"skipLast",{enumerable:!0,get:function(){return WE.skipLast}}),qE=_0,Object.defineProperty(I,"skipUntil",{enumerable:!0,get:function(){return qE.skipUntil}}),zE=w0,Object.defineProperty(I,"skipWhile",{enumerable:!0,get:function(){return zE.skipWhile}}),VE=S0,Object.defineProperty(I,"startWith",{enumerable:!0,get:function(){return VE.startWith}}),HE=cl,Object.defineProperty(I,"subscribeOn",{enumerable:!0,get:function(){return HE.subscribeOn}}),GE=I0,Object.defineProperty(I,"switchAll",{enumerable:!0,get:function(){return GE.switchAll}}),YE=R0,Object.defineProperty(I,"switchMap",{enumerable:!0,get:function(){return YE.switchMap}}),KE=D0,Object.defineProperty(I,"switchMapTo",{enumerable:!0,get:function(){return KE.switchMapTo}}),ZE=F0,Object.defineProperty(I,"switchScan",{enumerable:!0,get:function(){return ZE.switchScan}}),XE=uy,Object.defineProperty(I,"take",{enumerable:!0,get:function(){return XE.take}}),QE=V_,Object.defineProperty(I,"takeLast",{enumerable:!0,get:function(){return QE.takeLast}}),JE=q0,Object.defineProperty(I,"takeUntil",{enumerable:!0,get:function(){return JE.takeUntil}}),$E=Y0,Object.defineProperty(I,"takeWhile",{enumerable:!0,get:function(){return $E.takeWhile}}),eP=X0,Object.defineProperty(I,"tap",{enumerable:!0,get:function(){return eP.tap}}),tP=b,Object.defineProperty(I,"throttle",{enumerable:!0,get:function(){return tP.throttle}}),rP=og,Object.defineProperty(I,"throttleTime",{enumerable:!0,get:function(){return rP.throttleTime}}),nP=qy,Object.defineProperty(I,"throwIfEmpty",{enumerable:!0,get:function(){return nP.throwIfEmpty}}),oP=sg,Object.defineProperty(I,"timeInterval",{enumerable:!0,get:function(){return oP.timeInterval}}),iP=Mc,Object.defineProperty(I,"timeout",{enumerable:!0,get:function(){return iP.timeout}}),uP=dg,Object.defineProperty(I,"timeoutWith",{enumerable:!0,get:function(){return uP.timeoutWith}}),aP=vl,Object.defineProperty(I,"timestamp",{enumerable:!0,get:function(){return aP.timestamp}}),sP=Gh,Object.defineProperty(I,"toArray",{enumerable:!0,get:function(){return sP.toArray}}),cP=n,Object.defineProperty(I,"window",{enumerable:!0,get:function(){return cP.window}}),lP=Pg,Object.defineProperty(I,"windowCount",{enumerable:!0,get:function(){return lP.windowCount}}),fP=Ig,Object.defineProperty(I,"windowTime",{enumerable:!0,get:function(){return fP.windowTime}}),pP=il,Object.defineProperty(I,"windowToggle",{enumerable:!0,get:function(){return pP.windowToggle}}),dP=X,Object.defineProperty(I,"windowWhen",{enumerable:!0,get:function(){return dP.windowWhen}}),hP=Xg,Object.defineProperty(I,"withLatestFrom",{enumerable:!0,get:function(){return hP.withLatestFrom}}),bP=_,Object.defineProperty(I,"zipAll",{enumerable:!0,get:function(){return bP.zipAll}}),yP=C,Object.defineProperty(I,"zipWith",{enumerable:!0,get:function(){return yP.zipWith}});var P={},S={},gP=(Object.defineProperty(S,"__esModule",{value:!0}),S.partition=void 0,Pd),OP=Sd;S.partition=function(t,r){return function(e){return[OP.filter(t,r)(e),OP.filter(gP.not(t,r))(e)]}};var wP,EP,PP,SP,TP,jP,CP,IP,RP,AP,kP,MP,NP,xP,DP,UP,LP,FP,BP,WP,qP,zP,VP,HP,GP,YP,KP,ZP,XP,QP,JP,$P,eS,tS,rS,nS,oS,iS,uS,aS,sS,cS,lS,fS,pS,dS,hS,bS,yS,_S,vS,mS,gS,OS,wS,ES,PS,SS,TS,jS,CS,IS,RS,AS,kS,MS,NS,xS,DS,US,LS,FS,BS,WS,qS,zS,VS,HS,GS,YS,KS,ZS,XS,QS,JS,$S,e1,t1,r1,n1,o1,i1,u1,a1,s1,c1,l1,f1,p1,d1,h1,b1,y1,_1,v1,m1,g1,O1,w1,E1,P1,S1,T1,f={},j1=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},C1=r&&r.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},I1=(Object.defineProperty(f,"__esModule",{value:!0}),f.race=void 0,hd),R1=om;f.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return R1.raceWith.apply(void 0,C1([],j1(I1.argsOrArgArray(e))))},t=P,Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0,wP=eh,Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return wP.audit}}),EP=oh,Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return EP.auditTime}}),PP=sh,Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return PP.buffer}}),SP=dh,Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return SP.bufferCount}}),TP=vh,Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return TP.bufferTime}}),jP=jh,Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return jP.bufferToggle}}),CP=xh,Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return CP.bufferWhen}}),IP=Bh,Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return IP.catchError}}),RP=Vh,Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return RP.combineAll}}),AP=Hh,Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return AP.combineLatestAll}}),kP=cb,Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return kP.combineLatest}}),MP=sb,Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return MP.combineLatestWith}}),NP=Cb,Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return NP.concat}}),xP=Jf,Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return xP.concatAll}}),DP=bf,Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return DP.concatMap}}),UP=Pb,Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return UP.concatMapTo}}),LP=jb,Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return LP.concatWith}}),FP=Lb,Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return FP.connect}}),BP=Fb,Object.defineProperty(t,"count",{enumerable:!0,get:function(){return BP.count}}),WP=Yb,Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return WP.debounce}}),qP=Jb,Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return qP.debounceTime}}),zP=ry,Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return zP.defaultIfEmpty}}),VP=R,Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return VP.delay}}),HP=iy,Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return HP.delayWhen}}),GP=Sy,Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return GP.dematerialize}}),YP=Iy,Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return YP.distinct}}),KP=Ny,Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return KP.distinctUntilChanged}}),ZP=Fy,Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return ZP.distinctUntilKeyChanged}}),XP=Wy,Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return XP.elementAt}}),QP=Jy,Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return QP.endWith}}),JP=n_,Object.defineProperty(t,"every",{enumerable:!0,get:function(){return JP.every}}),$P=u_,Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return $P.exhaust}}),eS=a_,Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return eS.exhaustAll}}),tS=s_,Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return tS.exhaustMap}}),rS=b_,Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return rS.expand}}),nS=Sd,Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return nS.filter}}),oS=v_,Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return oS.finalize}}),iS=g_,Object.defineProperty(t,"find",{enumerable:!0,get:function(){return iS.find}}),uS=P_,Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return uS.findIndex}}),aS=j_,Object.defineProperty(t,"first",{enumerable:!0,get:function(){return aS.first}}),sS=N_,Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return sS.groupBy}}),cS=ly,Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return cS.ignoreElements}}),lS=B_,Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return lS.isEmpty}}),fS=z_,Object.defineProperty(t,"last",{enumerable:!0,get:function(){return fS.last}}),pS=yf,Object.defineProperty(t,"map",{enumerable:!0,get:function(){return pS.map}}),dS=hy,Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return dS.mapTo}}),hS=tv,Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return hS.materialize}}),bS=iv,Object.defineProperty(t,"max",{enumerable:!0,get:function(){return bS.max}}),yS=bv,Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return yS.merge}}),_S=$f,Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return _S.mergeAll}}),vS=sv,Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return vS.flatMap}}),mS=ep,Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return mS.mergeMap}}),gS=cv,Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return gS.mergeMapTo}}),OS=pv,Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return OS.mergeScan}}),wS=tp,Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return wS.mergeWith}}),ES=Tv,Object.defineProperty(t,"min",{enumerable:!0,get:function(){return ES.min}}),PS=Iv,Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return PS.multicast}}),SS=p,Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return SS.observeOn}}),TS=Mv,Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return TS.onErrorResumeNext}}),jS=Fv,Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return jS.pairwise}}),CS=S,Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return CS.partition}}),IS=qv,Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return IS.pluck}}),RS=Vv,Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return RS.publish}}),AS=Kv,Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return AS.publishBehavior}}),kS=Qv,Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return kS.publishLast}}),MS=em,Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return MS.publishReplay}}),NS=f,Object.defineProperty(t,"race",{enumerable:!0,get:function(){return NS.race}}),xS=om,Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return xS.raceWith}}),DS=Yh,Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return DS.reduce}}),US=lm,Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return US.repeat}}),LS=ym,Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return LS.repeatWhen}}),FS=Om,Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return FS.retry}}),BS=jm,Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return BS.retryWhen}}),WS=O,Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return WS.refCount}}),qS=km,Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return qS.sample}}),zS=Um,Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return zS.sampleTime}}),VS=Wm,Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return VS.scan}}),HS=Kh,Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return HS.sequenceEqual}}),GS=Km,Object.defineProperty(t,"share",{enumerable:!0,get:function(){return GS.share}}),YS=r0,Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return YS.shareReplay}}),KS=i0,Object.defineProperty(t,"single",{enumerable:!0,get:function(){return KS.single}}),ZS=f0,Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return ZS.skip}}),XS=d0,Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return XS.skipLast}}),QS=_0,Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return QS.skipUntil}}),JS=w0,Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return JS.skipWhile}}),$S=S0,Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return $S.startWith}}),e1=cl,Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return e1.subscribeOn}}),t1=I0,Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return t1.switchAll}}),r1=R0,Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return r1.switchMap}}),n1=D0,Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return n1.switchMapTo}}),o1=F0,Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return o1.switchScan}}),i1=uy,Object.defineProperty(t,"take",{enumerable:!0,get:function(){return i1.take}}),u1=V_,Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return u1.takeLast}}),a1=q0,Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return a1.takeUntil}}),s1=Y0,Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return s1.takeWhile}}),c1=X0,Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return c1.tap}}),l1=b,Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return l1.throttle}}),f1=og,Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return f1.throttleTime}}),p1=qy,Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return p1.throwIfEmpty}}),d1=sg,Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return d1.timeInterval}}),h1=Mc,Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return h1.timeout}}),b1=dg,Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return b1.timeoutWith}}),y1=vl,Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return y1.timestamp}}),_1=Gh,Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return _1.toArray}}),v1=n,Object.defineProperty(t,"window",{enumerable:!0,get:function(){return v1.window}}),m1=Pg,Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return m1.windowCount}}),g1=Ig,Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return g1.windowTime}}),O1=il,Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return O1.windowToggle}}),w1=X,Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return w1.windowWhen}}),E1=Xg,Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return E1.withLatestFrom}}),P1=m,Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return P1.zip}}),S1=_,Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return S1.zipAll}}),T1=C,Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return T1.zipWith}});var s={},A1=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},k1=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},M1=(Object.defineProperty(s,"__esModule",{value:!0}),e),N1=qr,x1=P,D1=0,U1=1,L1=2;function F1(e,t){e=e.pipe((0,x1.publishReplay)(1),(0,x1.refCount)());this._result=e,this._keys=e.pipe((0,x1.mergeMap)(function(e){return(0,N1.from)(e.keys())}),(0,x1.publishReplay)(1),(0,x1.refCount)()),this._records=void 0,this._controls=new B1,this._summary=new N1.ReplaySubject,this._state=t||D1}F1.prototype.keys=function(){return this._keys},F1.prototype.records=function(){var r=this,e=this._result.pipe((0,x1.mergeMap)(function(t){return new N1.Observable(function(e){return r._startStreaming({result:t,recordsObserver:e})})}));return e.push=function(){return r._push()},e},F1.prototype.consume=function(){var r=this;return this._result.pipe((0,x1.mergeMap)(function(t){return new N1.Observable(function(e){return r._startStreaming({result:t,summaryObserver:e})})}))},F1.prototype.pause=function(){this._controls.pause()},F1.prototype.resume=function(){return this._controls.resume()},F1.prototype.push=function(){return this._controls.push()},F1.prototype._startStreaming=function(e){var e=void 0===e?{}:e,t=e.result,r=e.recordsObserver,r=void 0===r?null:r,e=e.summaryObserver,e=void 0===e?null:e,n=[];return e&&n.push(this._summary.subscribe(e)),this._state<U1?(this._state=U1,this._setupRecordsStream(t),r?n.push(this._records.subscribe(r)):t._cancel(),n.push({unsubscribe:function(){t._cancel&&t._cancel()}})):r&&r.error((0,M1.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){n.forEach(function(e){return e.unsubscribe()})}},F1.prototype._toObservable=function(){var n=this;return new N1.Observable(function(r){n._result.subscribe({complete:function(){return r.complete()},next:function(e){return r.next(new F1((t=e,new N1.Observable(function(e){e.next(t),e.complete()}))),n._state);var t},error:function(e){return r.error(e)}})})},F1.prototype._setupRecordsStream=function(n){var t=this;return this._records||(this._records=function(o,i,u){var e=this;void 0===u&&(u=new B1);var a=new N1.Subject,s=function(n){return A1(e,void 0,void 0,function(){var t,r;return k1(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),u.pushing=!0,[4,n];case 1:return t=e.sent(),r=t.done,t=t.value,r?(a.complete(),i.complete()):(a.next(t),u.paused||s(o.next()).catch(function(){})),[3,4];case 2:return r=e.sent(),a.error(r),i.error(r),[3,4];case 3:return u.pushing=!1,[7];case 4:return[2]}})})};function t(t){return A1(this,void 0,void 0,function(){return k1(this,function(e){switch(e.label){case 0:return[4,s(o.next(t))];case 1:return e.sent(),[2]}})})}return(u.pusher=t)(),a}(n[Symbol.asyncIterator](),{complete:function(){return A1(t,void 0,void 0,function(){var t,r;return k1(this,function(e){switch(e.label){case 0:return this._state=L1,r=(t=this._summary).next,[4,n.summary()];case 1:return r.apply(t,[e.sent()]),this._summary.complete(),[2]}})})},error:function(e){t._state=L1,t._summary.error(e)}},this._controls),this._records)},s.default=F1;W1.prototype.pause=function(){this._paused=!0},Object.defineProperty(W1.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(W1.prototype,"pushing",{get:function(){return this._pushing},set:function(e){this._pushing=e},enumerable:!1,configurable:!0}),W1.prototype.resume=function(){return A1(this,void 0,void 0,function(){var t;return k1(this,function(e){switch(e.label){case 0:return t=this._paused,this._paused=!1,!t||this._pushing?[3,2]:[4,this._push()];case 1:e.sent(),e.label=2;case 2:return[2]}})})},W1.prototype.push=function(){return A1(this,void 0,void 0,function(){return k1(this,function(e){switch(e.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,e.sent()]}})})},Object.defineProperty(W1.prototype,"pusher",{get:function(){return this._push},set:function(e){this._push=e},enumerable:!1,configurable:!0});var B1=W1;function W1(e){void 0===e&&(e=function(){return A1(t,void 0,void 0,function(){return k1(this,function(e){return[2]})})});var t=this;this._paused=!1,this._pushing=!1,this._push=e}var u={},Dr=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},q1=(Object.defineProperty(u,"__esModule",{value:!0}),qr),z1=Dr(s);function V1(e){this._txc=e}Dr(e),V1.prototype.run=function(e,r){var n=this;return new z1.default(new q1.Observable(function(t){try{t.next(n._txc.run(e,r)),t.complete()}catch(e){t.error(e)}return function(){}}))},V1.prototype.commit=function(){var e=this;return new q1.Observable(function(t){e._txc.commit().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},V1.prototype.rollback=function(){var e=this;return new q1.Observable(function(t){e._txc.rollback().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},V1.prototype.isOpen=function(){return this._txc.isOpen()},V1.prototype.close=function(){var e=this;return new q1.Observable(function(t){e._txc.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},u.default=V1;g={},o=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};function H1(e){e=e.run;this._run=e}Object.defineProperty(g,"__esModule",{value:!0}),o(s),o(u),H1.fromTransaction=function(e){return new H1({run:e.run.bind(e)})},H1.prototype.run=function(e,t){return this._run(e,t)},g.default=H1;var us={},G1=(Object.defineProperty(us,"__esModule",{value:!0}),e),Y1=qr,K1=P,Z1=(G1.internal.logger.Logger,G1.error.SERVICE_UNAVAILABLE);function X1(e){var e=void 0===e?{}:e,t=e.maxRetryTimeout,r=e.initialDelay,r=void 0===r?1e3:r,n=e.delayMultiplier,n=void 0===n?2:n,o=e.delayJitter,o=void 0===o?.2:o,e=e.logger,e=void 0===e?null:e;this._maxRetryTimeout=Q1(void 0===t?3e4:t,3e4),this._initialDelay=Q1(r,1e3),this._delayMultiplier=Q1(n,2),this._delayJitter=Q1(o,.2),this._logger=e}function Q1(e,t){return e||0===e?e:t}X1.prototype.retry=function(e){var a=this;return e.pipe((0,K1.retryWhen)(function(e){var n=[],o=Date.now(),i=1,u=a._initialDelay;return e.pipe((0,K1.mergeMap)(function(e){if(!(0,G1.isRetriableError)(e))return(0,Y1.throwError)(function(){return e});var t;if(n.push(e),2<=i&&Date.now()-o>=a._maxRetryTimeout)return(t=(0,G1.newError)("Failed after retried for ".concat(i," times in ").concat(a._maxRetryTimeout," ms. Make sure that your database is online and retry again."),Z1)).seenErrors=n,(0,Y1.throwError)(function(){return t});var r=a._computeNextDelay(u);return u*=a._delayMultiplier,i++,a._logger&&a._logger.warn("Transaction failed and will be retried in ".concat(r)),(0,Y1.of)(1).pipe((0,K1.delay)(r))}))}))},X1.prototype._computeNextDelay=function(e){var t=e*this._delayJitter;return e-t+2*t*Math.random()},us.default=X1;var ks=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},J1=(Object.defineProperty(Tr,"__esModule",{value:!0}),qr),$1=P,eT=ks(s),qs=e,tT=ks(u),rT=ks(g),nT=ks(us),Gs=qs.internal.constants,oT=Gs.ACCESS_MODE_READ,iT=Gs.ACCESS_MODE_WRITE,uT=Gs.TELEMETRY_APIS,aT=qs.internal.txConfig.TxConfig;function sT(e){var e=void 0===e?{}:e,t=e.session,r=e.config,e=e.log;this._session=t,this._retryLogic=function(e){e=e&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null;return new nT.default({maxRetryTimeout:e})}(r),this._log=e}sT.prototype.run=function(e,r,n){var o=this;return new eT.default(new J1.Observable(function(t){try{t.next(o._session.run(e,r,n)),t.complete()}catch(e){t.error(e)}return function(){}}))},sT.prototype.beginTransaction=function(e){return this._beginTransaction(this._session._mode,e,{api:uT.UNMANAGED_TRANSACTION})},sT.prototype.readTransaction=function(e,t){return this._runTransaction(oT,e,t)},sT.prototype.writeTransaction=function(e,t){return this._runTransaction(iT,e,t)},sT.prototype.executeRead=function(e,t){return this._executeInTransaction(oT,e,t)},sT.prototype.executeWrite=function(e,t){return this._executeInTransaction(iT,e,t)},sT.prototype._executeInTransaction=function(e,t,r){return this._runTransaction(e,t,r,function(e){return new rT.default({run:e.run.bind(e)})})},sT.prototype.close=function(){var e=this;return new J1.Observable(function(t){e._session.close().then(function(){t.complete()}).catch(function(e){return t.error(e)})})},sT.prototype[Symbol.asyncDispose]=function(){return this.close()},sT.prototype.lastBookmark=function(){return this.lastBookmarks()},sT.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},sT.prototype._beginTransaction=function(e,t,r){var n=this,o=aT.empty();return t&&(o=new aT(t,this._log)),new J1.Observable(function(t){try{n._session._beginTransaction(e,o,r).then(function(e){t.next(new tT.default(e)),t.complete()}).catch(function(e){return t.error(e)})}catch(e){t.error(e)}return function(){}})},sT.prototype._runTransaction=function(e,r,t,n){var o=this,i=(void 0===n&&(n=function(e){return e}),aT.empty()),u=(t&&(i=new aT(t)),{apiTelemetryConfig:{api:uT.MANAGED_TRANSACTION,onTelemetrySuccess:function(){u.apiTelemetryConfig=void 0}}});return this._retryLogic.retry((0,J1.of)(1).pipe((0,$1.mergeMap)(function(){return o._beginTransaction(e,i,u.apiTelemetryConfig)}),(0,$1.mergeMap)(function(t){return(0,J1.defer)(function(){try{return r(n(t))}catch(e){return(0,J1.throwError)(function(){return e})}}).pipe((0,$1.catchError)(function(e){return t.rollback().pipe((0,$1.concatWith)((0,J1.throwError)(function(){return e})))}),(0,$1.concatWith)(t.commit()))})))},Tr.default=sT;var cT,lT,hs=r&&r.__extends||(cT=function(e,t){return(cT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}cT(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),h=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Q=(Object.defineProperty(B,"__esModule",{value:!0}),B.WRITE=B.READ=B.Driver=void 0,e),fT=h(Tr),pT=Q.internal.constants.FETCH_ALL,as=Q.driver.READ,dT=Q.driver.WRITE,T=(B.READ=as,B.WRITE=dT,hs(hT,lT=Q.Driver),hT.prototype.rxSession=function(e){var e=void 0===e?{}:e,t=e.defaultAccessMode,r=e.bookmarks,n=e.database,o=e.fetchSize,i=e.impersonatedUser,u=e.bookmarkManager,a=e.notificationFilter,e=e.auth;return new fT.default({session:this._newSession({defaultAccessMode:void 0===t?dT:t,bookmarkOrBookmarks:r,database:void 0===n?"":n,impersonatedUser:i,auth:e,reactive:!1,fetchSize:function(e,t){e=parseInt(e,10);{if(0<e||e===pT)return e;if(0===e||e<0)throw new Error("The fetch size can only be a positive value or ".concat(pT," for ALL. However fetchSize = ").concat(e));return t}}(o,this._config.fetchSize),bookmarkManager:u,notificationFilter:a,log:this._log}),config:this._config,log:this._log})},hT);function hT(){return null!==lT&&lT.apply(this,arguments)||this}B.Driver=T,B.default=T;v={},Object.defineProperty(v,"__esModule",{value:!0}),v.default="5.24.1",i={},Ic={},wc={};function bT(){}Object.defineProperty(wc,"__esModule",{value:!0}),bT.prototype.selectReader=function(e){throw new Error("Abstract function")},bT.prototype.selectWriter=function(e){throw new Error("Abstract function")},wc.default=bT;Sc={},jc={};function yT(e){this._offset=e||0}Object.defineProperty(jc,"__esModule",{value:!0}),yT.prototype.next=function(e){if(0===e)return-1;var t=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),t%e},jc.default=yT;var _T,vT,gc=r&&r.__extends||(_T=function(e,t){return(_T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_T(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),jl=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},mT=(Object.defineProperty(Sc,"__esModule",{value:!0}),jl(jc)),Qe=jl(wc),hl=(vT=Qe.default,gc(gT,vT),gT.prototype.selectReader=function(e){return this._select(e,this._readersIndex)},gT.prototype.selectWriter=function(e){return this._select(e,this._writersIndex)},gT.prototype._select=function(e,t){var r=e.length;if(0===r)return null;var n=t.next(r),o=n,i=null,u=Number.MAX_SAFE_INTEGER;do{var a=e[o],s=this._connectionPool.activeResourceCount(a)}while(s<u&&(i=a,u=s),o===r-1?o=0:o++,o!==n);return i},gT);function gT(e){var t=vT.call(this)||this;return t._readersIndex=new mT.default,t._writersIndex=new mT.default,t._connectionPool=e,t}Sc.default=hl;Ar=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.LeastConnectedLoadBalancingStrategy=Ic.LoadBalancingStrategy=void 0,Cc=Ar(wc),Ic.LoadBalancingStrategy=Cc.default,kf=Ar(Sc),Ic.LeastConnectedLoadBalancingStrategy=kf.default,Ic.default=kf.default,w={},Qf={},yp={},_p={},Pp={},yc={},Nf={},Ff={byteLength:function(e){var e=jT(e),t=e[0],e=e[1];return 3*(t+e)/4-e}};Ff.toByteArray=function(e){var t,r,n=jT(e),o=n[0],n=n[1],i=new ET(function(e,t){return 3*(e+t)/4-t}(o,n)),u=0,a=0<n?o-4:o;for(r=0;r<a;r+=4)t=wT[e.charCodeAt(r)]<<18|wT[e.charCodeAt(r+1)]<<12|wT[e.charCodeAt(r+2)]<<6|wT[e.charCodeAt(r+3)],i[u++]=t>>16&255,i[u++]=t>>8&255,i[u++]=255&t;2===n&&(t=wT[e.charCodeAt(r)]<<2|wT[e.charCodeAt(r+1)]>>4,i[u++]=255&t);1===n&&(t=wT[e.charCodeAt(r)]<<10|wT[e.charCodeAt(r+1)]<<4|wT[e.charCodeAt(r+2)]>>2,i[u++]=t>>8&255,i[u++]=255&t);return i},Ff.fromByteArray=function(e){for(var t,r=e.length,n=r%3,o=[],i=0,u=r-n;i<u;i+=16383)o.push(function(e,t,r){for(var n,o=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(function(e){return OT[e>>18&63]+OT[e>>12&63]+OT[e>>6&63]+OT[63&e]}(n));return o.join("")}(e,i,u<i+16383?u:i+16383));1==n?(t=e[r-1],o.push(OT[t>>2]+OT[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],o.push(OT[t>>10]+OT[t>>4&63]+OT[t<<2&63]+"="));return o.join("")};for(var OT=[],wT=[],ET="undefined"!=typeof Uint8Array?Uint8Array:Array,PT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ST=0,TT=PT.length;ST<TT;++ST)OT[ST]=PT[ST],wT[PT.charCodeAt(ST)]=ST;function jT(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}wT["-".charCodeAt(0)]=62,wT["_".charCodeAt(0)]=63;mc={read:function(e,t,r,n,o){var i,u,a=8*o-n-1,s=(1<<a)-1,c=s>>1,l=-7,f=r?o-1:0,p=r?-1:1,o=e[t+f];for(f+=p,i=o&(1<<-l)-1,o>>=-l,l+=a;0<l;i=256*i+e[t+f],f+=p,l-=8);for(u=i&(1<<-l)-1,i>>=-l,l+=n;0<l;u=256*u+e[t+f],f+=p,l-=8);if(0===i)i=1-c;else{if(i===s)return u?NaN:1/0*(o?-1:1);u+=Math.pow(2,n),i-=c}return(o?-1:1)*u*Math.pow(2,i-n)},write:function(e,t,r,n,o,i){var u,a,s=8*i-o-1,c=(1<<s)-1,l=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,d=n?1:-1,i=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,u=c):(u=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-u))<1&&(u--,n*=2),2<=(t+=1<=u+l?f/n:f*Math.pow(2,1-l))*n&&(u++,n/=2),c<=u+l?(a=0,u=c):1<=u+l?(a=(t*n-1)*Math.pow(2,o),u+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),u=0));8<=o;e[r+p]=255&a,p+=d,a/=256,o-=8);for(u=u<<o|a,s+=o;0<s;e[r+p]=255&u,p+=d,u/=256,s-=8);e[r+p-d]|=128*i}};{var CT=Nf;const jx=Ff,Cx=mc,Ix=(gl="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,CT.Buffer=A,CT.SlowBuffer=function(e){+e!=e&&(e=0);return A.alloc(+e)},CT.INSPECT_MAX_BYTES=50,2147483647);function IT(e){if(e>Ix)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return Object.setPrototypeOf(e,A.prototype),e}function A(e,t,r){if("number"!=typeof e)return RT(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return kT(e)}function RT(t,r,e){if("string"==typeof t){var n=t;var o=r;"string"==typeof o&&""!==o||(o="utf8");if(!A.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var i=0|DT(n,o);let e=IT(i);n=e.write(n,o);n!==i&&(e=e.slice(0,n));return e}if(ArrayBuffer.isView(t))return ij(o=t,Uint8Array)?NT((i=new Uint8Array(o)).buffer,i.byteOffset,i.byteLength):MT(o);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ij(t,ArrayBuffer)||t&&ij(t.buffer,ArrayBuffer))return NT(t,r,e);if("undefined"!=typeof SharedArrayBuffer&&(ij(t,SharedArrayBuffer)||t&&ij(t.buffer,SharedArrayBuffer)))return NT(t,r,e);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return A.from(n,r,e);var u=function(e){{var t,r;if(A.isBuffer(e))return t=0|xT(e.length),0===(r=IT(t)).length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||uj(e.length)?IT(0):MT(e);if("Buffer"===e.type&&Array.isArray(e.data))return MT(e.data)}(t);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return A.from(t[Symbol.toPrimitive]("string"),r,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function AT(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function kT(e){return AT(e),IT(e<0?0:0|xT(e))}function MT(t){var r=t.length<0?0:0|xT(t.length);const n=IT(r);for(let e=0;e<r;e+=1)n[e]=255&t[e];return n}function NT(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,A.prototype),n}function xT(e){if(e>=Ix)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ix.toString(16)+" bytes");return 0|e}function DT(e,t){if(A.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ij(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return rj(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return nj(e).length;default:if(o)return n?-1:rj(e).length;t=(""+t).toLowerCase(),o=!0}}function UT(e,r,n){let t=!1;if((r=void 0===r||r<0?0:r)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(r>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":{var o=this;var i=r;var u=n;var a=o.length;(!i||i<0)&&(i=0);(!u||u<0||a<u)&&(u=a);let t="";for(let e=i;e<u;++e)t+=Mx[o[e]];return t;return}case"utf8":case"utf-8":return zT(this,r,n);case"ascii":{var s=this;a=r;var c=n;let t="";c=Math.min(s.length,c);for(let e=a;e<c;++e)t+=String.fromCharCode(127&s[e]);return t;return}case"latin1":case"binary":{var l=this;i=r;var f=n;let t="";f=Math.min(l.length,f);for(let e=i;e<f;++e)t+=String.fromCharCode(l[e]);return t;return}case"base64":return d=this,b=n,0===(h=r)&&b===d.length?jx.fromByteArray(d):jx.fromByteArray(d.slice(h,b));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":{d=this;h=r;b=n;var p=d.slice(h,b);let t="";for(let e=0;e<p.length-1;e+=2)t+=String.fromCharCode(p[e]+256*p[e+1]);return t;return}default:if(t)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),t=!0}var d,h,b}function LT(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function FT(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=uj(r=+r)?o?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=A.from(t,n)),A.isBuffer(t))return 0===t.length?-1:BT(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):BT(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function BT(r,n,t,e,o){let i=1,u=r.length,a=n.length;if(void 0!==e&&("ucs2"===(e=String(e).toLowerCase())||"ucs-2"===e||"utf16le"===e||"utf-16le"===e)){if(r.length<2||n.length<2)return-1;i=2,u/=2,a/=2,t/=2}function s(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}let c;if(o){let e=-1;for(c=t;c<u;c++)if(s(r,c)===s(n,-1===e?0:c-e)){if(-1===e&&(e=c),c-e+1===a)return e*i}else-1!==e&&(c-=c-e),e=-1}else for(t+a>u&&(t=u-a),c=t;0<=c;c--){let t=!0;for(let e=0;e<a;e++)if(s(r,c+e)!==s(n,e)){t=!1;break}if(t)return c}return-1}function WT(e,t,r,n){return oj(function(t){const r=[];for(let e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}(t),e,r,n)}function qT(e,t,r,n){return oj(function(t,r){var n,o;const i=[];for(let e=0;e<t.length&&!((r-=2)<0);++e)o=t.charCodeAt(e),n=o>>8,o=o%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function zT(u,e,t){t=Math.min(u.length,t);const r=[];let a=e;for(;a<t;){var s=u[a];let o=null,i=239<s?4:223<s?3:191<s?2:1;if(a+i<=t){let e,t,r,n;switch(i){case 1:s<128&&(o=s);break;case 2:128==(192&(e=u[a+1]))&&127<(n=(31&s)<<6|63&e)&&(o=n);break;case 3:e=u[a+1],t=u[a+2],128==(192&e)&&128==(192&t)&&2047<(n=(15&s)<<12|(63&e)<<6|63&t)&&(n<55296||57343<n)&&(o=n);break;case 4:e=u[a+1],t=u[a+2],r=u[a+3],128==(192&e)&&128==(192&t)&&128==(192&r)&&65535<(n=(15&s)<<18|(63&e)<<12|(63&t)<<6|63&r)&&n<1114112&&(o=n)}}null===o?(o=65533,i=1):65535<o&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),a+=i}{var n=r,o=n.length;if(o<=Rx)return String.fromCharCode.apply(String,n);let e="",t=0;for(;t<o;)e+=String.fromCharCode.apply(String,n.slice(t,t+=Rx));return e}}CT.kMaxLength=Ix,(A.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1);var e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=RT,Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(e,t,r){return t=t,r=r,AT(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?IT(e).fill(t,r):IT(e).fill(t):IT(e)},A.allocUnsafe=kT,A.allocUnsafeSlow=kT,A.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==A.prototype},A.compare=function(r,n){if(ij(r,Uint8Array)&&(r=A.from(r,r.offset,r.byteLength)),ij(n,Uint8Array)&&(n=A.from(n,n.offset,n.byteLength)),!A.isBuffer(r)||!A.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===n)return 0;let o=r.length,i=n.length;for(let e=0,t=Math.min(o,i);e<t;++e)if(r[e]!==n[e]){o=r[e],i=n[e];break}return o<i?-1:i<o?1:0},A.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return A.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=A.allocUnsafe(e);let o=0;for(r=0;r<t.length;++r){let e=t[r];if(ij(e,Uint8Array))o+e.length>n.length?(e=A.isBuffer(e)?e:A.from(e)).copy(n,o):Uint8Array.prototype.set.call(n,e,o);else{if(!A.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,o)}o+=e.length}return n},A.byteLength=DT,A.prototype._isBuffer=!0,A.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)LT(this,e,e+1);return this},A.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)LT(this,e,e+3),LT(this,e+1,e+2);return this},A.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)LT(this,e,e+7),LT(this,e+1,e+6),LT(this,e+2,e+5),LT(this,e+3,e+4);return this},A.prototype.toLocaleString=A.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?zT(this,0,e):UT.apply(this,arguments)},A.prototype.equals=function(e){if(A.isBuffer(e))return this===e||0===A.compare(this,e);throw new TypeError("Argument must be a Buffer")},A.prototype.inspect=function(){let e="";var t=CT.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},gl&&(A.prototype[gl]=A.prototype.inspect),A.prototype.compare=function(e,t,r,n,o){if(ij(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(o<=n&&r<=t)return 0;if(o<=n)return-1;if(r<=t)return 1;if(this===e)return 0;let i=(o>>>=0)-(n>>>=0),u=(r>>>=0)-(t>>>=0);var a=Math.min(i,u),s=this.slice(n,o),c=e.slice(t,r);for(let e=0;e<a;++e)if(s[e]!==c[e]){i=s[e],u=c[e];break}return i<u?-1:u<i?1:0},A.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},A.prototype.indexOf=function(e,t,r){return FT(this,e,t,r,!0)},A.prototype.lastIndexOf=function(e,t,r){return FT(this,e,t,r,!1)},A.prototype.write=function(t,r,n,e){if(void 0===r)e="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)e=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r>>>=0,isFinite(n)?(n>>>=0,void 0===e&&(e="utf8")):(e=n,n=void 0)}var o,i,u,a=this.length-r;if((void 0===n||a<n)&&(n=a),0<t.length&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");e=e||"utf8";let s=!1;for(;;)switch(e){case"hex":{var c=this;var l=t;var f=r;var p=n;f=Number(f)||0;var d=c.length-f;(!p||d<(p=Number(p)))&&(p=d),(d=l.length)/2<p&&(p=d/2);let e;for(e=0;e<p;++e){var h=parseInt(l.substr(2*e,2),16);if(uj(h))return e;c[f+e]=h}return e;return}case"utf8":case"utf-8":return d=r,u=n,oj(rj(t,(i=this).length-d),i,d,u);case"ascii":case"latin1":case"binary":return WT(this,t,r,n);case"base64":return i=this,u=r,o=n,oj(nj(t),i,u,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qT(this,t,r,n);default:if(s)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase(),s=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Rx=4096;function VT(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function HT(e,t,r,n,o,i){if(!A.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function GT(e,t,r,n,o){$T(t,n,o,e,r,7);n=Number(t&BigInt(4294967295)),e[r++]=n,e[r++]=n>>=8,e[r++]=n>>=8,e[r++]=n>>=8,o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,e[r++]=o>>=8,e[r++]=o>>=8,e[r++]=o>>=8,r}function YT(e,t,r,n,o){$T(t,n,o,e,r,7);n=Number(t&BigInt(4294967295)),e[r+7]=n,e[r+6]=n>>=8,e[r+5]=n>>=8,e[r+4]=n>>=8,o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,e[r+2]=o>>=8,e[r+1]=o>>=8,e[r]=o>>=8,r+8}function KT(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ZT(e,t,r,n,o){return t=+t,r>>>=0,o||KT(e,0,r,4),Cx.write(e,t,r,n,23,4),r+4}function XT(e,t,r,n,o){return t=+t,r>>>=0,o||KT(e,0,r,8),Cx.write(e,t,r,n,52,8),r+8}A.prototype.slice=function(e,t){var r=this.length,r=((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),this.subarray(e,t));return Object.setPrototypeOf(r,A.prototype),r},A.prototype.readUintLE=A.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||VT(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},A.prototype.readUintBE=A.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||VT(e,t,this.length);let n=this[e+--t],o=1;for(;0<t&&(o*=256);)n+=this[e+--t]*o;return n},A.prototype.readUint8=A.prototype.readUInt8=function(e,t){return e>>>=0,t||VT(e,1,this.length),this[e]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(e,t){return e>>>=0,t||VT(e,2,this.length),this[e]|this[e+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(e,t){return e>>>=0,t||VT(e,2,this.length),this[e]<<8|this[e+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(e,t){return e>>>=0,t||VT(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(e,t){return e>>>=0,t||VT(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},A.prototype.readBigUInt64LE=aj(function(e){ej(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||tj(e,this.length-8),t+256*this[++e]+65536*this[++e]+this[++e]*2**24),e=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(t)+(BigInt(e)<<BigInt(32))}),A.prototype.readBigUInt64BE=aj(function(e){ej(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||tj(e,this.length-8),t*2**24+65536*this[++e]+256*this[++e]+this[++e]),e=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(t)<<BigInt(32))+BigInt(e)}),A.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||VT(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},A.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||VT(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;0<n&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},A.prototype.readInt8=function(e,t){return e>>>=0,t||VT(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},A.prototype.readInt16LE=function(e,t){e>>>=0,t||VT(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},A.prototype.readInt16BE=function(e,t){e>>>=0,t||VT(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},A.prototype.readInt32LE=function(e,t){return e>>>=0,t||VT(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},A.prototype.readInt32BE=function(e,t){return e>>>=0,t||VT(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},A.prototype.readBigInt64LE=aj(function(e){ej(e>>>=0,"offset");var t=this[e],r=this[e+7],r=(void 0!==t&&void 0!==r||tj(e,this.length-8),this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24));return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),A.prototype.readBigInt64BE=aj(function(e){ej(e>>>=0,"offset");var t=this[e],r=this[e+7],t=(void 0!==t&&void 0!==r||tj(e,this.length-8),(t<<24)+65536*this[++e]+256*this[++e]+this[++e]);return(BigInt(t)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),A.prototype.readFloatLE=function(e,t){return e>>>=0,t||VT(e,4,this.length),Cx.read(this,e,!0,23,4)},A.prototype.readFloatBE=function(e,t){return e>>>=0,t||VT(e,4,this.length),Cx.read(this,e,!1,23,4)},A.prototype.readDoubleLE=function(e,t){return e>>>=0,t||VT(e,8,this.length),Cx.read(this,e,!0,52,8)},A.prototype.readDoubleBE=function(e,t){return e>>>=0,t||VT(e,8,this.length),Cx.read(this,e,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||HT(this,e,t,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||HT(this,e,t,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+r},A.prototype.writeUint8=A.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,1,255,0),this[t]=255&e,t+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},A.prototype.writeBigUInt64LE=aj(function(e,t=0){return GT(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeBigUInt64BE=aj(function(e,t=0){return YT(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),A.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||HT(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);let o=0,i=1,u=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/i>>0)-u&255;return t+r},A.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||HT(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);let o=r-1,i=1,u=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/i>>0)-u&255;return t+r},A.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},A.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},A.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},A.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},A.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||HT(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},A.prototype.writeBigInt64LE=aj(function(e,t=0){return GT(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeBigInt64BE=aj(function(e,t=0){return YT(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),A.prototype.writeFloatLE=function(e,t,r){return ZT(this,e,t,!0,r)},A.prototype.writeFloatBE=function(e,t,r){return ZT(this,e,t,!1,r)},A.prototype.writeDoubleLE=function(e,t,r){return XT(this,e,t,!0,r)},A.prototype.writeDoubleBE=function(e,t,r){return XT(this,e,t,!1,r)},A.prototype.copy=function(e,t,r,n){if(!A.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var o=(n=e.length-t<n-r?e.length-t+r:n)-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},A.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!A.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var o;1===e.length&&(o=e.charCodeAt(0),("utf8"===n&&o<128||"latin1"===n)&&(e=o))}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0;let i;if("number"==typeof(e=e||0))for(i=t;i<r;++i)this[i]=e;else{var u=A.isBuffer(e)?e:A.from(e,n),a=u.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=u[i%a]}return this};const Ax={};function QT(e,t,r){Ax[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=this.name+` [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return this.name+` [${e}]: `+this.message}}}function JT(e){let t="",r=e.length;for(var n="-"===e[0]?1:0;r>=4+n;r-=3)t="_"+e.slice(r-3,r)+t;return""+e.slice(0,r)+t}function $T(t,r,n,e,o,i){if(n<t||t<r){var u="bigint"==typeof r?"n":"";let e;throw e=3<i?0===r||r===BigInt(0)?`>= 0${u} and < 2${u} ** `+8*(i+1)+u:`>= -(2${u} ** ${8*(i+1)-1}${u}) and < 2 ** `+(8*(i+1)-1)+u:`>= ${r}${u} and <= `+n+u,new Ax.ERR_OUT_OF_RANGE("value",e,t)}r=e,n=i,ej(u=o,"offset"),void 0!==r[u]&&void 0!==r[u+n]||tj(u,r.length-(n+1))}function ej(e,t){if("number"!=typeof e)throw new Ax.ERR_INVALID_ARG_TYPE(t,"number",e)}function tj(e,t,r){if(Math.floor(e)!==e)throw ej(e,r),new Ax.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new Ax.ERR_BUFFER_OUT_OF_BOUNDS;throw new Ax.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= `+t,e)}QT("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"},RangeError),QT("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type `+typeof t},TypeError),QT("ERR_OUT_OF_RANGE",function(e,t,r){e=`The value of "${e}" is out of range.`;let n=r;return Number.isInteger(r)&&Math.abs(r)>2**32?n=JT(String(r)):"bigint"==typeof r&&(n=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(n=JT(n)),n+="n"),e+=` It must be ${t}. Received `+n},RangeError);const kx=/[^+/0-9A-Za-z-_]/g;function rj(t,r){r=r||1/0;let n;var o=t.length;let i=null;const u=[];for(let e=0;e<o;++e){if(55295<(n=t.charCodeAt(e))&&n<57344){if(!i){if(56319<n){-1<(r-=3)&&u.push(239,191,189);continue}if(e+1===o){-1<(r-=3)&&u.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(r-=3)&&u.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(r-=3)&&u.push(239,191,189);if(i=null,n<128){if(--r<0)break;u.push(n)}else if(n<2048){if((r-=2)<0)break;u.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;u.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;u.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return u}function nj(e){return jx.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(kx,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function oj(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function ij(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function uj(e){return e!=e}const Mx=function(){var r="0123456789abcdef";const n=new Array(256);for(let t=0;t<16;++t){var o=16*t;for(let e=0;e<16;++e)n[o+e]=r[t]+r[e]}return n}();function aj(e){return"undefined"==typeof BigInt?sj:e}function sj(){throw new Error("BigInt not supported")}}var cj,Jp={},fc={},l=r&&r.__extends||(cj=function(e,t){return(cj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}cj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),dd=(Object.defineProperty(fc,"__esModule",{value:!0}),k.prototype.getUInt8=function(e){throw new Error("Not implemented")},k.prototype.getInt8=function(e){throw new Error("Not implemented")},k.prototype.getFloat64=function(e){throw new Error("Not implemented")},k.prototype.putUInt8=function(e,t){throw new Error("Not implemented")},k.prototype.putInt8=function(e,t){throw new Error("Not implemented")},k.prototype.putFloat64=function(e,t){throw new Error("Not implemented")},k.prototype.getInt16=function(e){return this.getInt8(e)<<8|this.getUInt8(e+1)},k.prototype.getUInt16=function(e){return this.getUInt8(e)<<8|this.getUInt8(e+1)},k.prototype.getInt32=function(e){return this.getInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},k.prototype.getUInt32=function(e){return this.getUInt8(e)<<24|this.getUInt8(e+1)<<16|this.getUInt8(e+2)<<8|this.getUInt8(e+3)},k.prototype.getInt64=function(e){return this.getInt8(e)<<56|this.getUInt8(e+1)<<48|this.getUInt8(e+2)<<40|this.getUInt8(e+3)<<32|this.getUInt8(e+4)<<24|this.getUInt8(e+5)<<16|this.getUInt8(e+6)<<8|this.getUInt8(e+7)},k.prototype.getSlice=function(e,t){return new fj(e,t,this)},k.prototype.putInt16=function(e,t){this.putInt8(e,t>>8),this.putUInt8(e+1,255&t)},k.prototype.putUInt16=function(e,t){this.putUInt8(e,t>>8&255),this.putUInt8(e+1,255&t)},k.prototype.putInt32=function(e,t){this.putInt8(e,t>>24),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},k.prototype.putUInt32=function(e,t){this.putUInt8(e,t>>24&255),this.putUInt8(e+1,t>>16&255),this.putUInt8(e+2,t>>8&255),this.putUInt8(e+3,255&t)},k.prototype.putInt64=function(e,t){this.putInt8(e,t>>48),this.putUInt8(e+1,t>>42&255),this.putUInt8(e+2,t>>36&255),this.putUInt8(e+3,t>>30&255),this.putUInt8(e+4,t>>24&255),this.putUInt8(e+5,t>>16&255),this.putUInt8(e+6,t>>8&255),this.putUInt8(e+7,255&t)},k.prototype.putBytes=function(e,t){for(var r=0,n=t.remaining();r<n;r++)this.putUInt8(e+r,t.readUInt8())},k.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},k.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},k.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},k.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},k.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},k.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},k.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},k.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},k.prototype.writeUInt8=function(e){this.putUInt8(this._updatePos(1),e)},k.prototype.writeInt8=function(e){this.putInt8(this._updatePos(1),e)},k.prototype.writeInt16=function(e){this.putInt16(this._updatePos(2),e)},k.prototype.writeInt32=function(e){this.putInt32(this._updatePos(4),e)},k.prototype.writeUInt32=function(e){this.putUInt32(this._updatePos(4),e)},k.prototype.writeInt64=function(e){this.putInt64(this._updatePos(8),e)},k.prototype.writeFloat64=function(e){this.putFloat64(this._updatePos(8),e)},k.prototype.writeBytes=function(e){this.putBytes(this._updatePos(e.remaining()),e)},k.prototype.readSlice=function(e){return this.getSlice(this._updatePos(e),e)},k.prototype._updatePos=function(e){var t=this.position;return this.position+=e,t},k.prototype.remaining=function(){return this.length-this.position},k.prototype.hasRemaining=function(){return 0<this.remaining()},k.prototype.reset=function(){this.position=0},k.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},k.prototype.toHex=function(){for(var e="",t=0;t<this.length;t++){var r=this.getUInt8(t).toString(16);e+=r=1===r.length?"0"+r:r,t!==this.length-1&&(e+=" ")}return e},k);function k(e){this.position=0,this.length=e}fc.default=dd;l(pj,lj=dd),pj.prototype.putUInt8=function(e,t){this._inner.putUInt8(this._start+e,t)},pj.prototype.getUInt8=function(e){return this._inner.getUInt8(this._start+e)},pj.prototype.putInt8=function(e,t){this._inner.putInt8(this._start+e,t)},pj.prototype.putFloat64=function(e,t){this._inner.putFloat64(this._start+e,t)},pj.prototype.getInt8=function(e){return this._inner.getInt8(this._start+e)},pj.prototype.getFloat64=function(e){return this._inner.getFloat64(this._start+e)};var lj,fj=pj;function pj(e,t,r){t=lj.call(this,t)||this;return t._start=e,t._inner=r,t}var dj,hj,Od=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ed=(Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.BaseBuffer=void 0,Od(fc)),Ad=(Jp.BaseBuffer=Ed.default,Jp.default=Ed.default,r&&r.__extends||(dj=function(e,t){return(dj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}dj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),Ud=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},bj=(Object.defineProperty(yc,"__esModule",{value:!0}),yc.alloc=void 0,Ud(Nf)),vc=Ud(Jp),yj=(hj=vc.default,Ad(_j,hj),_j.prototype.getUInt8=function(e){return this._buffer.readUInt8(e)},_j.prototype.getInt8=function(e){return this._buffer.readInt8(e)},_j.prototype.getFloat64=function(e){return this._buffer.readDoubleBE(e)},_j.prototype.putUInt8=function(e,t){this._buffer.writeUInt8(t,e)},_j.prototype.putInt8=function(e,t){this._buffer.writeInt8(t,e)},_j.prototype.putFloat64=function(e,t){this._buffer.writeDoubleBE(t,e)},_j.prototype.putBytes=function(e,t){var r;t instanceof _j?(r=Math.min(t.length-t.position,this.length-e),t._buffer.copy(this._buffer,e,t.position,t.position+r),t.position+=r):hj.prototype.putBytes.call(this,e,t)},_j.prototype.getSlice=function(e,t){return new _j(this._buffer.slice(e,e+t))},_j);function _j(e){var t=this,e=(e=e)instanceof bj.default.Buffer?e:"number"==typeof e&&"function"==typeof bj.default.Buffer.alloc?bj.default.Buffer.alloc(e):new bj.default.Buffer(e);return(t=hj.call(this,e.length)||this)._buffer=e,t}yc.default=yj,yc.alloc=function(e){return new yj(e)};var $p=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},vj=(Object.defineProperty(Pp,"__esModule",{value:!0}),$p(yc)),mj=e,Bd=mj.internal.util,gj=Bd.ENCRYPTION_OFF,Oj=Bd.ENCRYPTION_ON;function wj(e,t,r){void 0===t&&(t=Ej),void 0===r&&(r=function(e){return new WebSocket(e)});var n,o=this,t=(this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=e,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null,function(e,t){var r=function(e){return!0===e.encrypted||e.encrypted===Oj}(e),n=function(e){return!1===e.encrypted||e.encrypted===gj}(e),e=e.trust,t=function(e){e="function"==typeof e?e():"";return e&&0<=e.toLowerCase().indexOf("https")}(t);if(function(e,t,r){null!==r&&(e&&!r?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):t&&r&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(r,n,t),n)return{scheme:"ws",error:null};if(t)return{scheme:"wss",error:null};if(r)return e&&"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"!==e?{scheme:null,error:(0,mj.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+e+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+gj+'"` in the driver configuration.')}:{scheme:"wss",error:null};return{scheme:"ws",error:null}}(e,t)),i=t.scheme,t=t.error;t?this._error=t:(this._ws=function(t,r,n){var o=t+"://"+r.asHostPort();try{return n(o)}catch(e){if(function(e,t){return"SyntaxError"===e.name&&function(e){return"["===e.charAt(0)&&-1!==e.indexOf("]")}(t.asHostPort())}(e,r))return o=function(e,t){var r=t.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(e,"://").concat(r,":").concat(t.port())}(t,r),n(o);throw e}}(i,e.address,r),this._ws.binaryType="arraybuffer",(n=this)._ws.onclose=function(e){e&&!e.wasClean&&n._handleConnectionError(),n._open=!1},this._ws.onopen=function(){n._clearConnectionTimeout();var e=n._pending;n._pending=null;for(var t=0;t<e.length;t++)n.write(e[t])},this._ws.onmessage=function(e){o._resetTimeout(),n.onmessage&&(e=new vj.default(e.data),n.onmessage(e))},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout())}function Ej(){return"undefined"!=typeof window&&window.location?window.location.protocol:null}wj.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,mj.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,mj.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},wj.prototype.write=function(e){if(null!==this._pending)this._pending.push(e);else{if(!(e instanceof vj.default))throw(0,mj.newError)("Don't know how to send buffer: "+e);try{this._ws.send(e._buffer)}catch(e){if(1===this._ws.readyState)throw e;this._handleConnectionError()}}},wj.prototype.close=function(){var r=this;return null===this._closingPromise&&(this._closingPromise=new Promise(function(e,t){r._clearConnectionTimeout(),r._ws&&3!==r._ws.readyState?(r._open=!1,r.stopReceiveTimeout(),r._ws.onclose=function(){e()},r._ws.close()):e()})),this._closingPromise},wj.prototype.setupReceiveTimeout=function(e){this._receiveTimeout=e},wj.prototype.stopReceiveTimeout=function(){null!==this._receiveTimeout&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,null!=this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},wj.prototype.startReceiveTimeout=function(){this._open&&null!==this._receiveTimeout&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},wj.prototype._resetTimeout=function(){var e=this;this._receiveTimeoutStarted&&(null!==this._receiveTimeoutId&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){e._receiveTimeoutId=null,e._timedout=!0,e.stopReceiveTimeout(),e._error=(0,mj.newError)("Connection lost. Server didn't respond in ".concat(e._receiveTimeout,"ms"),e._config.connectionErrorCode),e.close(),e.onerror&&e.onerror(e._error)},this._receiveTimeout))},wj.prototype._setupConnectionTimeout=function(){var e,t=this,r=this._config.connectionTimeout;return r?(e=this._ws,setTimeout(function(){1!==e.readyState&&(t._connectionTimeoutFired=!0,e.close())},r)):null},wj.prototype._clearConnectionTimeout=function(){var e=this._connectionTimeoutId;!e&&0!==e||(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(e))},Pp.default=wj;var Pj,Vd={},_c=r&&r.__extends||(Pj=function(e,t){return(Pj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Pj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(Vd,"__esModule",{value:!0});var Sj,y=e.internal.resolver.BaseHostNameResolver,pd=(_c(Tj,Sj=y),Tj.prototype.resolve=function(e){return this._resolveToItself(e)},Tj);function Tj(){return null!==Sj&&Sj.apply(this,arguments)||this}Vd.default=pd;var jj,j={},Cj=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},Ij=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},$d=(Object.defineProperty(j,"__esModule",{value:!0}),j.default={load:function(t){return Cj(this,void 0,void 0,function(){return Ij(this,function(e){return[2,t]})})}},r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}}),E=(Object.defineProperty(_p,"__esModule",{value:!0}),_p.ClientCertificatesLoader=_p.HostNameResolver=_p.Channel=void 0,$d(Pp)),I=$d(Vd),Pd=$d(j),hd=(_p.Channel=E.default,_p.HostNameResolver=I.default,_p.ClientCertificatesLoader=Pd.default,{}),eh={},oh=r&&r.__extends||(jj=function(e,t){return(jj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}jj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(eh,"__esModule",{value:!0});var Rj,Aj=yc,sh=(Rj=Jp.BaseBuffer,oh(kj,Rj),kj.prototype.getUInt8=function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getUInt8(e);e-=r.length}},kj.prototype.getInt8=function(e){for(var t=0;t<this._buffers.length;t++){var r=this._buffers[t];if(!(e>=r.length))return r.getInt8(e);e-=r.length}},kj.prototype.getFloat64=function(e){for(var t=(0,Aj.alloc)(8),r=0;r<8;r++)t.putUInt8(r,this.getUInt8(e+r));return t.getFloat64(0)},kj);function kj(e){for(var t=this,r=0,n=0;n<e.length;n++)r+=e[n].length;return(t=Rj.call(this,r)||this)._buffers=e,t}eh.default=sh;var Mj,Nj,dh=r&&r.__extends||(Mj=function(e,t){return(Mj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Mj(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),vh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jh=(Object.defineProperty(hd,"__esModule",{value:!0}),hd.Dechunker=hd.Chunker=void 0,vh(fc)),xj=yc,Dj=vh(eh),xh=(Nj=jh.default,dh(Uj,Nj),Uj.prototype.putUInt8=function(e,t){this._ensure(1),this._buffer.writeUInt8(t)},Uj.prototype.putInt8=function(e,t){this._ensure(1),this._buffer.writeInt8(t)},Uj.prototype.putFloat64=function(e,t){this._ensure(8),this._buffer.writeFloat64(t)},Uj.prototype.putBytes=function(e,t){for(;0<t.remaining();)this._ensure(1),this._buffer.remaining()>t.remaining()?this._buffer.writeBytes(t):this._buffer.writeBytes(t.readSlice(this._buffer.remaining()));return this},Uj.prototype.flush=function(){var e;return 0<this._buffer.position&&(this._closeChunkIfOpen(),e=this._buffer,this._buffer=null,this._ch.write(e.getSlice(0,e.position)),this._buffer=(0,xj.alloc)(this._bufferSize),this._chunkOpen=!1),this},Uj.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},Uj.prototype._ensure=function(e){e=this._chunkOpen?e:e+2;this._buffer.remaining()<e&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},Uj.prototype._closeChunkIfOpen=function(){var e;this._chunkOpen&&(e=this._buffer.position-(this._currentChunkStart+2),this._buffer.putUInt16(this._currentChunkStart,e),this._chunkOpen=!1)},Uj);function Uj(e,t){var r=Nj.call(this,0)||this;return r._bufferSize=t||1400,r._ch=e,r._buffer=(0,xj.alloc)(r._bufferSize),r._currentChunkStart=0,r._chunkOpen=!1,r}function Lj(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}hd.Chunker=xh,Lj.prototype.AWAITING_CHUNK=function(e){return 2<=e.remaining()?this._onHeader(e.readUInt16()):(this._partialChunkHeader=e.readUInt8()<<8,this.IN_HEADER)},Lj.prototype.IN_HEADER=function(e){return this._onHeader(65535&(this._partialChunkHeader|e.readUInt8()))},Lj.prototype.IN_CHUNK=function(e){return this._chunkSize<=e.remaining()?(this._currentMessage.push(e.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=e.remaining(),this._currentMessage.push(e.readSlice(e.remaining())),this.IN_CHUNK)},Lj.prototype.CLOSED=function(e){},Lj.prototype._onHeader=function(e){if(0!==e)return this._chunkSize=e,this.IN_CHUNK;var t=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:t=this._currentMessage[0];break;default:t=new Dj.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(t),this.AWAITING_CHUNK},Lj.prototype.write=function(e){for(;e.hasRemaining();)this._state=this._state(e)},hd.Dechunker=Lj;var Bh={},Fj=(Object.defineProperty(Bh,"__esModule",{value:!0}),e),Vh=Fj.internal.util,Hh=Vh.ENCRYPTION_OFF,cb=Vh.ENCRYPTION_ON,Bj=Fj.error.SERVICE_UNAVAILABLE,Wj=[null,void 0,!0,!1,cb,Hh],qj=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];Bh.default=function(e,t,r,n){this.address=e,this.encrypted=function(e){e=e.encrypted;if(-1!==Wj.indexOf(e))return e;throw(0,Fj.newError)("Illegal value of the encrypted setting ".concat(e,". Expected one of ").concat(Wj))}(t),this.trust=function(e){e=e.trust;if(-1!==qj.indexOf(e))return e;throw(0,Fj.newError)("Illegal value of the trust setting ".concat(e,". Expected one of ").concat(qj))}(t),this.trustedCertificates=t.trustedCertificates||[],this.knownHostsPath=t.knownHosts||null,this.connectionErrorCode=r||Bj,this.connectionTimeout=t.connectionTimeout,this.clientCertificate=n};var zj,Vj,sb={},Cb={},Jf={exports:{}};function Hj(e,t){for(var r in e)t[r]=e[r]}function Gj(e,t,r){return Vj(e,t,r)}Pb=(bf=Jf).exports,(Vj=(zj=Nf).Buffer).from&&Vj.alloc&&Vj.allocUnsafe&&Vj.allocUnsafeSlow?bf.exports=zj:(Hj(zj,Pb),Pb.Buffer=Gj),Gj.prototype=Object.create(Vj.prototype),Hj(Vj,Gj),Gj.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return Vj(e,t,r)},Gj.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=Vj(e);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},Gj.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Vj(e)},Gj.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return zj.SlowBuffer(e)};var Yj=Jf.exports.Buffer,Kj=Yj.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Zj(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"==typeof t||Yj.isEncoding!==Kj&&Kj(e))return t||e;throw new Error("Unknown encoding: "+e)}function Xj(e){var t;switch(this.encoding=Zj(e),this.encoding){case"utf16le":this.text=$j,this.end=eC,t=4;break;case"utf8":this.fillLast=Jj,t=4;break;case"base64":this.text=tC,this.end=rC,t=3;break;default:return this.write=nC,void(this.end=oC)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Yj.allocUnsafe(t)}function Qj(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function Jj(e){var t,r=this.lastTotal-this.lastNeed,n=(t=this,128!=(192&(n=e)[0])?(t.lastNeed=0,""):1<t.lastNeed&&1<n.length?128!=(192&n[1])?(t.lastNeed=1,""):2<t.lastNeed&&2<n.length&&128!=(192&n[2])?(t.lastNeed=2,""):void 0:void 0);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,r,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,r,0,e.length),void(this.lastNeed-=e.length))}function $j(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);t=e.toString("utf16le",t);if(t){var r=t.charCodeAt(t.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}function eC(e){var t,e=e&&e.length?this.write(e):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function tC(e,t){var r=(e.length-t)%3;return 0==r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1==r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function rC(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function nC(e){return e.toString(this.encoding)}function oC(e){return e&&e.length?this.write(e):""}(Cb.StringDecoder=Xj).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Xj.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"":e},Xj.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=Qj(t[n]);if(0<=o)return 0<o&&(e.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if(0<=(o=Qj(t[n])))return 0<o&&(e.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if(0<=(o=Qj(t[n])))return 0<o&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;r=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},Xj.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};var iC,uC,aC,sC,cC,jb=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},lC=(Object.defineProperty(sb,"__esModule",{value:!0}),jb(yc)),fC=e,pC=jb(Nf),dC=new Cb.StringDecoder("utf8");sb.default={encode:function(e){return new lC.default((e=e,"function"==typeof pC.default.Buffer.from?pC.default.Buffer.from(e,"utf8"):new pC.default.Buffer(e,"utf8")))},decode:function(e,t){if(Object.prototype.hasOwnProperty.call(e,"_buffer"))return n=t,a=(r=e).position,n=a+n,r.position=Math.min(n,r.length),r._buffer.toString("utf8",a,n);var o,i,u,r,n,a;if(Object.prototype.hasOwnProperty.call(e,"_buffers"))return o=function(e){return dC.write(e._buffer)},r=function(){return dC.end()},i=t,u=(a=e).position,a._updatePos(Math.min(t,a.length-u)),a._buffers.reduce(function(e,t){var r,n;return i<=0?e:u>=t.length?(u-=t.length,""):(t._updatePos(u-t.position),r=Math.min(t.length-u,i),n=t.readSlice(r),t._updatePos(r),i=Math.max(i-n.length,0),u=0,e+o(n))},"")+r();throw(0,fC.newError)("Don't know how to decode strings from '".concat(e,"'"))}},Lb=yp,iC=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),Fb=r&&r.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||iC(t,e,r)},uC=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.utf8=Lb.alloc=Lb.ChannelConfig=void 0,Fb(_p,Lb),Fb(hd,Lb),aC=Bh,Object.defineProperty(Lb,"ChannelConfig",{enumerable:!0,get:function(){return uC(aC).default}}),sC=yc,Object.defineProperty(Lb,"alloc",{enumerable:!0,get:function(){return sC.alloc}}),cC=sb,Object.defineProperty(Lb,"utf8",{enumerable:!0,get:function(){return uC(cC).default}}),Object.defineProperty(Qf,"__esModule",{value:!0});var hC=yp,bC=e,yC=1616949271;function _C(e,t){return{major:e,minor:t}}function vC(){var e=[[_C(5,6),_C(5,0)],[_C(4,4),_C(4,2)],_C(4,1),_C(3,0)];if(4<e.length)throw(0,bC.newError)("It should not have more than 4 versions of the protocol");var o=(0,hC.alloc)(20);return o.writeInt32(yC),e.forEach(function(e){var t,r,n;e instanceof Array?(r=(n=e[0]).major,n=n.minor,t=e[1].minor,o.writeInt32(n-t<<16|n<<8|r)):(r=e.major,n=e.minor,o.writeInt32(n<<8|r))}),o.reset(),o}Qf.default=function(t,o){var i=this;return new Promise(function(r,n){function e(e){n(e)}t.onerror=e.bind(i),t._error&&e(t._error),t.onmessage=function(t){try{var e=function(e,t){if(72===(e=[e.readUInt8(),e.readUInt8(),e.readUInt8(),e.readUInt8()])[0]&&84===e[1]&&84===e[2]&&80===e[3])throw t.error("Handshake failed since server responded with HTTP."),(0,bC.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(e[3]+"."+e[2])}(t,o);r({protocolVersion:e,consumeRemainingBuffer:function(e){t.hasRemaining()&&e(t.readSlice(t.remaining()))}})}catch(e){n(e)}},t.write(vC())})};var mC,Yb={},Jb={},ry={},R={},iy={},Sy=r&&r.__extends||(mC=function(e,t){return(mC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}mC(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Iy=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Ny=(Object.defineProperty(iy,"__esModule",{value:!0}),Iy(e),gC.ofRecord=function(e){return null===e?gC.ofNull():new CC(e)},gC.ofMessageResponse=function(e){return null===e?gC.ofNull():new wC(e)},gC.ofNull=function(){return new SC},Object.defineProperty(gC.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(gC.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(gC.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(gC.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),gC);function gC(){}iy.default=Ny;Sy(EC,OC=Ny),Object.defineProperty(EC.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(EC.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(EC.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(EC.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0});var OC,wC=EC;function EC(e){var t=OC.call(this)||this;return t._response=e,t}Sy(TC,PC=Ny),Object.defineProperty(TC.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0});var PC,SC=TC;function TC(){return null!==PC&&PC.apply(this,arguments)||this}Sy(IC,jC=Ny),Object.defineProperty(IC.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(IC.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(IC.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(IC.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0});var jC,CC=IC;function IC(e){var t=jC.call(this)||this;return t._record=e,t}var Fy={},Wy={},RC=(Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.reuseOngoingRequest=Wy.identity=void 0,e);Wy.identity=function(e){return e},Wy.reuseOngoingRequest=function(o,i){void 0===i&&(i=null);var u=new Map;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=RC.json.stringify(e);if(u.has(r))return u.get(r);var n=o.apply(i,e);return u.set(r,n),n.finally(function(){u.delete(r)})}};var Jy={},AC=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.equals=void 0,Jy.equals=function(e,t){var r,n;if(e===t)return!0;if(null===e||null===t)return!1;if("object"!=typeof e||"object"!=typeof t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;try{for(var u=AC(o),a=u.next();!a.done;a=u.next()){var s=a.value;if(e[s]!==t[s])return!1}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}return!0};var kC,MC=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),NC=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n_=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&MC(t,e,r);return NC(t,e),t},u_=(Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.object=Fy.functional=void 0,Fy.functional=n_(Wy),Fy.object=n_(Jy),r&&r.__extends||(kC=function(e,t){return(kC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}kC(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),a_=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},xC=(Object.defineProperty(R,"__esModule",{value:!0}),R.TelemetryObserver=R.ProcedureRouteObserver=R.RouteObserver=R.CompletedObserver=R.FailedObserver=R.ResetObserver=R.LogoffObserver=R.LoginObserver=R.ResultStreamObserver=R.StreamObserver=void 0,e),DC=a_(iy),UC=Fy,LC=xC.internal.constants.FETCH_ALL,FC=xC.error.PROTOCOL_ERROR,s_=(BC.prototype.onNext=function(e){},BC.prototype.onError=function(e){},BC.prototype.onCompleted=function(e){},BC);function BC(){}R.StreamObserver=s_;u_(qC,WC=s_),qC.prototype.pause=function(){this._paused=!0},qC.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},qC.prototype.onNext=function(e){this._haveRecordStreamed=!0;var t=new xC.Record(this._fieldKeys,e,this._fieldLookup);this._observers.some(function(e){return e.onNext})?this._observers.forEach(function(e){e.onNext&&e.onNext(t)}):(this._queuedRecords.push(t),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},qC.prototype.onCompleted=function(e){this._state.onSuccess(this,e)},qC.prototype.onError=function(e){this._state.onError(this,e)},qC.prototype.cancel=function(){this._discard=!0},qC.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(iI.STREAMING)},qC.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(iI.SUCCEEDED)},qC.prototype.subscribe=function(e){if(this._head&&e.onKeys&&e.onKeys(this._head),0<this._queuedRecords.length&&e.onNext)for(var t=0;t<this._queuedRecords.length;t++)e.onNext(this._queuedRecords[t]),this._queuedRecords.length-t-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===iI.READY&&this._handleStreaming());this._tail&&e.onCompleted&&e.onCompleted(this._tail),this._error&&e.onError(this._error),this._observers.push(e),this._state===iI.READY&&this._handleStreaming()},qC.prototype._handleHasMore=function(e){this._setState(iI.READY),this._handleStreaming(),delete e.has_more},qC.prototype._handlePullSuccess=function(e){var t,r=this,n=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:0<this._fieldKeys.length}},e));[void 0,null,"r","w","rw","s"].includes(n.type)?(this._setState(iI.SUCCEEDED),e=null,t=function(){r._tail=n,r._observers.some(function(e){return e.onCompleted})&&r._observers.forEach(function(e){e.onCompleted&&e.onCompleted(n)}),r._afterComplete&&r._afterComplete(n)},(e=this._beforeComplete?this._beforeComplete(n):e)?Promise.resolve(e).then(t):t()):this.onError((0,xC.newError)('Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got \''.concat(n.type,"'"),FC))},qC.prototype._handleRunSuccess=function(e,t){var r=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},e.fields&&0<e.fields.length){this._fieldKeys=e.fields;for(var n=0;n<e.fields.length;n++)this._fieldLookup[e.fields[n]]=n}null!=e.fields&&delete e.fields,null!==e.qid&&void 0!==e.qid&&(this._queryId=e.qid,delete e.qid),this._storeMetadataForCompletion(e);var o=null,i=(this._beforeKeys&&(o=this._beforeKeys(this._fieldKeys)),function(){r._head=r._fieldKeys,r._observers.some(function(e){return e.onKeys})&&r._observers.forEach(function(e){e.onKeys&&e.onKeys(r._fieldKeys)}),r._afterKeys&&r._afterKeys(r._fieldKeys),t()});o?Promise.resolve(o).then(i):i()}},qC.prototype._handleError=function(t){function e(){r._observers.some(function(e){return e.onError})&&r._observers.forEach(function(e){e.onError&&e.onError(t)}),r._afterError&&r._afterError(t)}var r=this,n=(this._setState(iI.FAILED),this._error=t,null);this._beforeError&&(n=this._beforeError(t));n?Promise.resolve(n).then(e):e()},qC.prototype._handleStreaming=function(){this._head&&this._observers.some(function(e){return e.onNext||e.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},qC.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(iI.STREAMING)},qC.prototype._storeMetadataForCompletion=function(e){for(var t,r=Object.keys(e),n=r.length;n--;)t=r[n],this._meta[t]=e[t]},qC.prototype._setState=function(e){this._state=e},qC.prototype._setupAutoPull=function(){this._autoPull=!0};var WC,b_=qC;function qC(e){var e=void 0===e?{}:e,t=e.reactive,t=void 0!==t&&t,r=e.moreFunction,n=e.discardFunction,o=e.fetchSize,o=void 0===o?LC:o,i=e.beforeError,u=e.afterError,a=e.beforeKeys,s=e.afterKeys,c=e.beforeComplete,l=e.afterComplete,f=e.server,p=e.highRecordWatermark,p=void 0===p?Number.MAX_VALUE:p,d=e.lowRecordWatermark,d=void 0===d?Number.MAX_VALUE:d,e=e.enrichMetadata,h=WC.call(this)||this;return h._fieldKeys=null,h._fieldLookup=null,h._head=null,h._queuedRecords=[],h._tail=null,h._error=null,h._observers=[],h._meta={},h._server=f,h._beforeError=i,h._afterError=u,h._beforeKeys=a,h._afterKeys=s,h._beforeComplete=c,h._afterComplete=l,h._enrichMetadata=e||UC.functional.identity,h._queryId=null,h._moreFunction=r,h._discardFunction=n,h._discard=!1,h._fetchSize=o,h._lowRecordWatermark=d,h._highRecordWatermark=p,h._setState(t?iI.READY:iI.READY_STREAMING),h._setupAutoPull(),h._paused=!1,h._pulled=!t,h._haveRecordStreamed=!1,h}R.ResultStreamObserver=b_;u_(VC,zC=s_),VC.prototype.onNext=function(e){this.onError((0,xC.newError)("Received RECORD when initializing "+xC.json.stringify(e)))},VC.prototype.onError=function(e){this._onError&&this._onError(e)},VC.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)};var zC,Sd=VC;function VC(e){var e=void 0===e?{}:e,t=e.onError,e=e.onCompleted,r=zC.call(this)||this;return r._onError=t,r._onCompleted=e,r}R.LoginObserver=Sd;u_(GC,HC=s_),GC.prototype.onNext=function(e){this.onError((0,xC.newError)("Received RECORD when logging off "+xC.json.stringify(e)))},GC.prototype.onError=function(e){this._onError&&this._onError(e)},GC.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)};var HC,v_=GC;function GC(e){var e=void 0===e?{}:e,t=e.onError,e=e.onCompleted,r=HC.call(this)||this;return r._onError=t,r._onCompleted=e,r}R.LogoffObserver=v_;u_(KC,YC=s_),KC.prototype.onNext=function(e){this.onError((0,xC.newError)("Received RECORD when resetting: received record is: "+xC.json.stringify(e),FC))},KC.prototype.onError=function(e){e.code===FC&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},KC.prototype.onCompleted=function(e){this._onComplete&&this._onComplete(e)};var YC,g_=KC;function KC(e){var e=void 0===e?{}:e,t=e.onProtocolError,r=e.onError,e=e.onComplete,n=YC.call(this)||this;return n._onProtocolError=t,n._onError=r,n._onComplete=e,n}R.ResetObserver=g_;u_(XC,ZC=b_),XC.prototype.onNext=function(e){this.onError((0,xC.newError)("Received RECORD when sending telemetry "+xC.json.stringify(e),FC))},XC.prototype.onError=function(e){this._onError&&this._onError(e)},XC.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(e)};var ZC,P_=XC;function XC(e){var e=void 0===e?{}:e,t=e.onError,e=e.onCompleted,r=ZC.call(this)||this;return r._onError=t,r._onCompleted=e,r}R.TelemetryObserver=P_;u_(JC,QC=b_);var QC,j_=JC;function JC(e){var t=e.error,e=e.onError,e=QC.call(this,{beforeError:e})||this;return e.onError(t),e}R.FailedObserver=j_;u_(eI,$C=b_);var $C,N_=eI;function eI(){var e=$C.call(this)||this;return $C.prototype.markCompleted.call(e),e}R.CompletedObserver=N_;u_(rI,tI=s_),rI.prototype.onNext=function(e){this._records.push(e)},rI.prototype.onError=function(e){e.code===FC&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},rI.prototype.onCompleted=function(){null!==this._records&&1!==this._records.length?this.onError((0,xC.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+xC.json.stringify(this._records),FC)):this._onCompleted&&this._onCompleted(DC.default.ofRecord(this._records[0]))};var tI,ly=rI;function rI(e){var t=e.resultObserver,r=e.onProtocolError,n=e.onError,e=e.onCompleted,o=tI.call(this)||this;return o._resultObserver=t,o._onError=n,o._onCompleted=e,o._records=[],o._onProtocolError=r,t.subscribe(o),o}R.ProcedureRouteObserver=ly;u_(oI,nI=s_),oI.prototype.onNext=function(e){this.onError((0,xC.newError)("Received RECORD when resetting: received record is: "+xC.json.stringify(e),FC))},oI.prototype.onError=function(e){e.code===FC&&this._onProtocolError&&this._onProtocolError(e.message),this._onError&&this._onError(e)},oI.prototype.onCompleted=function(e){this._onCompleted&&this._onCompleted(DC.default.ofMessageResponse(e))};var nI,B_=oI;function oI(e){var e=void 0===e?{}:e,t=e.onProtocolError,r=e.onError,e=e.onCompleted,n=nI.call(this)||this;return n._onProtocolError=t,n._onError=r,n._onCompleted=e,n}R.RouteObserver=B_;var iI={READY_STREAMING:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){e._setState(iI.STREAMING)})},onError:function(e,t){e._handleError(t)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(e,t){e._handleRunSuccess(t,function(){return e._handleStreaming()})},onError:function(e,t){e._handleError(t)},name:function(){return"READY"},pull:function(e){return e._more()}},STREAMING:{onSuccess:function(e,t){t.has_more?e._handleHasMore(t):e._handlePullSuccess(t)},onError:function(e,t){e._handleError(t)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(e){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}},uI=(Object.defineProperty(ry,"__esModule",{value:!0}),ry.assertNotificationFilterIsEmpty=ry.assertImpersonatedUserIsEmpty=ry.assertTxConfigIsEmpty=ry.assertDatabaseIsEmpty=void 0,e);ry.assertTxConfigIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e&&!e.isEmpty())throw t((e=(0,uI.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality")).message),r.onError(e),e},ry.assertDatabaseIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e)throw t((e=(0,uI.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality")).message),r.onError(e),e},ry.assertImpersonatedUserIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),e)throw t((t=(0,uI.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(e,"."))).message),r.onError(t),t},ry.assertNotificationFilterIsEmpty=function(e,t,r){if(void 0===t&&(t=function(){}),void 0!==e)throw t((t=(0,uI.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(uI.json.stringify(e),"."))).message),r.onError(t),t};var z_={},yf={},hy={},aI=(Object.defineProperty(hy,"__esModule",{value:!0}),hy.verifyStructSize=hy.Structure=void 0,e),sI=aI.error.PROTOCOL_ERROR,tv=(Object.defineProperty(cI.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),cI.prototype.toString=function(){for(var e="",t=0;t<this.fields.length;t++)0<t&&(e+=", "),e+=this.fields[t];return"Structure("+this.signature+", ["+e+"])"},cI);function cI(e,t){this.signature=e,this.fields=t}hy.Structure=tv,hy.verifyStructSize=function(e,t,r){if(t!==r)throw(0,aI.newError)("Wrong struct size for ".concat(e,", expected ").concat(t," but was ").concat(r),sI)},hy.default=tv,Object.defineProperty(yf,"__esModule",{value:!0}),yf.Unpacker=yf.Packer=void 0;var lI=yp,fI=Fy,pI=hy,dI=e,hI=dI.error.PROTOCOL_ERROR;function bI(e){this._ch=e,this._byteArraysSupported=!0}function yI(e,t){void 0===t&&(t=!1),this._disableLosslessIntegers=e=void 0===e?!1:e,this._useBigInt=t}bI.prototype.packable=function(o,i){var e,u=this;void 0===i&&(i=fI.functional.identity);try{o=i(o)}catch(e){return function(){throw e}}if(null===o)return function(){return u._ch.writeUInt8(192)};if(!0===o)return function(){return u._ch.writeUInt8(195)};if(!1===o)return function(){return u._ch.writeUInt8(194)};if("number"==typeof o)return function(){return u.packFloat(o)};if("string"==typeof o)return function(){return u.packString(o)};if("bigint"==typeof o)return function(){return u.packInteger((0,dI.int)(o))};if((0,dI.isInt)(o))return function(){return u.packInteger(o)};if(o instanceof Int8Array)return function(){return u.packBytes(o)};if(o instanceof Array)return function(){u.packListHeader(o.length);for(var e=0;e<o.length;e++)u.packable(void 0===o[e]?null:o[e],i)()};if(null!=(e=o)&&"function"==typeof e[Symbol.iterator])return this.packableIterable(o,i);if(o instanceof pI.Structure){for(var t=[],r=0;r<o.fields.length;r++)t[r]=this.packable(o.fields[r],i);return function(){return u.packStruct(o.signature,t)}}return"object"==typeof o?function(){for(var e=Object.keys(o),t=0,r=0;r<e.length;r++)void 0!==o[e[r]]&&t++;u.packMapHeader(t);for(r=0;r<e.length;r++){var n=e[r];void 0!==o[n]&&(u.packString(n),u.packable(o[n],i)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(o))},bI.prototype.packableIterable=function(t,e){try{var r=Array.from(t);return this.packable(r,e)}catch(e){throw(0,dI.newError)("Cannot pack given iterable, ".concat(e.message,": ").concat(t))}},bI.prototype.packStruct=function(e,t){this.packStructHeader((t=t||[]).length,e);for(var r=0;r<t.length;r++)t[r]()},bI.prototype.packInteger=function(e){var t=e.high,r=e.low;e.greaterThanOrEqual(-16)&&e.lessThan(128)?this._ch.writeInt8(r):e.greaterThanOrEqual(-128)&&e.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(r)):e.greaterThanOrEqual(-32768)&&e.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(r)):(e.greaterThanOrEqual(-2147483648)&&e.lessThan(2147483648)?this._ch.writeUInt8(202):(this._ch.writeUInt8(203),this._ch.writeInt32(t)),this._ch.writeInt32(r))},bI.prototype.packFloat=function(e){this._ch.writeUInt8(193),this._ch.writeFloat64(e)},bI.prototype.packString=function(e){var e=lI.utf8.encode(e),t=e.length;if(t<16)this._ch.writeUInt8(128|t),this._ch.writeBytes(e);else if(t<256)this._ch.writeUInt8(208),this._ch.writeUInt8(t),this._ch.writeBytes(e);else if(t<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(t/256>>0),this._ch.writeUInt8(t%256),this._ch.writeBytes(e);else{if(!(t<4294967296))throw(0,dI.newError)("UTF-8 strings of size "+t+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((t/16777216>>0)%256),this._ch.writeUInt8((t/65536>>0)%256),this._ch.writeUInt8((t/256>>0)%256),this._ch.writeUInt8(t%256),this._ch.writeBytes(e)}},bI.prototype.packListHeader=function(e){if(e<16)this._ch.writeUInt8(144|e);else if(e<256)this._ch.writeUInt8(212),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,dI.newError)("Lists of size "+e+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)}},bI.prototype.packBytes=function(e){if(!this._byteArraysSupported)throw(0,dI.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(e.length);for(var t=0;t<e.length;t++)this._ch.writeInt8(e[t])},bI.prototype.packBytesHeader=function(e){if(e<256)this._ch.writeUInt8(204),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,dI.newError)("Byte arrays of size "+e+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)}},bI.prototype.packMapHeader=function(e){if(e<16)this._ch.writeUInt8(160|e);else if(e<256)this._ch.writeUInt8(216),this._ch.writeUInt8(e);else if(e<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256);else{if(!(e<4294967296))throw(0,dI.newError)("Maps of size "+e+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((e/16777216>>0)%256),this._ch.writeUInt8((e/65536>>0)%256),this._ch.writeUInt8((e/256>>0)%256),this._ch.writeUInt8(e%256)}},bI.prototype.packStructHeader=function(e,t){if(e<16)this._ch.writeUInt8(176|e),this._ch.writeUInt8(t);else if(e<256)this._ch.writeUInt8(220),this._ch.writeUInt8(e),this._ch.writeUInt8(t);else{if(!(e<65536))throw(0,dI.newError)("Structures of size "+e+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(e/256>>0),this._ch.writeUInt8(e%256)}},bI.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},bI.prototype._nonPackableValue=function(e){return function(){throw(0,dI.newError)(e,hI)}},yf.Packer=bI,yI.prototype.unpack=function(e,t){void 0===t&&(t=fI.functional.identity);var r=e.readUInt8(),n=240&r,o=15&r;if(192===r)return null;var i=this._unpackBoolean(r);if(null!==i)return i;i=this._unpackNumberOrInteger(r,e);if(null!==i){if((0,dI.isInt)(i)){if(this._useBigInt)return i.toBigInt();if(this._disableLosslessIntegers)return i.toNumberOrInfinity()}return i}i=this._unpackString(r,n,o,e);if(null!==i)return i;i=this._unpackList(r,n,o,e,t);if(null!==i)return i;i=this._unpackByteArray(r,e);if(null!==i)return i;i=this._unpackMap(r,n,o,e,t);if(null!==i)return i;i=this._unpackStruct(r,n,o,e,t);if(null!==i)return i;throw(0,dI.newError)("Unknown packed value with marker "+r.toString(16))},yI.prototype.unpackInteger=function(e){var t=e.readUInt8(),e=this._unpackInteger(t,e);if(null==e)throw(0,dI.newError)("Unable to unpack integer value with marker "+t.toString(16));return e},yI.prototype._unpackBoolean=function(e){return 195===e||194!==e&&null},yI.prototype._unpackNumberOrInteger=function(e,t){return 193===e?t.readFloat64():this._unpackInteger(e,t)},yI.prototype._unpackInteger=function(e,t){var r;return 0<=e&&e<128?(0,dI.int)(e):240<=e&&e<256?(0,dI.int)(e-256):200===e?(0,dI.int)(t.readInt8()):201===e?(0,dI.int)(t.readInt16()):202===e?(r=t.readInt32(),(0,dI.int)(r)):203===e?(r=t.readInt32(),e=t.readInt32(),new dI.Integer(e,r)):null},yI.prototype._unpackString=function(e,t,r,n){return 128===t?lI.utf8.decode(n,r):208===e?lI.utf8.decode(n,n.readUInt8()):209===e?lI.utf8.decode(n,n.readUInt16()):210===e?lI.utf8.decode(n,n.readUInt32()):null},yI.prototype._unpackList=function(e,t,r,n,o){return 144===t?this._unpackListWithSize(r,n,o):212===e?this._unpackListWithSize(n.readUInt8(),n,o):213===e?this._unpackListWithSize(n.readUInt16(),n,o):214===e?this._unpackListWithSize(n.readUInt32(),n,o):null},yI.prototype._unpackListWithSize=function(e,t,r){for(var n=[],o=0;o<e;o++)n.push(this.unpack(t,r));return n},yI.prototype._unpackByteArray=function(e,t){return 204===e?this._unpackByteArrayWithSize(t.readUInt8(),t):205===e?this._unpackByteArrayWithSize(t.readUInt16(),t):206===e?this._unpackByteArrayWithSize(t.readUInt32(),t):null},yI.prototype._unpackByteArrayWithSize=function(e,t){for(var r=new Int8Array(e),n=0;n<e;n++)r[n]=t.readInt8();return r},yI.prototype._unpackMap=function(e,t,r,n,o){return 160===t?this._unpackMapWithSize(r,n,o):216===e?this._unpackMapWithSize(n.readUInt8(),n,o):217===e?this._unpackMapWithSize(n.readUInt16(),n,o):218===e?this._unpackMapWithSize(n.readUInt32(),n,o):null},yI.prototype._unpackMapWithSize=function(e,t,r){for(var n={},o=0;o<e;o++)n[this.unpack(t,r)]=this.unpack(t,r);return n},yI.prototype._unpackStruct=function(e,t,r,n,o){return 176===t?this._unpackStructWithSize(r,n,o):220===e?this._unpackStructWithSize(n.readUInt8(),n,o):221===e?this._unpackStructWithSize(n.readUInt16(),n,o):null},yI.prototype._unpackStructWithSize=function(e,t,r){for(var n=t.readUInt8(),o=new pI.Structure(n,[]),i=0;i<e;i++)o.fields.push(this.unpack(t,r));return r(o)},yf.Unpacker=yI;var _I,vI,iv={},bv=r&&r.__extends||(_I=function(e,t){return(_I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_I(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),mI=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),gI=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$f=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&mI(t,e,r);return gI(t,e),t},sv=(Object.defineProperty(iv,"__esModule",{value:!0}),iv.Unpacker=iv.Packer=void 0,$f(yf)),ep=(vI=sv.Packer,bv(OI,vI),OI.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},OI);function OI(){return null!==vI&&vI.apply(this,arguments)||this}iv.Packer=ep;wI=sv.Unpacker,bv(EI,wI);var wI,cv=EI;function EI(e,t){return wI.call(this,e=void 0===e?!1:e,t=void 0===t?!1:t)||this}iv.Unpacker=cv;var PI=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),SI=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),pv=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&PI(t,e,r);return SI(t,e),t},tp=(Object.defineProperty(z_,"__esModule",{value:!0}),z_.structure=z_.v2=z_.v1=void 0,pv(yf)),Tv=(z_.v1=tp,pv(iv)),Iv=(z_.v2=Tv,pv(hy)),p=(z_.structure=Iv,z_.default=Tv,{}),TI=(Object.defineProperty(p,"__esModule",{value:!0}),p.SIGNATURES=void 0,e),Mv=TI.internal.constants,jI=Mv.ACCESS_MODE_READ,CI=Mv.FETCH_ALL,II=TI.internal.util.assertString,Fv=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63}),S=(p.SIGNATURES=Fv,M.init=function(e,t){return new M(1,[e,t],function(){return"INIT ".concat(e," {...}")})},M.run=function(e,t){return new M(16,[e,t],function(){return"RUN ".concat(e," ").concat(TI.json.stringify(t))})},M.pullAll=function(){return NI},M.reset=function(){return xI},M.hello=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=null);t=Object.assign({user_agent:e},t);return r&&(t.routing=r),n&&(t.patch_bolt=n),new M(1,[t],function(){return"HELLO {user_agent: '".concat(e,"', ...}")})},M.hello5x1=function(e,t){var r={user_agent:e};return(t=void 0===t?null:t)&&(r.routing=t),new M(1,[r],function(){return"HELLO {user_agent: '".concat(e,"', ...}")})},M.hello5x2=function(e,t,r){void 0===r&&(r=null);var n={user_agent:e};return kI(n,t=void 0===t?null:t),r&&(n.routing=r),new M(1,[n],function(){return"HELLO ".concat(TI.json.stringify(n))})},M.hello5x3=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=null);var o={};return e&&(o.user_agent=e),t&&(o.bolt_agent={product:t.product,platform:t.platform,language:t.language,language_details:t.languageDetails}),kI(o,r),n&&(o.routing=n),new M(1,[o],function(){return"HELLO ".concat(TI.json.stringify(o))})},M.hello5x5=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=null);var o={};return e&&(o.user_agent=e),t&&(o.bolt_agent={product:t.product,platform:t.platform,language:t.language,language_details:t.languageDetails}),MI(o,r),n&&(o.routing=n),new M(1,[o],function(){return"HELLO ".concat(TI.json.stringify(o))})},M.logon=function(e){return new M(106,[e],function(){return"LOGON { ... }"})},M.logoff=function(){return new M(107,[],function(){return"LOGOFF"})},M.begin=function(e){var e=void 0===e?{}:e,t=RI(e.bookmarks,e.txConfig,e.database,e.mode,e.impersonatedUser,e.notificationFilter);return new M(17,[t],function(){return"BEGIN ".concat(TI.json.stringify(t))})},M.begin5x5=function(e){var e=void 0===e?{}:e,t=RI(e.bookmarks,e.txConfig,e.database,e.mode,e.impersonatedUser,e.notificationFilter,{appendNotificationFilter:MI});return new M(17,[t],function(){return"BEGIN ".concat(TI.json.stringify(t))})},M.commit=function(){return DI},M.rollback=function(){return UI},M.runWithMetadata=function(e,t,r){var r=void 0===r?{}:r,n=RI(r.bookmarks,r.txConfig,r.database,r.mode,r.impersonatedUser,r.notificationFilter);return new M(16,[e,t,n],function(){return"RUN ".concat(e," ").concat(TI.json.stringify(t)," ").concat(TI.json.stringify(n))})},M.runWithMetadata5x5=function(e,t,r){var r=void 0===r?{}:r,n=RI(r.bookmarks,r.txConfig,r.database,r.mode,r.impersonatedUser,r.notificationFilter,{appendNotificationFilter:MI});return new M(16,[e,t,n],function(){return"RUN ".concat(e," ").concat(TI.json.stringify(t)," ").concat(TI.json.stringify(n))})},M.goodbye=function(){return LI},M.pull=function(e){var e=void 0===e?{}:e,t=e.stmtId,t=void 0===t?-1:t,e=e.n,r=AI(null==t?-1:t,(void 0===e?CI:e)||CI);return new M(63,[r],function(){return"PULL ".concat(TI.json.stringify(r))})},M.discard=function(e){var e=void 0===e?{}:e,t=e.stmtId,t=void 0===t?-1:t,e=e.n,r=AI(null==t?-1:t,(void 0===e?CI:e)||CI);return new M(47,[r],function(){return"DISCARD ".concat(TI.json.stringify(r))})},M.telemetry=function(e){var e=e.api,t=(0,TI.int)(e);return new M(84,[t],function(){return"TELEMETRY ".concat(t.toString())})},M.route=function(e,t,r){return new M(102,[e=void 0===e?{}:e,t=void 0===t?[]:t,r=void 0===r?null:r],function(){return"ROUTE ".concat(TI.json.stringify(e)," ").concat(TI.json.stringify(t)," ").concat(r)})},M.routeV4x4=function(e,t,r){void 0===e&&(e={}),void 0===t&&(t=[]);var n={};return(r=void 0===r?{}:r).databaseName&&(n.db=r.databaseName),r.impersonatedUser&&(n.imp_user=r.impersonatedUser),new M(102,[e,t,n],function(){return"ROUTE ".concat(TI.json.stringify(e)," ").concat(TI.json.stringify(t)," ").concat(TI.json.stringify(n))})},M);function M(e,t,r){this.signature=e,this.fields=t,this.toString=r}function RI(e,t,r,n,o,i,u){void 0===u&&(u={});var a={};return e.isEmpty()||(a.bookmarks=e.values()),null!==t.timeout&&(a.tx_timeout=t.timeout),t.metadata&&(a.tx_metadata=t.metadata),r&&(a.db=II(r,"database")),o&&(a.imp_user=II(o,"impersonatedUser")),n===jI&&(a.mode="r"),(null!=(e=u.appendNotificationFilter)?e:kI)(a,i),a}function AI(e,t){t={n:(0,TI.int)(t)};return-1!==e&&(t.qid=(0,TI.int)(e)),t}function kI(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_categories=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_categories=t.disabledClassifications))}function MI(e,t){t&&(t.minimumSeverityLevel&&(e.notifications_minimum_severity=t.minimumSeverityLevel),t.disabledCategories&&(e.notifications_disabled_classifications=t.disabledCategories),t.disabledClassifications&&(e.notifications_disabled_classifications=t.disabledClassifications))}var NI=new(p.default=S)(63,[],function(){return"PULL_ALL"}),xI=new S(15,[],function(){return"RESET"}),DI=new S(18,[],function(){return"COMMIT"}),UI=new S(19,[],function(){return"ROLLBACK"}),LI=new S(2,[],function(){return"GOODBYE"}),qv={},Vv={},FI=(Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.TypeTransformer=void 0,z_),BI=e.internal.objectUtil;function WI(e){this._transformers=e,this._transformersPerSignature=new Map(e.map(function(e){return[e.signature,e]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}function qI(e){var t=e.signature,r=e.fromStructure,n=e.toStructure,e=e.isTypeInstance;this.signature=t,this.isTypeInstance=e,this.fromStructure=r,this.toStructure=n,Object.freeze(this)}WI.prototype.fromStructure=function(e){try{return e instanceof FI.structure.Structure&&this._transformersPerSignature.has(e.signature)?(0,this._transformersPerSignature.get(e.signature).fromStructure)(e):e}catch(e){return BI.createBrokenObject(e)}},WI.prototype.toStructure=function(t){var e=this._transformers.find(function(e){return(0,e.isTypeInstance)(t)});return void 0!==e?e.toStructure(t):t},Vv.default=WI,qI.prototype.extendsWith=function(e){var t=e.signature,r=e.fromStructure,n=e.toStructure,e=e.isTypeInstance;return new qI({signature:t||this.signature,fromStructure:r||this.fromStructure,toStructure:n||this.toStructure,isTypeInstance:e||this.isTypeInstance})},Vv.TypeTransformer=qI;var zI=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},VI=(Object.defineProperty(qv,"__esModule",{value:!0}),e),HI=z_,GI=Vv,YI=VI.error.PROTOCOL_ERROR;qv.default={createNodeTransformer:function(){return new GI.TypeTransformer({signature:78,isTypeInstance:function(e){return e instanceof VI.Node},toStructure:function(e){throw(0,VI.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(e),YI)},fromStructure:function(e){HI.structure.verifyStructSize("Node",3,e.size);var e=zI(e.fields,3),t=e[0],r=e[1],e=e[2];return new VI.Node(t,r,e)}})},createRelationshipTransformer:function(){return new GI.TypeTransformer({signature:82,isTypeInstance:function(e){return e instanceof VI.Relationship},toStructure:function(e){throw(0,VI.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(e),YI)},fromStructure:function(e){HI.structure.verifyStructSize("Relationship",5,e.size);var e=zI(e.fields,5),t=e[0],r=e[1],n=e[2],o=e[3],e=e[4];return new VI.Relationship(t,r,n,o,e)}})},createUnboundRelationshipTransformer:function(){return new GI.TypeTransformer({signature:114,isTypeInstance:function(e){return e instanceof VI.UnboundRelationship},toStructure:function(e){throw(0,VI.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(e),YI)},fromStructure:function(e){HI.structure.verifyStructSize("UnboundRelationship",3,e.size);var e=zI(e.fields,3),t=e[0],r=e[1],e=e[2];return new VI.UnboundRelationship(t,r,e)}})},createPathTransformer:function(){return new GI.TypeTransformer({signature:80,isTypeInstance:function(e){return e instanceof VI.Path},toStructure:function(e){throw(0,VI.newError)("It is not allowed to pass paths in query parameters, given: ".concat(e),YI)},fromStructure:function(e){HI.structure.verifyStructSize("Path",3,e.size);for(var e=zI(e.fields,3),t=e[0],r=e[1],n=e[2],o=[],i=t[0],u=0;u<n.length;u+=2){var a=t[n[u+1]],s=(0,VI.toNumber)(n[u]),c=void 0;0<s?(c=r[s-1])instanceof VI.UnboundRelationship&&(r[s-1]=c=c.bindTo(i,a)):(c=r[-s-1])instanceof VI.UnboundRelationship&&(r[-s-1]=c=c.bindTo(a,i)),o.push(new VI.PathSegment(i,c,a)),i=a}return new VI.Path(t[0],t[t.length-1],o)}})}};var KI=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),ZI=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Kv=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&KI(t,e,r);return ZI(t,e),t},Qv=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},XI=(Object.defineProperty(Jb,"__esModule",{value:!0}),ry),QI=z_,JI=Kv(p),$I=R,eR=e,tR=Qv(qv),rR=Qv(Vv),nR=eR.internal.bookmarks.Bookmarks,em=eR.internal.constants,oR=em.ACCESS_MODE_WRITE,iR=em.BOLT_PROTOCOL_V1,uR=(eR.internal.logger.Logger,eR.internal.txConfig.TxConfig),f=(Object.defineProperty(N.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new rR.default(Object.values(tR.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"version",{get:function(){return iR},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),N.prototype.packer=function(){return this._packer},N.prototype.packable=function(e){return this._packer.packable(e,this.transformer.toStructure)},N.prototype.unpacker=function(){return this._unpacker},N.prototype.unpack=function(e){return this._unpacker.unpack(e,this.transformer.fromStructure)},N.prototype.transformMetadata=function(e){return e},N.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=(e.boltAgent,e.authToken),o=e.notificationFilter,i=e.onError,u=e.onComplete,e=new $I.LoginObserver({onError:function(e){return t._onLoginError(e,i)},onCompleted:function(e){return t._onLoginCompleted(e,u)}});return(0,XI.assertNotificationFilterIsEmpty)(o,this._onProtocolError,e),this.write(JI.default.init(r,n),e,!0),e},N.prototype.logoff=function(e){var e=void 0===e?{}:e,t=e.onComplete,r=e.onError,e=(e.flush,new $I.LogoffObserver({onCompleted:t,onError:r})),t=(0,eR.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(t.message),e.onError(t),t},N.prototype.logon=function(e){var t=this,e=void 0===e?{}:e,r=e.authToken,n=e.onComplete,o=e.onError,e=(e.flush,new $I.LoginObserver({onCompleted:function(){return t._onLoginCompleted({},r,n)},onError:function(e){return t._onLoginError(e,o)}})),i=(0,eR.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(i.message),e.onError(i),i},N.prototype.prepareToClose=function(){},N.prototype.beginTransaction=function(e){var e=void 0===e?{}:e,t=e.bookmarks,r=e.txConfig,n=e.database,o=e.mode,i=e.impersonatedUser,u=e.notificationFilter,a=e.beforeError,s=e.afterError,c=e.beforeComplete,e=e.afterComplete;return this.run("BEGIN",t?t.asBeginTransactionParameters():{},{bookmarks:t,txConfig:r,database:n,mode:o,impersonatedUser:i,notificationFilter:u,beforeError:a,afterError:s,beforeComplete:c,afterComplete:e,flush:!1})},N.prototype.commitTransaction=function(e){var e=void 0===e?{}:e,t=e.beforeError,r=e.afterError,n=e.beforeComplete,e=e.afterComplete;return this.run("COMMIT",{},{bookmarks:nR.empty(),txConfig:uR.empty(),mode:oR,beforeError:t,afterError:r,beforeComplete:n,afterComplete:e})},N.prototype.rollbackTransaction=function(e){var e=void 0===e?{}:e,t=e.beforeError,r=e.afterError,n=e.beforeComplete,e=e.afterComplete;return this.run("ROLLBACK",{},{bookmarks:nR.empty(),txConfig:uR.empty(),mode:oR,beforeError:t,afterError:r,beforeComplete:n,afterComplete:e})},N.prototype.run=function(e,t,r){var r=void 0===r?{}:r,n=(r.bookmarks,r.txConfig),o=r.database,i=(r.mode,r.impersonatedUser),u=r.notificationFilter,a=r.beforeKeys,s=r.afterKeys,c=r.beforeError,l=r.afterError,f=r.beforeComplete,p=r.afterComplete,d=r.flush,d=void 0===d||d,h=r.highRecordWatermark,h=void 0===h?Number.MAX_VALUE:h,r=r.lowRecordWatermark,r=void 0===r?Number.MAX_VALUE:r,a=new $I.ResultStreamObserver({server:this._server,beforeKeys:a,afterKeys:s,beforeError:c,afterError:l,beforeComplete:f,afterComplete:p,highRecordWatermark:h,lowRecordWatermark:r});return(0,XI.assertTxConfigIsEmpty)(n,this._onProtocolError,a),(0,XI.assertDatabaseIsEmpty)(o,this._onProtocolError,a),(0,XI.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,a),(0,XI.assertNotificationFilterIsEmpty)(u,this._onProtocolError,a),this.write(JI.default.run(e,t),a,!1),this.write(JI.default.pullAll(),a,d),a},Object.defineProperty(N.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),N.prototype.reset=function(e){var e=void 0===e?{}:e,t=e.onError,e=e.onComplete,t=new $I.ResetObserver({onProtocolError:this._onProtocolError,onError:t,onComplete:e});return this.write(JI.default.reset(),t,!0),t},N.prototype.telemetry=function(e,t){e.api;e=void 0===t?{}:t,e.onError,t=e.onCompleted,e=new $I.CompletedObserver;return t&&t(),e},N.prototype._createPacker=function(e){return new QI.v1.Packer(e)},N.prototype._createUnpacker=function(e,t){return new QI.v1.Unpacker(e,t)},N.prototype.write=function(e,t,r){this.queueObserverIfProtocolIsNotBroken(t)&&(this._log.isDebugEnabled()&&this._log.debug("C: ".concat(e)),this._lastMessageSignature=e.signature,t=new QI.structure.Structure(e.signature,e.fields),this.packable(t)(),this._chunker.messageBoundary(),r&&this._chunker.flush())},N.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===JI.SIGNATURES.HELLO||this._lastMessageSignature===JI.SIGNATURES.LOGON},N.prototype.isLastMessageReset=function(){return this._lastMessageSignature===JI.SIGNATURES.RESET},N.prototype.notifyFatalError=function(e){return this._fatalError=e,this._responseHandler._notifyErrorToObservers(e)},N.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},N.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},N.prototype.queueObserverIfProtocolIsNotBroken=function(e){return this.isBroken()?(this.notifyFatalErrorToObserver(e),!1):this._responseHandler._queueObserver(e)},N.prototype.isBroken=function(){return!!this._fatalError},N.prototype.notifyFatalErrorToObserver=function(e){e&&e.onError&&e.onError(this._fatalError)},N.prototype.resetFailure=function(){this._responseHandler._resetFailure()},N.prototype._onLoginCompleted=function(e,t,r){this._initialized=!0,this._authToken=t,e&&(t=e.server,this._server.version||(this._server.version=t)),r&&r(e)},N.prototype._onLoginError=function(e,t){this._onProtocolError(e.message),t&&t(e)},N);function N(e,t,r,n,o,i){var r=void 0===r?{}:r,u=r.disableLosslessIntegers,r=r.useBigInt;void 0===n&&(n=function(){return null}),this._server=e||{},this._chunker=t,this._packer=this._createPacker(t),this._unpacker=this._createUnpacker(u,r),this._responseHandler=n(this),this._log=o,this._onProtocolError=i,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:u,useBigInt:r}}Jb.default=f;var om={},Yh={},lm={},aR=(Object.defineProperty(lm,"__esModule",{value:!0}),lm.epochSecondAndNanoToLocalDateTime=lm.nanoOfDayToLocalTime=lm.epochDayToDate=void 0,e),ym=aR.internal.temporalUtil,sR=ym.DAYS_0000_TO_1970,cR=ym.DAYS_PER_400_YEAR_CYCLE,lR=ym.NANOS_PER_HOUR,fR=ym.NANOS_PER_MINUTE,pR=ym.NANOS_PER_SECOND,dR=ym.SECONDS_PER_DAY,hR=ym.floorDiv,bR=ym.floorMod;function yR(e){var e=(e=(0,aR.int)(e)).add(sR).subtract(60),t=(0,aR.int)(0),r=(e.lessThan(0)&&(t=(r=e.add(1).div(cR).subtract(1)).multiply(400),e=e.add(r.multiply(-cR))),e.multiply(400).add(591).div(cR)),n=e.subtract(r.multiply(365).add(r.div(4)).subtract(r.div(100)).add(r.div(400))),e=(n.lessThan(0)&&(r=r.subtract(1),n=e.subtract(r.multiply(365).add(r.div(4)).subtract(r.div(100)).add(r.div(400)))),r=r.add(t),n),t=e.multiply(5).add(2).div(153),n=t.add(2).modulo(12).add(1),e=e.subtract(t.multiply(306).add(5).div(10)).add(1),r=r.add(t.div(10));return new aR.Date(r,n,e)}function _R(e){var t=(e=(0,aR.int)(e)).div(lR),r=(e=e.subtract(t.multiply(lR))).div(fR),n=(e=e.subtract(r.multiply(fR))).div(pR),e=e.subtract(n.multiply(pR));return new aR.LocalTime(t,r,n,e)}lm.epochDayToDate=yR,lm.nanoOfDayToLocalTime=_R,lm.epochSecondAndNanoToLocalDateTime=function(e,t){var r=hR(e,dR),e=bR(e,dR).multiply(pR).add(t),t=yR(r),r=_R(e);return new aR.LocalDateTime(t.year,t.month,t.day,r.hour,r.minute,r.second,r.nanosecond)};var vR=r&&r.__assign||function(){return(vR=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},mR=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Om=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},gR=(Object.defineProperty(Yh,"__esModule",{value:!0}),e),OR=z_,wR=Vv,ER=lm,jm=Om(qv),O=gR.internal.temporalUtil,PR=O.dateToEpochDay,SR=O.localDateTimeToEpochSecond,TR=O.localTimeToNanoOfDay;function jR(e,t,r){if(!t&&!r)return e;var n,o,i,u=Object.create(Object.getPrototypeOf(e));for(n in e)!0===Object.prototype.hasOwnProperty.call(e,n)&&(o=e[n],u[n]=(0,gR.isInt)(o)?(i=o,r?i.toBigInt():i.toNumberOrInfinity()):o);return Object.freeze(u),u}Yh.default=vR(vR({},jm.default),{createPoint2DTransformer:function(){return new wR.TypeTransformer({signature:88,isTypeInstance:function(e){return(0,gR.isPoint)(e)&&(null===e.z||void 0===e.z)},toStructure:function(e){return new OR.structure.Structure(88,[(0,gR.int)(e.srid),e.x,e.y])},fromStructure:function(e){OR.structure.verifyStructSize("Point2D",3,e.size);var e=mR(e.fields,3),t=e[0],r=e[1],e=e[2];return new gR.Point(t,r,e,void 0)}})},createPoint3DTransformer:function(){return new wR.TypeTransformer({signature:89,isTypeInstance:function(e){return(0,gR.isPoint)(e)&&null!==e.z&&void 0!==e.z},toStructure:function(e){return new OR.structure.Structure(89,[(0,gR.int)(e.srid),e.x,e.y,e.z])},fromStructure:function(e){OR.structure.verifyStructSize("Point3D",4,e.size);var e=mR(e.fields,4),t=e[0],r=e[1],n=e[2],e=e[3];return new gR.Point(t,r,n,e)}})},createDurationTransformer:function(){return new wR.TypeTransformer({signature:69,isTypeInstance:gR.isDuration,toStructure:function(e){var t=(0,gR.int)(e.months),r=(0,gR.int)(e.days),n=(0,gR.int)(e.seconds),e=(0,gR.int)(e.nanoseconds);return new OR.structure.Structure(69,[t,r,n,e])},fromStructure:function(e){OR.structure.verifyStructSize("Duration",4,e.size);var e=mR(e.fields,4),t=e[0],r=e[1],n=e[2],e=e[3];return new gR.Duration(t,r,n,e)}})},createLocalTimeTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new wR.TypeTransformer({signature:116,isTypeInstance:gR.isLocalTime,toStructure:function(e){e=TR(e.hour,e.minute,e.second,e.nanosecond);return new OR.structure.Structure(116,[e])},fromStructure:function(e){OR.structure.verifyStructSize("LocalTime",1,e.size);e=mR(e.fields,1)[0];return jR((0,ER.nanoOfDayToLocalTime)(e),t,r)}})},createTimeTransformer:function(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new wR.TypeTransformer({signature:84,isTypeInstance:gR.isTime,toStructure:function(e){var t=TR(e.hour,e.minute,e.second,e.nanosecond),e=(0,gR.int)(e.timeZoneOffsetSeconds);return new OR.structure.Structure(84,[t,e])},fromStructure:function(e){OR.structure.verifyStructSize("Time",2,e.size);var e=mR(e.fields,2),t=e[0],e=e[1],t=(0,ER.nanoOfDayToLocalTime)(t);return jR(new gR.Time(t.hour,t.minute,t.second,t.nanosecond,e),r,n)}})},createDateTransformer:function(e){var t=e.disableLosslessIntegers,r=e.useBigInt;return new wR.TypeTransformer({signature:68,isTypeInstance:gR.isDate,toStructure:function(e){e=PR(e.year,e.month,e.day);return new OR.structure.Structure(68,[e])},fromStructure:function(e){OR.structure.verifyStructSize("Date",1,e.size);e=mR(e.fields,1)[0];return jR((0,ER.epochDayToDate)(e),t,r)}})},createLocalDateTimeTransformer:function(e){var r=e.disableLosslessIntegers,n=e.useBigInt;return new wR.TypeTransformer({signature:100,isTypeInstance:gR.isLocalDateTime,toStructure:function(e){var t=SR(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),e=(0,gR.int)(e.nanosecond);return new OR.structure.Structure(100,[t,e])},fromStructure:function(e){OR.structure.verifyStructSize("LocalDateTime",2,e.size);var e=mR(e.fields,2),t=e[0],e=e[1];return jR((0,ER.epochSecondAndNanoToLocalDateTime)(t,e),r,n)}})},createDateTimeWithZoneIdTransformer:function(e){var n=e.disableLosslessIntegers,o=e.useBigInt;return new wR.TypeTransformer({signature:102,isTypeInstance:function(e){return(0,gR.isDateTime)(e)&&null!=e.timeZoneId},toStructure:function(e){var t=SR(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,gR.int)(e.nanosecond),e=e.timeZoneId;return new OR.structure.Structure(102,[t,r,e])},fromStructure:function(e){OR.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var e=mR(e.fields,3),t=e[0],r=e[1],e=e[2],t=(0,ER.epochSecondAndNanoToLocalDateTime)(t,r);return jR(new gR.DateTime(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond,null,e),n,o)}})},createDateTimeWithOffsetTransformer:function(e){var n=e.disableLosslessIntegers,o=e.useBigInt;return new wR.TypeTransformer({signature:70,isTypeInstance:function(e){return(0,gR.isDateTime)(e)&&null==e.timeZoneId},toStructure:function(e){var t=SR(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,gR.int)(e.nanosecond),e=(0,gR.int)(e.timeZoneOffsetSeconds);return new OR.structure.Structure(70,[t,r,e])},fromStructure:function(e){OR.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var e=mR(e.fields,3),t=e[0],r=e[1],e=e[2],t=(0,ER.epochSecondAndNanoToLocalDateTime)(t,r);return jR(new gR.DateTime(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond,e,null),n,o)}})}});var CR,IR,km=r&&r.__extends||(CR=function(e,t){return(CR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}CR(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Um=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Wm=(Object.defineProperty(om,"__esModule",{value:!0}),Um(Jb)),RR=Um(z_),Kh=e,AR=Um(Yh),kR=Um(Vv),MR=Kh.internal.constants.BOLT_PROTOCOL_V2,Km=(IR=Wm.default,km(NR,IR),NR.prototype._createPacker=function(e){return new RR.default.Packer(e)},NR.prototype._createUnpacker=function(e,t){return new RR.default.Unpacker(e,t)},Object.defineProperty(NR.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new kR.default(Object.values(AR.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(NR.prototype,"version",{get:function(){return MR},enumerable:!1,configurable:!0}),NR);function NR(){return null!==IR&&IR.apply(this,arguments)||this}om.default=Km;var xR,DR,r0={},i0={},UR=r&&r.__assign||function(){return(UR=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f0=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},d0=(Object.defineProperty(i0,"__esModule",{value:!0}),f0(Yh)),_0=(i0.default=UR({},d0.default),r&&r.__extends||(xR=function(e,t){return(xR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}xR(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),LR=r&&r.__assign||function(){return(LR=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},w0=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},S0=(Object.defineProperty(r0,"__esModule",{value:!0}),w0(om)),FR=w0(p),BR=ry,WR=R,qR=w0(i0),zR=w0(Vv),VR=(e.internal.bookmarks.Bookmarks,e.internal.constants.BOLT_PROTOCOL_V3),HR=e.internal.txConfig.TxConfig,GR="context",YR="CALL dbms.cluster.routing.getRoutingTable($".concat(GR,")"),KR=new WR.StreamObserver,cl=(DR=S0.default,_0(ZR,DR),Object.defineProperty(ZR.prototype,"version",{get:function(){return VR},enumerable:!1,configurable:!0}),Object.defineProperty(ZR.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new zR.default(Object.values(qR.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),ZR.prototype.transformMetadata=function(e){return"t_first"in e&&(e.result_available_after=e.t_first,delete e.t_first),"t_last"in e&&(e.result_consumed_after=e.t_last,delete e.t_last),e},ZR.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=(e.boltAgent,e.authToken),o=e.notificationFilter,i=e.onError,u=e.onComplete,e=new WR.LoginObserver({onError:function(e){return t._onLoginError(e,i)},onCompleted:function(e){return t._onLoginCompleted(e,n,u)}});return(0,BR.assertNotificationFilterIsEmpty)(o,this._onProtocolError,e),this.write(FR.default.hello(r,n),e,!0),e},ZR.prototype.prepareToClose=function(){this.write(FR.default.goodbye(),KR,!0)},ZR.prototype.beginTransaction=function(e){var e=void 0===e?{}:e,t=e.bookmarks,r=e.txConfig,n=e.database,o=e.impersonatedUser,i=e.notificationFilter,u=e.mode,a=e.beforeError,s=e.afterError,c=e.beforeComplete,e=e.afterComplete,a=new WR.ResultStreamObserver({server:this._server,beforeError:a,afterError:s,beforeComplete:c,afterComplete:e});return a.prepareToHandleSingleResponse(),(0,BR.assertDatabaseIsEmpty)(n,this._onProtocolError,a),(0,BR.assertImpersonatedUserIsEmpty)(o,this._onProtocolError,a),(0,BR.assertNotificationFilterIsEmpty)(i,this._onProtocolError,a),this.write(FR.default.begin({bookmarks:t,txConfig:r,mode:u}),a,!0),a},ZR.prototype.commitTransaction=function(e){var e=void 0===e?{}:e,t=e.beforeError,r=e.afterError,n=e.beforeComplete,e=e.afterComplete,t=new WR.ResultStreamObserver({server:this._server,beforeError:t,afterError:r,beforeComplete:n,afterComplete:e});return t.prepareToHandleSingleResponse(),this.write(FR.default.commit(),t,!0),t},ZR.prototype.rollbackTransaction=function(e){var e=void 0===e?{}:e,t=e.beforeError,r=e.afterError,n=e.beforeComplete,e=e.afterComplete,t=new WR.ResultStreamObserver({server:this._server,beforeError:t,afterError:r,beforeComplete:n,afterComplete:e});return t.prepareToHandleSingleResponse(),this.write(FR.default.rollback(),t,!0),t},ZR.prototype.run=function(e,t,r){var r=void 0===r?{}:r,n=r.bookmarks,o=r.txConfig,i=r.database,u=r.impersonatedUser,a=r.notificationFilter,s=r.mode,c=r.beforeKeys,l=r.afterKeys,f=r.beforeError,p=r.afterError,d=r.beforeComplete,h=r.afterComplete,b=r.flush,b=void 0===b||b,y=r.highRecordWatermark,y=void 0===y?Number.MAX_VALUE:y,r=r.lowRecordWatermark,r=void 0===r?Number.MAX_VALUE:r,c=new WR.ResultStreamObserver({server:this._server,beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:d,afterComplete:h,highRecordWatermark:y,lowRecordWatermark:r});return(0,BR.assertDatabaseIsEmpty)(i,this._onProtocolError,c),(0,BR.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,c),(0,BR.assertNotificationFilterIsEmpty)(a,this._onProtocolError,c),this.write(FR.default.runWithMetadata(e,t,{bookmarks:n,txConfig:o,mode:s}),c,!1),this.write(FR.default.pullAll(),c,b),c},ZR.prototype.requestRoutingInformation=function(e){var t,r=e.routingContext,n=e.sessionContext,n=void 0===n?{}:n,o=e.onError,e=e.onCompleted,r=this.run(YR,((t={})[GR]=void 0===r?{}:r,t),LR(LR({},n),{txConfig:HR.empty()}));return new WR.ProcedureRouteObserver({resultObserver:r,onProtocolError:this._onProtocolError,onError:o,onCompleted:e})},ZR);function ZR(){return null!==DR&&DR.apply(this,arguments)||this}r0.default=cl;var XR,QR,I0={},R0={},JR=r&&r.__assign||function(){return(JR=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},D0=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},F0=(Object.defineProperty(R0,"__esModule",{value:!0}),D0(i0)),uy=(R0.default=JR({},F0.default),r&&r.__extends||(XR=function(e,t){return(XR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}XR(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),$R=r&&r.__assign||function(){return($R=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},V_=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},q0=(Object.defineProperty(I0,"__esModule",{value:!0}),V_(r0)),eA=V_(p),tA=ry,rA=R,nA=V_(R0),oA=V_(Vv),Y0=(e.internal.bookmarks.Bookmarks,e.internal.constants),iA=Y0.BOLT_PROTOCOL_V4_0,uA=Y0.FETCH_ALL,aA=e.internal.txConfig.TxConfig,sA="context",cA="database",lA="CALL dbms.routing.getRoutingTable($".concat(sA,", $").concat(cA,")"),X0=(QR=q0.default,uy(fA,QR),Object.defineProperty(fA.prototype,"version",{get:function(){return iA},enumerable:!1,configurable:!0}),Object.defineProperty(fA.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new oA.default(Object.values(nA.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),fA.prototype.beginTransaction=function(e){var e=void 0===e?{}:e,t=e.bookmarks,r=e.txConfig,n=e.database,o=e.impersonatedUser,i=e.notificationFilter,u=e.mode,a=e.beforeError,s=e.afterError,c=e.beforeComplete,e=e.afterComplete,a=new rA.ResultStreamObserver({server:this._server,beforeError:a,afterError:s,beforeComplete:c,afterComplete:e});return a.prepareToHandleSingleResponse(),(0,tA.assertImpersonatedUserIsEmpty)(o,this._onProtocolError,a),(0,tA.assertNotificationFilterIsEmpty)(i,this._onProtocolError,a),this.write(eA.default.begin({bookmarks:t,txConfig:r,database:n,mode:u}),a,!0),a},fA.prototype.run=function(e,t,r){var r=void 0===r?{}:r,n=r.bookmarks,o=r.txConfig,i=r.database,u=r.impersonatedUser,a=r.notificationFilter,s=r.mode,c=r.beforeKeys,l=r.afterKeys,f=r.beforeError,p=r.afterError,d=r.beforeComplete,h=r.afterComplete,b=r.flush,b=void 0===b||b,y=r.reactive,y=void 0!==y&&y,_=r.fetchSize,_=void 0===_?uA:_,v=r.highRecordWatermark,v=void 0===v?Number.MAX_VALUE:v,r=r.lowRecordWatermark,r=void 0===r?Number.MAX_VALUE:r,c=new rA.ResultStreamObserver({server:this._server,reactive:y,fetchSize:_,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:d,afterComplete:h,highRecordWatermark:v,lowRecordWatermark:r}),l=((0,tA.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,c),(0,tA.assertNotificationFilterIsEmpty)(a,this._onProtocolError,c),y);return this.write(eA.default.runWithMetadata(e,t,{bookmarks:n,txConfig:o,database:i,mode:s}),c,l&&b),y||this.write(eA.default.pull({n:_}),c,b),c},fA.prototype._requestMore=function(e,t,r){this.write(eA.default.pull({stmtId:e,n:t}),r,!0)},fA.prototype._requestDiscard=function(e,t){this.write(eA.default.discard({stmtId:e}),t,!0)},fA.prototype._noOp=function(){},fA.prototype.requestRoutingInformation=function(e){var t,r=e.routingContext,n=e.databaseName,n=void 0===n?null:n,o=e.sessionContext,o=void 0===o?{}:o,i=e.onError,e=e.onCompleted,r=this.run(lA,((t={})[sA]=void 0===r?{}:r,t[cA]=n,t),$R($R({},o),{txConfig:aA.empty()}));return new rA.ProcedureRouteObserver({resultObserver:r,onProtocolError:this._onProtocolError,onError:i,onCompleted:e})},fA);function fA(){return null!==QR&&QR.apply(this,arguments)||this}I0.default=X0;var pA,dA,b={},og={},hA=r&&r.__assign||function(){return(hA=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qy=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},sg=(Object.defineProperty(og,"__esModule",{value:!0}),qy(R0)),Mc=(og.default=hA({},sg.default),r&&r.__extends||(pA=function(e,t){return(pA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}pA(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),dg=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},vl=(Object.defineProperty(b,"__esModule",{value:!0}),dg(I0)),bA=dg(p),yA=R,Gh=e,_A=ry,vA=dg(og),mA=dg(Vv),gA=Gh.internal.constants.BOLT_PROTOCOL_V4_1,n=(dA=vl.default,Mc(OA,dA),Object.defineProperty(OA.prototype,"version",{get:function(){return gA},enumerable:!1,configurable:!0}),Object.defineProperty(OA.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new mA.default(Object.values(vA.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),OA.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=(e.boltAgent,e.authToken),o=e.notificationFilter,i=e.onError,u=e.onComplete,e=new yA.LoginObserver({onError:function(e){return t._onLoginError(e,i)},onCompleted:function(e){return t._onLoginCompleted(e,n,u)}});return(0,_A.assertNotificationFilterIsEmpty)(o,this._onProtocolError,e),this.write(bA.default.hello(r,n,this._serversideRouting),e,!0),e},OA);function OA(e,t,r,n,o,i,u){e=dA.call(this,e,t,r,n=void 0===n?function(){return null}:n,o,i)||this;return e._serversideRouting=u,e}b.default=n;var wA,EA,Pg={},Ig={},PA=r&&r.__assign||function(){return(PA=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},il=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},X=(Object.defineProperty(Ig,"__esModule",{value:!0}),il(og)),Xg=(Ig.default=PA({},X.default),r&&r.__extends||(wA=function(e,t){return(wA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}wA(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),m=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},_=(Object.defineProperty(Pg,"__esModule",{value:!0}),m(b)),C=e,SA=m(Ig),TA=m(Vv),jA=C.internal.constants.BOLT_PROTOCOL_V4_2,t=(EA=_.default,Xg(CA,EA),Object.defineProperty(CA.prototype,"version",{get:function(){return jA},enumerable:!1,configurable:!0}),Object.defineProperty(CA.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new TA.default(Object.values(SA.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),CA);function CA(){return null!==EA&&EA.apply(this,arguments)||this}Pg.default=t;var Dr={},o={},IA=r&&r.__assign||function(){return(IA=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},qr=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},P=(Object.defineProperty(o,"__esModule",{value:!0}),qr(Ig)),ks=(o.default=IA({},P.default),{}),us={},RA=r&&r.__assign||function(){return(RA=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Gs=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},qs=(Object.defineProperty(us,"__esModule",{value:!0}),Gs(o)),AA=(us.default=RA({},qs.default),r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u}),h=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},kA=(Object.defineProperty(ks,"__esModule",{value:!0}),z_),MA=e,NA=h(us),xA=lm,DA=Wy,UA=MA.internal.temporalUtil.localDateTimeToEpochSecond;var LA=new Map;function FA(e,t,r){e=e,LA.has(e)||(n=new Intl.DateTimeFormat("en-US",{timeZone:e,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),LA.set(e,n));var n=LA.get(e),e=(0,MA.int)(t).multiply(1e3).add((0,MA.int)(r).div(1e6)).toNumber(),r=n.formatToParts(e).reduce(function(e,t){return"era"===t.type?e.adjustEra="B"===t.value.toUpperCase()?function(e){return e.subtract(1).negate()}:DA.identity:"hour"===t.type?e.hour=(0,MA.int)(t.value).modulo(24):"literal"!==t.type&&(e[t.type]=(0,MA.int)(t.value)),e},{}),e=(r.year=r.adjustEra(r.year),UA(r.year,r.month,r.day,r.hour,r.minute,r.second,r.nanosecond));return r.timeZoneOffsetSeconds=e.subtract(t),r.hour=r.hour.modulo(24),r}function BA(e,t,r){if(!t&&!r)return e;var n,o,i,u=Object.create(Object.getPrototypeOf(e));for(n in e)!0===Object.prototype.hasOwnProperty.call(e,n)&&(o=e[n],u[n]=(0,MA.isInt)(o)?(i=o,r?i.toBigInt():i.toNumberOrInfinity()):o);return Object.freeze(u),u}ks.default={createDateTimeWithZoneIdTransformer:function(e,u){var n=e.disableLosslessIntegers,o=e.useBigInt;return NA.default.createDateTimeWithZoneIdTransformer(e).extendsWith({signature:105,fromStructure:function(e){kA.structure.verifyStructSize("DateTimeWithZoneId",3,e.size);var e=AA(e.fields,3),t=e[0],r=e[1],e=e[2],t=FA(e,t,r);return BA(new MA.DateTime(t.year,t.month,t.day,t.hour,t.minute,t.second,(0,MA.int)(r),t.timeZoneOffsetSeconds,e),n,o)},toStructure:function(e){var t=UA(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=null!=e.timeZoneOffsetSeconds?e.timeZoneOffsetSeconds:(r=e.timeZoneId,i=t,o=e.nanosecond,n=FA(r,i,o),n=UA(n.year,n.month,n.day,n.hour,n.minute,n.second,o).subtract(i),i=i.subtract(n),n=FA(r,i,o),UA(n.year,n.month,n.day,n.hour,n.minute,n.second,o).subtract(i)),n=(null==e.timeZoneOffsetSeconds&&u.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.'),t.subtract(r)),o=(0,MA.int)(e.nanosecond),i=e.timeZoneId;return new kA.structure.Structure(105,[n,o,i])}})},createDateTimeWithOffsetTransformer:function(e){var n=e.disableLosslessIntegers,o=e.useBigInt;return NA.default.createDateTimeWithOffsetTransformer(e).extendsWith({signature:73,toStructure:function(e){var t=UA(e.year,e.month,e.day,e.hour,e.minute,e.second,e.nanosecond),r=(0,MA.int)(e.nanosecond),e=(0,MA.int)(e.timeZoneOffsetSeconds),t=t.subtract(e);return new kA.structure.Structure(73,[t,r,e])},fromStructure:function(e){kA.structure.verifyStructSize("DateTimeWithZoneOffset",3,e.size);var e=AA(e.fields,3),t=e[0],r=e[1],e=e[2],t=(0,MA.int)(t).add(e),t=(0,xA.epochSecondAndNanoToLocalDateTime)(t,r);return BA(new MA.DateTime(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond,e,null),n,o)}})}};var WA,qA,as=r&&r.__extends||(WA=function(e,t){return(WA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}WA(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),zA=r&&r.__assign||function(){return(zA=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},hs=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Q=(Object.defineProperty(Dr,"__esModule",{value:!0}),hs(Pg)),VA=hs(p),HA=R,GA=ry,YA=hs(o),KA=hs(ks),ZA=hs(Vv),XA=e.internal.bookmarks.Bookmarks,QA=e.internal.constants.BOLT_PROTOCOL_V4_3,T=(qA=Q.default,as(JA,qA),Object.defineProperty(JA.prototype,"version",{get:function(){return QA},enumerable:!1,configurable:!0}),Object.defineProperty(JA.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new ZA.default(Object.values(YA.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),JA.prototype.requestRoutingInformation=function(e){var t=e.routingContext,t=void 0===t?{}:t,r=e.databaseName,r=void 0===r?null:r,n=e.sessionContext,n=void 0===n?{}:n,o=e.onError,e=e.onCompleted,o=new HA.RouteObserver({onProtocolError:this._onProtocolError,onError:o,onCompleted:e}),e=n.bookmarks||XA.empty();return this.write(VA.default.route(t,e.values(),r),o,!0),o},JA.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=(e.boltAgent,e.authToken),o=e.notificationFilter,i=e.onError,u=e.onComplete,e=new HA.LoginObserver({onError:function(e){return t._onLoginError(e,i)},onCompleted:function(e){return void 0!==e.patch_bolt&&t._applyPatches(e.patch_bolt),t._onLoginCompleted(e,n,u)}});return(0,GA.assertNotificationFilterIsEmpty)(o,this._onProtocolError,e),this.write(VA.default.hello(r,n,this._serversideRouting,["utc"]),e,!0),e},JA.prototype._applyPatches=function(e){e.includes("utc")&&this._applyUtcPatch()},JA.prototype._applyUtcPatch=function(){var t=this;this._transformer=new ZA.default(Object.values(zA(zA({},YA.default),KA.default)).map(function(e){return e(t._config,t._log)}))},JA);function JA(){return null!==qA&&qA.apply(this,arguments)||this}Dr.default=T;var $A,ek,jc={},jl=r&&r.__extends||($A=function(e,t){return($A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}$A(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),tk=r&&r.__assign||function(){return(tk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qe=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},gc=(Object.defineProperty(jc,"__esModule",{value:!0}),Qe(Dr)),hl=e,rk=Qe(p),nk=R,ok=ry,ik=Qe(us),uk=Qe(ks),ak=Qe(Vv),wc=hl.internal.constants,sk=wc.BOLT_PROTOCOL_V4_4,ck=wc.FETCH_ALL,lk=hl.internal.bookmarks.Bookmarks,Cc=(ek=gc.default,jl(fk,ek),Object.defineProperty(fk.prototype,"version",{get:function(){return sk},enumerable:!1,configurable:!0}),Object.defineProperty(fk.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new ak.default(Object.values(ik.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),fk.prototype.requestRoutingInformation=function(e){var t=e.routingContext,t=void 0===t?{}:t,r=e.databaseName,r=void 0===r?null:r,n=e.impersonatedUser,n=void 0===n?null:n,o=e.sessionContext,o=void 0===o?{}:o,i=e.onError,e=e.onCompleted,i=new nk.RouteObserver({onProtocolError:this._onProtocolError,onError:i,onCompleted:e}),e=o.bookmarks||lk.empty();return this.write(rk.default.routeV4x4(t,e.values(),{databaseName:r,impersonatedUser:n}),i,!0),i},fk.prototype.run=function(e,t,r){var r=void 0===r?{}:r,n=r.bookmarks,o=r.txConfig,i=r.database,u=r.mode,a=r.impersonatedUser,s=r.notificationFilter,c=r.beforeKeys,l=r.afterKeys,f=r.beforeError,p=r.afterError,d=r.beforeComplete,h=r.afterComplete,b=r.flush,b=void 0===b||b,y=r.reactive,y=void 0!==y&&y,_=r.fetchSize,_=void 0===_?ck:_,v=r.highRecordWatermark,v=void 0===v?Number.MAX_VALUE:v,r=r.lowRecordWatermark,r=void 0===r?Number.MAX_VALUE:r,c=new nk.ResultStreamObserver({server:this._server,reactive:y,fetchSize:_,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:d,afterComplete:h,highRecordWatermark:v,lowRecordWatermark:r}),l=((0,ok.assertNotificationFilterIsEmpty)(s,this._onProtocolError,c),y);return this.write(rk.default.runWithMetadata(e,t,{bookmarks:n,txConfig:o,database:i,mode:u,impersonatedUser:a}),c,l&&b),y||this.write(rk.default.pull({n:_}),c,b),c},fk.prototype.beginTransaction=function(e){var e=void 0===e?{}:e,t=e.bookmarks,r=e.txConfig,n=e.database,o=e.mode,i=e.impersonatedUser,u=e.notificationFilter,a=e.beforeError,s=e.afterError,c=e.beforeComplete,e=e.afterComplete,a=new nk.ResultStreamObserver({server:this._server,beforeError:a,afterError:s,beforeComplete:c,afterComplete:e});return a.prepareToHandleSingleResponse(),(0,ok.assertNotificationFilterIsEmpty)(u,this._onProtocolError,a),this.write(rk.default.begin({bookmarks:t,txConfig:r,database:n,mode:o,impersonatedUser:i}),a,!0),a},fk.prototype._applyUtcPatch=function(){var t=this;this._transformer=new ak.default(Object.values(tk(tk({},ik.default),uk.default)).map(function(e){return e(t._config,t._log)}))},fk);function fk(){return null!==ek&&ek.apply(this,arguments)||this}jc.default=Cc;var Ar={},Sc={},pk=r&&r.__assign||function(){return(pk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},dk=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},kf=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},hk=(Object.defineProperty(Sc,"__esModule",{value:!0}),z_),bk=e,yk=kf(us),Ff=kf(ks);Sc.default=pk(pk(pk({},yk.default),Ff.default),{createNodeTransformer:function(e){return yk.default.createNodeTransformer(e).extendsWith({fromStructure:function(e){hk.structure.verifyStructSize("Node",4,e.size);var e=dk(e.fields,4),t=e[0],r=e[1],n=e[2],e=e[3];return new bk.Node(t,r,n,e)}})},createRelationshipTransformer:function(e){return yk.default.createRelationshipTransformer(e).extendsWith({fromStructure:function(e){hk.structure.verifyStructSize("Relationship",8,e.size);var e=dk(e.fields,8),t=e[0],r=e[1],n=e[2],o=e[3],i=e[4],u=e[5],a=e[6],e=e[7];return new bk.Relationship(t,r,n,o,i,u,a,e)}})},createUnboundRelationshipTransformer:function(e){return yk.default.createUnboundRelationshipTransformer(e).extendsWith({fromStructure:function(e){hk.structure.verifyStructSize("UnboundRelationship",4,e.size);var e=dk(e.fields,4),t=e[0],r=e[1],n=e[2],e=e[3];return new bk.UnboundRelationship(t,r,n,e)}})}});var _k,vk,mc=r&&r.__extends||(_k=function(e,t){return(_k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}_k(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),gl=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=(Object.defineProperty(Ar,"__esModule",{value:!0}),gl(jc)),mk=ry,gk=gl(Sc),Ok=gl(Vv),wk=gl(p),Ek=R,Pk=e.internal.constants.BOLT_PROTOCOL_V5_0,dd=(vk=l.default,mc(Sk,vk),Object.defineProperty(Sk.prototype,"version",{get:function(){return Pk},enumerable:!1,configurable:!0}),Object.defineProperty(Sk.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new Ok.default(Object.values(gk.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),Sk.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=(e.boltAgent,e.authToken),o=e.notificationFilter,i=e.onError,u=e.onComplete,e=new Ek.LoginObserver({onError:function(e){return t._onLoginError(e,i)},onCompleted:function(e){return t._onLoginCompleted(e,n,u)}});return(0,mk.assertNotificationFilterIsEmpty)(o,this._onProtocolError,e),this.write(wk.default.hello(r,n,this._serversideRouting),e,!0),e},Sk);function Sk(){return null!==vk&&vk.apply(this,arguments)||this}Ar.default=dd;var Tk,jk,Od={},Ed={},Ck=r&&r.__assign||function(){return(Ck=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ud=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},vc=(Object.defineProperty(Ed,"__esModule",{value:!0}),Ud(Sc)),Ad=(Ed.default=Ck({},vc.default),r&&r.__extends||(Tk=function(e,t){return(Tk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Tk(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),Ik=r&&r.__assign||function(){return(Ik=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$p=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Bd=(Object.defineProperty(Od,"__esModule",{value:!0}),$p(Ar)),Rk=ry,Ak=$p(Ed),kk=$p(Vv),Mk=$p(p),Nk=R,xk=e.internal.constants.BOLT_PROTOCOL_V5_1,_c=(jk=Bd.default,Ad(Dk,jk),Object.defineProperty(Dk.prototype,"version",{get:function(){return xk},enumerable:!1,configurable:!0}),Object.defineProperty(Dk.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new kk.default(Object.values(Ak.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(Dk.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),Dk.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=(e.boltAgent,e.authToken),o=e.notificationFilter,i=e.onError,u=e.onComplete,a={},e=new Nk.LoginObserver({onError:function(e){return t._onLoginError(e,i)},onCompleted:function(e){return a.metadata=e,t._onLoginCompleted(e)}});return(0,Rk.assertNotificationFilterIsEmpty)(o,this._onProtocolError,e),this.write(Mk.default.hello5x1(r,this._serversideRouting),e,!1),this.logon({authToken:n,onComplete:function(e){return u(Ik(Ik({},e),a.metadata))},onError:i,flush:!0})},Dk.prototype.logon=function(e){var t=this,e=void 0===e?{}:e,r=e.authToken,n=e.onComplete,o=e.onError,e=e.flush,i=new Nk.LoginObserver({onCompleted:function(){return t._onLoginCompleted(null,r,n)},onError:function(e){return t._onLoginError(e,o)}});return this.write(Mk.default.logon(r),i,e),i},Dk.prototype.logoff=function(e){var e=void 0===e?{}:e,t=e.onComplete,r=e.onError,e=e.flush,t=new Nk.LogoffObserver({onCompleted:t,onError:r});return this.write(Mk.default.logoff(),t,e),t},Dk);function Dk(){return null!==jk&&jk.apply(this,arguments)||this}Od.default=_c;var Uk,Lk,y={},pd={},Fk=r&&r.__assign||function(){return(Fk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Pp=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Vd=(Object.defineProperty(pd,"__esModule",{value:!0}),Pp(Ed)),$d=(pd.default=Fk({},Vd.default),r&&r.__extends||(Uk=function(e,t){return(Uk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Uk(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),Bk=r&&r.__assign||function(){return(Bk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},j=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},E=(Object.defineProperty(y,"__esModule",{value:!0}),j(Od)),Wk=j(pd),qk=j(Vv),zk=j(p),Vk=R,I=e.internal.constants,Hk=I.BOLT_PROTOCOL_V5_2,Gk=I.FETCH_ALL,Pd=(Lk=E.default,$d(Yk,Lk),Object.defineProperty(Yk.prototype,"version",{get:function(){return Hk},enumerable:!1,configurable:!0}),Object.defineProperty(Yk.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new qk.default(Object.values(Wk.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(Yk.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),Yk.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=(e.boltAgent,e.authToken),o=e.notificationFilter,i=e.onError,u=e.onComplete,a={},e=new Vk.LoginObserver({onError:function(e){return t._onLoginError(e,i)},onCompleted:function(e){return a.metadata=e,t._onLoginCompleted(e)}});return this.write(zk.default.hello5x2(r,o,this._serversideRouting),e,!1),this.logon({authToken:n,onComplete:function(e){return u(Bk(Bk({},e),a.metadata))},onError:i,flush:!0})},Yk.prototype.beginTransaction=function(e){var e=void 0===e?{}:e,t=e.bookmarks,r=e.txConfig,n=e.database,o=e.mode,i=e.impersonatedUser,u=e.notificationFilter,a=e.beforeError,s=e.afterError,c=e.beforeComplete,e=e.afterComplete,a=new Vk.ResultStreamObserver({server:this._server,beforeError:a,afterError:s,beforeComplete:c,afterComplete:e});return a.prepareToHandleSingleResponse(),this.write(zk.default.begin({bookmarks:t,txConfig:r,database:n,mode:o,impersonatedUser:i,notificationFilter:u}),a,!0),a},Yk.prototype.run=function(e,t,r){var r=void 0===r?{}:r,n=r.bookmarks,o=r.txConfig,i=r.database,u=r.mode,a=r.impersonatedUser,s=r.notificationFilter,c=r.beforeKeys,l=r.afterKeys,f=r.beforeError,p=r.afterError,d=r.beforeComplete,h=r.afterComplete,b=r.flush,b=void 0===b||b,y=r.reactive,y=void 0!==y&&y,_=r.fetchSize,_=void 0===_?Gk:_,v=r.highRecordWatermark,v=void 0===v?Number.MAX_VALUE:v,r=r.lowRecordWatermark,r=void 0===r?Number.MAX_VALUE:r,c=new Vk.ResultStreamObserver({server:this._server,reactive:y,fetchSize:_,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:d,afterComplete:h,highRecordWatermark:v,lowRecordWatermark:r}),l=y;return this.write(zk.default.runWithMetadata(e,t,{bookmarks:n,txConfig:o,database:i,mode:u,impersonatedUser:a,notificationFilter:s}),c,l&&b),y||this.write(zk.default.pull({n:_}),c,b),c},Yk);function Yk(){return null!==Lk&&Lk.apply(this,arguments)||this}y.default=Pd;var Kk,Zk,oh={},sh={},Xk=r&&r.__assign||function(){return(Xk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fc=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},vh=(Object.defineProperty(sh,"__esModule",{value:!0}),fc(pd)),eh=(sh.default=Xk({},vh.default),r&&r.__extends||(Kk=function(e,t){return(Kk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Kk(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),Qk=r&&r.__assign||function(){return(Qk=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},jh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},dh=(Object.defineProperty(oh,"__esModule",{value:!0}),jh(y)),Jk=jh(sh),$k=jh(Vv),eM=jh(p),tM=R,rM=e.internal.constants.BOLT_PROTOCOL_V5_3,xh=(Zk=dh.default,eh(nM,Zk),Object.defineProperty(nM.prototype,"version",{get:function(){return rM},enumerable:!1,configurable:!0}),Object.defineProperty(nM.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new $k.default(Object.values(Jk.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),nM.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=e.boltAgent,o=e.authToken,i=e.notificationFilter,u=e.onError,a=e.onComplete,s={},e=new tM.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return s.metadata=e,t._onLoginCompleted(e)}});return this.write(eM.default.hello5x3(r,n,i,this._serversideRouting),e,!1),this.logon({authToken:o,onComplete:function(e){return a(Qk(Qk({},e),s.metadata))},onError:u,flush:!0})},nM);function nM(){return null!==Zk&&Zk.apply(this,arguments)||this}oh.default=xh;var oM,iM,Vh={},cb={},uM=r&&r.__assign||function(){return(uM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Hh=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},bf=(Object.defineProperty(cb,"__esModule",{value:!0}),Hh(sh)),Pb=(cb.default=uM({},bf.default),r&&r.__extends||(oM=function(e,t){return(oM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}oM(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),Jf=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},jb=(Object.defineProperty(Vh,"__esModule",{value:!0}),Jf(oh)),aM=Jf(cb),sM=Jf(p),cM=R,lM=Jf(Vv),fM=e.internal.constants.BOLT_PROTOCOL_V5_4,Nf=(iM=jb.default,Pb(pM,iM),Object.defineProperty(pM.prototype,"version",{get:function(){return fM},enumerable:!1,configurable:!0}),Object.defineProperty(pM.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new lM.default(Object.values(aM.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),pM.prototype.telemetry=function(e,t){var e=e.api,t=void 0===t?{}:t,r=t.onError,t=t.onCompleted,t=new cM.TelemetryObserver({onCompleted:t,onError:r});return this.write(sM.default.telemetry({api:e}),t,!1),t},pM);function pM(){return null!==iM&&iM.apply(this,arguments)||this}Vh.default=Nf;var dM,hM,Cb={},_p={},bM=r&&r.__assign||function(){return(bM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Fb=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},hd=(Object.defineProperty(_p,"__esModule",{value:!0}),Fb(cb)),Bh=(_p.default=bM({},hd.default),r&&r.__extends||(dM=function(e,t){return(dM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}dM(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),yM=r&&r.__assign||function(){return(yM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},yc=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},sb=(Object.defineProperty(Cb,"__esModule",{value:!0}),yc(Vh)),_M=yc(_p),vM=yc(Vv),mM=yc(p),gM=R,Lb=e.internal.constants,OM=Lb.BOLT_PROTOCOL_V5_5,wM=Lb.FETCH_ALL,EM=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),Iy=(hM=sb.default,Bh(PM,hM),Object.defineProperty(PM.prototype,"version",{get:function(){return OM},enumerable:!1,configurable:!0}),Object.defineProperty(PM.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new vM.default(Object.values(_M.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),PM.prototype.initialize=function(e){var t=this,e=void 0===e?{}:e,r=e.userAgent,n=e.boltAgent,o=e.authToken,i=e.notificationFilter,u=e.onError,a=e.onComplete,s={},e=new gM.LoginObserver({onError:function(e){return t._onLoginError(e,u)},onCompleted:function(e){return s.metadata=e,t._onLoginCompleted(e)}});return this.write(mM.default.hello5x5(r,n,i,this._serversideRouting),e,!1),this.logon({authToken:o,onComplete:function(e){return a(yM(yM({},e),s.metadata))},onError:u,flush:!0})},PM.prototype.beginTransaction=function(e){var e=void 0===e?{}:e,t=e.bookmarks,r=e.txConfig,n=e.database,o=e.mode,i=e.impersonatedUser,u=e.notificationFilter,a=e.beforeError,s=e.afterError,c=e.beforeComplete,e=e.afterComplete,a=new gM.ResultStreamObserver({server:this._server,beforeError:a,afterError:s,beforeComplete:c,afterComplete:e});return a.prepareToHandleSingleResponse(),this.write(mM.default.begin5x5({bookmarks:t,txConfig:r,database:n,mode:o,impersonatedUser:i,notificationFilter:u}),a,!0),a},PM.prototype.run=function(e,t,r){var r=void 0===r?{}:r,n=r.bookmarks,o=r.txConfig,i=r.database,u=r.mode,a=r.impersonatedUser,s=r.notificationFilter,c=r.beforeKeys,l=r.afterKeys,f=r.beforeError,p=r.afterError,d=r.beforeComplete,h=r.afterComplete,b=r.flush,b=void 0===b||b,y=r.reactive,y=void 0!==y&&y,_=r.fetchSize,_=void 0===_?wM:_,v=r.highRecordWatermark,v=void 0===v?Number.MAX_VALUE:v,r=r.lowRecordWatermark,r=void 0===r?Number.MAX_VALUE:r,c=new gM.ResultStreamObserver({server:this._server,reactive:y,fetchSize:_,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:c,afterKeys:l,beforeError:f,afterError:p,beforeComplete:d,afterComplete:h,highRecordWatermark:v,lowRecordWatermark:r,enrichMetadata:this._enrichMetadata}),l=y;return this.write(mM.default.runWithMetadata5x5(e,t,{bookmarks:n,txConfig:o,database:i,mode:u,impersonatedUser:a,notificationFilter:s}),c,l&&b),y||this.write(mM.default.pull({n:_}),c,b),c},PM.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return yM(yM({},e),{description:null!=e.neo4j_code?e.status_description:e.description,diagnostic_record:null!==e.diagnostic_record?yM(yM({},EM),e.diagnostic_record):null})})),e},PM);function PM(){return null!==hM&&hM.apply(this,arguments)||this}Cb.default=Iy;var SM,TM,Sy={},Ny=r&&r.__extends||(SM=function(e,t){return(SM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}SM(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),jM=r&&r.__assign||function(){return(jM=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n_=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Jy=(Object.defineProperty(Sy,"__esModule",{value:!0}),n_(Cb)),CM=n_(_p),IM=n_(Vv),RM=e.internal.constants.BOLT_PROTOCOL_V5_6,AM=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),a_=(TM=Jy.default,Ny(kM,TM),Object.defineProperty(kM.prototype,"version",{get:function(){return RM},enumerable:!1,configurable:!0}),Object.defineProperty(kM.prototype,"transformer",{get:function(){var t=this;return void 0===this._transformer&&(this._transformer=new IM.default(Object.values(CM.default).map(function(e){return e(t._config,t._log)}))),this._transformer},enumerable:!1,configurable:!0}),kM.prototype._enrichMetadata=function(e){return Array.isArray(e.statuses)&&(e.statuses=e.statuses.map(function(e){return jM(jM({},e),{diagnostic_record:null!==e.diagnostic_record?jM(jM({},AM),e.diagnostic_record):null})})),e},kM);function kM(){return null!==TM&&TM.apply(this,arguments)||this}Sy.default=a_;var Sd={},MM=(Object.defineProperty(Sd,"__esModule",{value:!0}),e);function NM(){}function xM(e){return e}var DM={onNext:NM,onCompleted:NM,onError:NM};function UM(e){var e=void 0===e?{}:e,t=e.transformMetadata,r=e.log,e=e.observer;this._pendingObservers=[],this._log=r,this._transformMetadata=t||xM,this._observer=Object.assign({onObserversCountChange:NM,onError:NM,onFailure:NM,onErrorApplyTransformation:xM},e)}Object.defineProperty(UM.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),UM.prototype.handleResponse=function(e){var t=e.fields[0];switch(e.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(MM.json.stringify(e))),this._currentObserver.onNext(t);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(MM.json.stringify(e)));try{var r=this._transformMetadata(t);this._currentObserver.onCompleted(r)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(MM.json.stringify(e)));try{var n=function(e){{if("Neo.TransientError.Transaction.Terminated"===e)return"Neo.ClientError.Transaction.Terminated";if("Neo.TransientError.Transaction.LockClientStopped"===e)return"Neo.ClientError.Transaction.LockClientStopped"}return e}(t.code),o=(0,MM.newError)(t.message,n);this._currentFailure=this._observer.onErrorApplyTransformation(o),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(MM.json.stringify(e)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,MM.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,MM.newError)("Unknown Bolt protocol message: "+e))}},UM.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(UM.prototype,"_observersCount",{get:function(){return null==this._currentObserver?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),UM.prototype._queueObserver=function(e){return(e=e||DM).onCompleted=e.onCompleted||NM,e.onError=e.onError||NM,e.onNext=e.onNext||NM,void 0===this._currentObserver?this._currentObserver=e:this._pendingObservers.push(e),this._observer.onObserversCountChange(this._observersCount),!0},UM.prototype._notifyErrorToObservers=function(e){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(e);0<this._pendingObservers.length;){var t=this._pendingObservers.shift();t&&t.onError&&t.onError(e)}},UM.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||0<this._pendingObservers.length},UM.prototype._resetFailure=function(){this._currentFailure=null},Sd.default=UM;var LM,v_=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},FM=(Object.defineProperty(Yb,"__esModule",{value:!0}),e),BM=v_(Jb),WM=v_(om),qM=v_(r0),zM=v_(I0),VM=v_(b),HM=v_(Pg),GM=v_(Dr),YM=v_(jc),KM=v_(Ar),ZM=v_(Od),XM=v_(y),QM=v_(oh),JM=v_(Vh),$M=v_(Cb),e2=v_(Sy),t2=v_(Sd);Yb.default=function(e){var t=(e=void 0===e?{}:e).version,r=e.chunker,n=e.dechunker,o=e.channel,i=e.disableLosslessIntegers,u=e.useBigInt,a=e.serversideRouting,s=e.server,c=e.log,l=e.observer,f=t,p=s,d=r,h={disableLosslessIntegers:i,useBigInt:u},b=a,y=function(t){var r=new t2.default({transformMetadata:t.transformMetadata.bind(t),log:c,observer:l});return o.onerror=l.onError.bind(l),o.onmessage=function(e){return n.write(e)},n.onmessage=function(e){try{r.handleResponse(t.unpack(e))}catch(e){return l.onError(e)}},r},_=l.onProtocolError.bind(l),v=c;switch(f){case 1:return new BM.default(p,d,h,y,v,_);case 2:return new WM.default(p,d,h,y,v,_);case 3:return new qM.default(p,d,h,y,v,_);case 4:return new zM.default(p,d,h,y,v,_);case 4.1:return new VM.default(p,d,h,y,v,_,b);case 4.2:return new HM.default(p,d,h,y,v,_,b);case 4.3:return new GM.default(p,d,h,y,v,_,b);case 4.4:return new YM.default(p,d,h,y,v,_,b);case 5:return new KM.default(p,d,h,y,v,_,b);case 5.1:return new ZM.default(p,d,h,y,v,_,b);case 5.2:return new XM.default(p,d,h,y,v,_,b);case 5.3:return new QM.default(p,d,h,y,v,_,b);case 5.4:return new JM.default(p,d,h,y,v,_,b);case 5.5:return new $M.default(p,d,h,y,v,_,b);case 5.6:return new e2.default(p,d,h,y,v,_,b);default:throw(0,FM.newError)("Unknown Bolt protocol version: "+f)}},g_=w,LM=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),P_=r&&r.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||LM(t,e,r)},j_=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(g_,"__esModule",{value:!0}),g_.RawRoutingTable=g_.BoltProtocol=void 0,b_=j_(Qf),N_=j_(Yb),ly=j_(Dr),j_=j_(iy),P_(R,g_),g_.BoltProtocol=ly.default,g_.RawRoutingTable=j_.default,g_.default={handshake:b_.default,create:N_.default};var r2,u_={},s_={},B_=r&&r.__extends||(r2=function(e,t){return(r2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}r2(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(s_,"__esModule",{value:!0});B_(o2,n2=e.ConnectionProvider),o2.prototype.acquireConnection=function(e){e=void 0===e?{}:e,e.accessMode,e.database,e.bookmarks,e=this._connection;return this._connection=null,Promise.resolve(e)};var n2,tv=o2;function o2(e){var t=n2.call(this)||this;return t._connection=e,t}s_.default=tv;var i2,$f={},ep={},sv={},bv=r&&r.__extends||(i2=function(e,t){return(i2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i2(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(sv,"__esModule",{value:!0});bv(a2,u2=e.Connection),Object.defineProperty(a2.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a2.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a2.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a2.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a2.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a2.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),a2.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(a2.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a2.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(e){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a2.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),a2.prototype.connect=function(e,t,r,n){throw new Error("not implemented")},a2.prototype.write=function(e,t,r){throw new Error("not implemented")},a2.prototype.close=function(){throw new Error("not implemented")},a2.prototype.handleAndTransformError=function(e,t){return this._errorHandler?this._errorHandler.handleAndTransformError(e,t,this):e};var u2,cv=a2;function a2(e){var t=u2.call(this)||this;return t._errorHandler=e,t}sv.default=cv;var s2,yf={},tp=r&&r.__extends||(s2=function(e,t){return(s2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s2(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c2=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},l2=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},iv=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},f2=(Object.defineProperty(yf,"__esModule",{value:!0}),yf.createChannelConnection=void 0,yp),p2=e,pv=iv(sv),d2=iv(w),h2=p2.error.PROTOCOL_ERROR,b2=p2.internal.logger.Logger,y2=0;yf.createChannelConnection=function(i,u,a,s,e,c,t){void 0===c&&(c=null);var l=(t=void 0===t?function(e){return new f2.Channel(e)}:t)(new f2.ChannelConfig(i,u,a.errorCode(),e));return d2.default.handshake(l,s).then(function(e){var r=e.protocolVersion,e=e.consumeRemainingBuffer,n=new f2.Chunker(l),o=new f2.Dechunker,t=new v2(l,a,i,s,u.disableLosslessIntegers,c,n,u.notificationFilter,function(t){return d2.default.create({version:r,channel:l,chunker:n,dechunker:o,disableLosslessIntegers:u.disableLosslessIntegers,useBigInt:u.useBigInt,serversideRouting:c,server:t.server,log:t.logger,observer:{onObserversCountChange:t._handleOngoingRequestsNumberChange.bind(t),onError:t._handleFatalError.bind(t),onFailure:t._resetOnFailure.bind(t),onProtocolError:t._handleProtocolError.bind(t),onErrorApplyTransformation:function(e){return t.handleAndTransformError(e,t._address)}}})},u.telemetryDisabled);return e(function(e){return o.write(e)}),t}).catch(function(e){return l.close().then(function(){throw e})})};_2=pv.default,tp(m2,_2),m2.prototype.beginTransaction=function(e){return this._sendTelemetryIfEnabled(e),this._protocol.beginTransaction(e)},m2.prototype.run=function(e,t,r){return this._sendTelemetryIfEnabled(r),this._protocol.run(e,t,r)},m2.prototype._sendTelemetryIfEnabled=function(e){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||null==e||null==e.apiTelemetryConfig||this._protocol.telemetry({api:e.apiTelemetryConfig.api},{onCompleted:e.apiTelemetryConfig.onTelemetrySuccess,onError:e.beforeError})},m2.prototype.commitTransaction=function(e){return this._protocol.commitTransaction(e)},m2.prototype.rollbackTransaction=function(e){return this._protocol.rollbackTransaction(e)},m2.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(m2.prototype,"authToken",{get:function(){return this._authToken},set:function(e){this._authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(e){this._dbConnectionId=e},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(e){this._idleTimestamp=e},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),m2.prototype.connect=function(t,n,o,i){return c2(this,void 0,void 0,function(){var r=this;return l2(this,function(e){switch(e.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,p2.newError)("Connection does not support re-auth");return this._authToken=o,this._protocol.initialized?[3,2]:[4,this._initialize(t,n,o)];case 1:return[2,e.sent()];case 2:return i?[4,new Promise(function(e,t){r._protocol.logoff({onError:t}),r._protocol.logon({authToken:o,onError:t,onComplete:function(){return e(r)},flush:!0})})]:[3,4];case 3:return[2,e.sent()];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:o,flush:!0}),[2,this]}})})},m2.prototype._initialize=function(e,n,o){var i=this,u=this;return new Promise(function(r,t){i._protocol.initialize({userAgent:e,boltAgent:n,authToken:o,notificationFilter:i._notificationFilter,onError:function(e){return t(e)},onComplete:function(e){var t;e&&(t=e.server,i.version&&!t||(i.version=t),t=e.connection_id,i.databaseId||(i.databaseId=t),e.hints&&(null!=(t=e.hints["connection.recv_timeout_seconds"])&&(t=(0,p2.toNumber)(t),Number.isInteger(t)&&0<t?i._ch.setupReceiveTimeout(1e3*t):i._log.info("Server located at ".concat(i._address," supplied an invalid connection receive timeout value (").concat(t,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")),!0===e.hints["telemetry.enabled"]&&(i._telemetryDisabledConnection=!1))),r(u)}})})},m2.prototype.protocol=function(){return this._protocol},Object.defineProperty(m2.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"version",{get:function(){return this._server.version},set:function(e){this._server.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(m2.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),m2.prototype._handleFatalError=function(e){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||e,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(p2.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},m2.prototype._setIdle=function(e){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(e)},m2.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},m2.prototype._queueObserver=function(e){return this._protocol.queueObserverIfProtocolIsNotBroken(e)},m2.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},m2.prototype.resetAndFlush=function(){var r=this;return new Promise(function(e,t){r._reset({onError:function(e){r._isBroken?t(e):(e=r._handleProtocolError("Received FAILURE as a response for RESET: "+e),t(e))},onComplete:function(){e()}})})},m2.prototype._resetOnFailure=function(){var e=this;this.isOpen()&&this._reset({onError:function(){e._protocol.resetFailure()},onComplete:function(){e._protocol.resetFailure()}})},m2.prototype._reset=function(t){var e,r=this;this._reseting?this._protocol.isLastMessageReset()?this._resetObservers.push(t):this._protocol.reset({onError:function(e){t.onError(e)},onComplete:function(){t.onComplete()}}):(this._resetObservers.push(t),this._reseting=!0,e=function(e){r._reseting=!1;var t=r._resetObservers;r._resetObservers=[],t.forEach(e)},this._protocol.reset({onError:function(t){e(function(e){return e.onError(t)})},onComplete:function(){e(function(e){return e.onComplete()})}}))},m2.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},m2.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},m2.prototype._handleOngoingRequestsNumberChange=function(e){this._idle||(0===e?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},m2.prototype.close=function(){return c2(this,void 0,void 0,function(){return l2(this,function(e){switch(e.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return e.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},m2.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},m2.prototype._handleProtocolError=function(e){this._protocol.resetFailure(),this._updateCurrentObserver();e=(0,p2.newError)(e,h2);return this._handleFatalError(e),e};var _2,v2=m2;function m2(e,t,r,n,o,i,u,a,s,c){void 0===o&&(o=!1),void 0===i&&(i=null);var l,f,t=_2.call(this,t)||this;return t._authToken=null,t._idle=!1,t._reseting=!1,t._resetObservers=[],t._id=y2++,t._address=r,t._server={address:r.asHostPort()},t._creationTimestamp=Date.now(),t._disableLosslessIntegers=o,t._ch=e,t._chunker=u,t._log=(l=t,new b2((f=n)._level,function(e,t){return f._loggerFunction(e,"".concat(l," ").concat(t))})),t._serversideRouting=i,t._notificationFilter=a,t._telemetryDisabledDriverConfig=!0===c,t._telemetryDisabledConnection=!0,t._dbConnectionId=null,t._protocol=s(t),t._isBroken=!1,t._log.isDebugEnabled()&&t._log.debug("created towards ".concat(r)),t}yf.default=v2;var g2,O2,hy={},Iv=r&&r.__extends||(g2=function(e,t){return(g2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}g2(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Tv=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Mv=(Object.defineProperty(hy,"__esModule",{value:!0}),Tv(sv)),Fv=(O2=Mv.default,Iv(w2,O2),w2.prototype.beginTransaction=function(e){return this._delegate.beginTransaction(e)},w2.prototype.run=function(e,t,r){return this._delegate.run(e,t,r)},w2.prototype.commitTransaction=function(e){return this._delegate.commitTransaction(e)},w2.prototype.rollbackTransaction=function(e){return this._delegate.rollbackTransaction(e)},w2.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(w2.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(e){this._delegate.databaseId=e},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(e){this._delegate.authToken=e},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"version",{get:function(){return this._delegate.version},set:function(e){this._delegate.version=e},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(w2.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(e){this._delegate.idleTimestamp=e},enumerable:!1,configurable:!0}),w2.prototype.isOpen=function(){return this._delegate.isOpen()},w2.prototype.protocol=function(){return this._delegate.protocol()},w2.prototype.connect=function(e,t,r,n){return this._delegate.connect(e,t,r,n)},w2.prototype.write=function(e,t,r){return this._delegate.write(e,t,r)},w2.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},w2.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},w2.prototype.close=function(){return this._delegate.close()},w2.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},w2);function w2(e,t){var r=O2.call(this,t)||this;return t&&(r._originalErrorHandler=e._errorHandler,e._errorHandler=r._errorHandler),r._delegate=e,r}hy.default=Fv;S={};Object.defineProperty(S,"__esModule",{value:!0});var E2,P2,S2,T2=e.error.SERVICE_UNAVAILABLE,j2=e.error.SESSION_EXPIRED;function C2(e,t,r,n){this._errorCode=e,this._handleUnavailability=t||I2,this._handleWriteFailure=r||I2,this._handleSecurityError=n||I2}function I2(e){return e}C2.create=function(e){return new C2(e.errorCode,e.handleUnavailability,e.handleWriteFailure,e.handleSecurityError)},C2.prototype.errorCode=function(){return this._errorCode},C2.prototype.handleAndTransformError=function(e,t,r){return null!=(n=e)&&null!=n.code&&n.code.startsWith("Neo.ClientError.Security.")?this._handleSecurityError(e,t,r):function(e){if(e)return e.code===j2||e.code===T2||"Neo.TransientError.General.DatabaseUnavailable"===e.code;return}(e)?this._handleUnavailability(e,t,r):function(e){if(e)return"Neo.ClientError.Cluster.NotALeader"===e.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===e.code;return}(e)?this._handleWriteFailure(e,t,r):e;var n},S.default=C2,Kv=ep,E2=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),P2=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Qv=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&E2(t,e,r);return P2(t,e),t},em=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.createChannelConnection=Kv.ConnectionErrorHandler=Kv.DelegateConnection=Kv.ChannelConnection=Kv.Connection=void 0,f=em(sv),Kv.Connection=f.default,S2=Qv(yf),Kv.ChannelConnection=S2.default,Object.defineProperty(Kv,"createChannelConnection",{enumerable:!0,get:function(){return S2.createChannelConnection}}),Qv=em(hy),Kv.DelegateConnection=Qv.default,Qv=em(S),Kv.ConnectionErrorHandler=Qv.default,Kv.default=f.default;var ym={},R2=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},A2=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},k2=(Object.defineProperty(ym,"__esModule",{value:!0}),e),M2=Fy;function N2(e){var t=e.authTokenManager,r=e.userAgent,e=e.boltAgent;this._authTokenManager=t||(0,k2.staticAuthTokenManager)({}),this._userAgent=r,this._boltAgent=e}N2.prototype.authenticate=function(e){var r=e.connection,n=e.auth,o=e.skipReAuth,i=e.waitReAuth,u=e.forceReAuth;return R2(this,void 0,void 0,function(){var t;return A2(this,function(e){switch(e.label){case 0:return null==n?[3,3]:(t=!0===r.supportsReAuth&&(!M2.object.equals(r.authToken,n)&&!0!==o||!0===u),null==r.authToken||t?[4,r.connect(this._userAgent,this._boltAgent,n,i||!1)]:[3,2]);case 1:return[2,e.sent()];case 2:return[2,r];case 3:return[4,this._authTokenManager.getToken()];case 4:return t=e.sent(),M2.object.equals(t,r.authToken)?[3,6]:[4,r.connect(this._userAgent,this._boltAgent,t,!1)];case 5:return[2,e.sent()];case 6:return[2,r]}})})},N2.prototype.handleError=function(e){var t=e.connection,e=e.code;return!(!t||!e.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(t.authToken,e)},ym.default=N2;var Om={},x2=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},D2=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}};function U2(e){e=e.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=e}Object.defineProperty(Om,"__esModule",{value:!0}),U2.prototype.check=function(r){return x2(this,void 0,void 0,function(){var t;return D2(this,function(e){switch(e.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(r)?[2,!0]:(t=Date.now()-r.idleTimestamp,0===this._connectionLivenessCheckTimeout||t>this._connectionLivenessCheckTimeout?[4,r.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,e.sent()];case 2:return[2,!0]}})})},Object.defineProperty(U2.prototype,"_isCheckDisabled",{get:function(){return null==this._connectionLivenessCheckTimeout||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),U2.prototype._isNewlyCreatedConnection=function(e){return null==e.authToken},Om.default=U2;var qv={},L2=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},F2=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},B2=(Object.defineProperty(qv,"__esModule",{value:!0}),yp);function W2(e){var t=e.clientCertificateProvider,e=e.loader;this._clientCertificateProvider=t,this._loader=e||B2.ClientCertificatesLoader,this._clientCertificate=null}W2.prototype.getClientCertificate=function(){return L2(this,void 0,void 0,function(){var t,r,n=this;return F2(this,function(e){switch(e.label){case 0:return(t=null!=this._clientCertificateProvider)?(r=null==this._clientCertificate)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:r=e.sent(),e.label=2;case 2:t=r,e.label=3;case 3:return t&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(e){return n._clientCertificate=e,n._clientCertificate}).catch(function(e){throw n._clientCertificate=null,e})),[2,this._clientCertificate]}})})},qv.default=W2;var q2,z2,O=r&&r.__extends||(q2=function(e,t){return(q2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}q2(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),V2=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},H2=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},G2=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},Y2=r&&r.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},jm=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},K2=(Object.defineProperty($f,"__esModule",{value:!0}),ep),Z2=e,X2=jm(ym),Q2=Fy,J2=jm(Om),$2=jm(qv),eN=Z2.error.SERVICE_UNAVAILABLE,tN=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],Um=Z2.internal.pool,rN=Um.Pool,nN=Um.PoolConfig,Kh=(z2=Z2.ConnectionProvider,O(oN,z2),oN.prototype._createConnectionErrorHandler=function(){return new K2.ConnectionErrorHandler(eN)},oN.prototype._getClientCertificate=function(){return V2(this,void 0,void 0,function(){return H2(this,function(e){return[2,this._config.clientCertificate.getClientCertificate()]})})},oN.prototype._createConnection=function(e,r,n){var o=this,i=e.auth;return this._createChannelConnection(r).then(function(t){return t.release=function(){return t.idleTimestamp=Date.now(),n(r,t)},o._openConnections[t.id]=t,o._authenticationProvider.authenticate({connection:t,auth:i}).catch(function(e){throw o._destroyConnection(t),e})})},oN.prototype._validateConnectionOnAcquire=function(e,r){var n=e.auth,o=e.skipReAuth;return V2(this,void 0,void 0,function(){var t;return H2(this,function(e){switch(e.label){case 0:if(!this._validateConnection(r))return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(r)];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),this._log.debug("The connection ".concat(r.id," is not alive because of an error ").concat(t.code," '").concat(t.message,"'")),[2,!1];case 4:return e.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:r,auth:n,skipReAuth:o})];case 5:return e.sent(),[2,!0];case 6:return t=e.sent(),this._log.debug("The connection ".concat(r.id," is not valid because of an error ").concat(t.code," '").concat(t.message,"'")),[2,!1];case 7:return[2]}})})},oN.prototype._validateConnectionOnRelease=function(e){return!0!==e._sticky&&this._validateConnection(e)},oN.prototype._validateConnection=function(e){return!!e.isOpen()&&!(this._config.maxConnectionLifetime<Date.now()-e.creationTimestamp)},oN.prototype._destroyConnection=function(e){return delete this._openConnections[e.id],e.close()},oN.prototype._verifyConnectivityAndGetServerVersion=function(e){var n=e.address;return V2(this,void 0,void 0,function(){var t,r;return H2(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.acquire({},n)];case 1:t=e.sent(),r=new Z2.ServerInfo(t.server,t.protocol().version),e.label=2;case 2:return e.trys.push([2,,5,7]),t.protocol().isLastMessageLogon()?[3,4]:[4,t.resetAndFlush()];case 3:e.sent(),e.label=4;case 4:return[3,7];case 5:return[4,t.release()];case 6:return e.sent(),[7];case 7:return[2,r]}})})},oN.prototype._verifyAuthentication=function(e){var u=e.getAddress,a=e.auth;return V2(this,void 0,void 0,function(){var t,r,n,o,i;return H2(this,function(e){switch(e.label){case 0:t=[],e.label=1;case 1:return e.trys.push([1,8,9,11]),[4,u()];case 2:return r=e.sent(),[4,this._connectionPool.acquire({auth:a,skipReAuth:!0},r)];case 3:if(n=e.sent(),t.push(n),o=!n.protocol().isLastMessageLogon(),n.supportsReAuth)return o&&n.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:n,auth:a,waitReAuth:!0,forceReAuth:!0})]:[3,5];throw(0,Z2.newError)("Driver is connected to a database that does not support user switch.");case 4:return e.sent(),[3,7];case 5:return!o||n.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:a},r,{requireNew:!0})];case 6:(i=e.sent())._sticky=!0,t.push(i),e.label=7;case 7:return[2,!0];case 8:if(i=e.sent(),tN.includes(i.code))return[2,!1];throw i;case 9:return[4,Promise.all(t.map(function(e){return e.release()}))];case 10:return e.sent(),[7];case 11:return[2]}})})},oN.prototype._verifyStickyConnection=function(e){var n=e.auth,o=e.connection;return e.address,V2(this,void 0,void 0,function(){var t,r;return H2(this,function(e){switch(e.label){case 0:return(t=Q2.object.equals(n,o.authToken),r=!t,o._sticky=t&&!o.supportsReAuth,r||o._sticky)?[4,o.release()]:[3,2];case 1:throw e.sent(),(0,Z2.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},oN.prototype.close=function(){return V2(this,void 0,void 0,function(){return H2(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.close()];case 1:return e.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(e){return e.close()}))];case 2:return e.sent(),[2]}})})},oN._installIdleObserverOnConnection=function(e,t){e._setIdle(t)},oN._removeIdleObserverOnConnection=function(e){e._unsetIdle()},oN.prototype._handleSecurityError=function(e,t,r){return this._authenticationProvider.handleError({connection:r,code:e.code})&&(e.retriable=!0),"Neo.ClientError.Security.AuthorizationExpired"===e.code&&this._connectionPool.apply(t,function(e){e.authToken=null}),r&&r.close().catch(function(){}),e},oN);function oN(e,t){var r=e.id,n=e.config,o=e.log,i=e.userAgent,u=e.boltAgent,a=e.authTokenManager,e=e.newPool,e=void 0===e?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(rN.bind.apply(rN,Y2([void 0],G2(e),!1)))}:e,s=(void 0===t&&(t=null),z2.call(this)||this);return s._id=r,s._config=n,s._log=o,s._clientCertificateHolder=new $2.default({clientCertificateProvider:s._config.clientCertificate}),s._authenticationProvider=new X2.default({authTokenManager:a,userAgent:i,boltAgent:u}),s._livenessCheckProvider=new J2.default({connectionLivenessCheckTimeout:n.connectionLivenessCheckTimeout}),s._userAgent=i,s._boltAgent=u,s._createChannelConnection=t||function(n){return V2(s,void 0,void 0,function(){var t,r;return H2(this,function(e){switch(e.label){case 0:return t=K2.createChannelConnection,r=[n,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,r.concat([e.sent()]))]}})})},s._connectionPool=e({create:s._createConnection.bind(s),destroy:s._destroyConnection.bind(s),validateOnAcquire:s._validateConnectionOnAcquire.bind(s),validateOnRelease:s._validateConnectionOnRelease.bind(s),installIdleObserver:oN._installIdleObserverOnConnection.bind(s),removeIdleObserver:oN._removeIdleObserverOnConnection.bind(s),config:nN.fromDriverConfig(n),log:s._log}),s._openConnections={},s}$f.default=Kh;var iN,uN,Wm={},km=r&&r.__extends||(iN=function(e,t){return(iN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}iN(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),aN=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},sN=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},Km=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},f0=(Object.defineProperty(Wm,"__esModule",{value:!0}),Km($f)),cN=ep,Yh=e.internal.constants,lN=Yh.BOLT_PROTOCOL_V3,fN=Yh.BOLT_PROTOCOL_V4_0,pN=Yh.BOLT_PROTOCOL_V4_4,dN=Yh.BOLT_PROTOCOL_V5_1,hN=e.error.SERVICE_UNAVAILABLE,d0=(uN=f0.default,km(bN,uN),bN.prototype.acquireConnection=function(e){var e=void 0===e?{}:e,o=(e.accessMode,e.database),i=(e.bookmarks,e.auth),u=e.forceReAuth;return aN(this,void 0,void 0,function(){var t,r,n=this;return sN(this,function(e){switch(e.label){case 0:return t=cN.ConnectionErrorHandler.create({errorCode:hN,handleSecurityError:function(e,t,r){return n._handleSecurityError(e,t,r,o)}}),[4,this._connectionPool.acquire({auth:i,forceReAuth:u},this._address)];case 1:return(r=e.sent(),i)?[4,this._verifyStickyConnection({auth:i,connection:r,address:this._address})]:[3,3];case 2:return e.sent(),[2,r];case 3:return[2,new cN.DelegateConnection(r,t)]}})})},bN.prototype._handleSecurityError=function(e,t,r,n){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),uN.prototype._handleSecurityError.call(this,e,t,r)},bN.prototype._hasProtocolVersion=function(n){return aN(this,void 0,void 0,function(){var t,r;return sN(this,function(e){switch(e.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return t=e.sent(),r=t.protocol()?t.protocol().version:null,[4,t.close()];case 2:return e.sent(),r?[2,n(r)]:[2,!1]}})})},bN.prototype.supportsMultiDb=function(){return aN(this,void 0,void 0,function(){return sN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return fN<=e})];case 1:return[2,e.sent()]}})})},bN.prototype.getNegotiatedProtocolVersion=function(){var r=this;return new Promise(function(e,t){r._hasProtocolVersion(e).catch(t)})},bN.prototype.supportsTransactionConfig=function(){return aN(this,void 0,void 0,function(){return sN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return lN<=e})];case 1:return[2,e.sent()]}})})},bN.prototype.supportsUserImpersonation=function(){return aN(this,void 0,void 0,function(){return sN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return pN<=e})];case 1:return[2,e.sent()]}})})},bN.prototype.supportsSessionAuth=function(){return aN(this,void 0,void 0,function(){return sN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return dN<=e})];case 1:return[2,e.sent()]}})})},bN.prototype.verifyAuthentication=function(e){var r=e.auth;return aN(this,void 0,void 0,function(){var t=this;return sN(this,function(e){return[2,this._verifyAuthentication({auth:r,getAddress:function(){return t._address}})]})})},bN.prototype.verifyConnectivityAndGetServerInfo=function(){return aN(this,void 0,void 0,function(){return sN(this,function(e){switch(e.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,e.sent()]}})})},bN);function bN(e){var t=e.id,r=e.config,n=e.log,o=e.address,i=e.userAgent,u=e.boltAgent,a=e.authTokenManager,e=e.newPool,t=uN.call(this,{id:t,config:r,log:n,userAgent:i,boltAgent:u,authTokenManager:a,newPool:e})||this;return t._address=o,t}Wm.default=d0;var w0={},S0={},_0={},cl={},yN=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},_N=r&&r.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},vN=(Object.defineProperty(cl,"__esModule",{value:!0}),cl.createValidRoutingTable=void 0,e),D0=vN.internal.constants,mN=D0.ACCESS_MODE_WRITE,gN=D0.ACCESS_MODE_READ,ON=vN.internal.serverAddress.ServerAddress,wN=vN.error.PROTOCOL_ERROR,EN=(PN.fromRawRoutingTable=TN,PN.prototype.forget=function(e){this.readers=SN(this.readers,e),this.writers=SN(this.writers,e)},PN.prototype.forgetRouter=function(e){this.routers=SN(this.routers,e)},PN.prototype.forgetWriter=function(e){this.writers=SN(this.writers,e)},PN.prototype.isStaleFor=function(e){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||e===gN&&0===this.readers.length||e===mN&&0===this.writers.length},PN.prototype.isExpiredFor=function(e){return this.expirationTime.add(e).lessThan(Date.now())},PN.prototype.allServers=function(){return _N(_N(_N([],yN(this.routers),!1),yN(this.readers),!1),yN(this.writers),!1)},PN.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},PN);function PN(e){var e=void 0===e?{}:e,t=e.database,r=e.routers,n=e.readers,o=e.writers,i=e.expirationTime,e=e.ttl;this.database=t||null,this.databaseName=t||"default database",this.routers=r||[],this.readers=n||[],this.writers=o||[],this.expirationTime=i||(0,vN.int)(0),this.ttl=e}function SN(e,t){return e.filter(function(e){return e.asKey()!==t.asKey()})}function TN(e,t,r){var n=r.ttl,o=function(t,r){try{var e=(0,vN.int)(Date.now()),n=(0,vN.int)(t.ttl).multiply(1e3).add(e);return n.lessThan(e)?vN.Integer.MAX_VALUE:n}catch(e){throw(0,vN.newError)("Unable to parse TTL entry from router ".concat(r," from raw routing table:\n").concat(vN.json.stringify(t),"\nError message: ").concat(e.message),wN)}}(r,t),i=function(t,r){try{var n=[],o=[],i=[];return t.servers.forEach(function(e){var t=e.role,e=e.addresses;"ROUTE"===t?n=CN(e).map(function(e){return ON.fromUrl(e)}):"WRITE"===t?i=CN(e).map(function(e){return ON.fromUrl(e)}):"READ"===t&&(o=CN(e).map(function(e){return ON.fromUrl(e)}))}),{routers:n,readers:o,writers:i}}catch(e){throw(0,vN.newError)("Unable to parse servers entry from router ".concat(r," from addresses:\n").concat(vN.json.stringify(t.servers),"\nError message: ").concat(e.message),wN)}}(r,t),u=i.routers,a=i.readers,i=i.writers;return jN(u,"routers",t),jN(a,"readers",t),new EN({database:e||r.db,routers:u,readers:a,writers:i,expirationTime:o,ttl:n})}function jN(e,t,r){if(0===e.length)throw(0,vN.newError)("Received no "+t+" from router "+r,wN)}function CN(e){if(Array.isArray(e))return Array.from(e);throw new TypeError("Array expected but got: "+e)}cl.default=EN,cl.createValidRoutingTable=TN;var i0=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},IN=(Object.defineProperty(_0,"__esModule",{value:!0}),i0(cl));function RN(e){this._routingContext=e}RN.prototype.lookupRoutingTableOnRouter=function(t,r,n,o){var i=this;return t._acquireConnection(function(e){return i._requestRawRoutingTable(e,t,r,n,o).then(function(e){return e.isNull?null:IN.default.fromRawRoutingTable(r,n,e)})})},RN.prototype._requestRawRoutingTable=function(r,n,o,e,i){var u=this;return new Promise(function(e,t){r.protocol().requestRoutingInformation({routingContext:u._routingContext,databaseName:o,impersonatedUser:i,sessionContext:{bookmarks:n._lastBookmarks,mode:n._mode,database:n._database,afterComplete:n._onComplete},onCompleted:e,onError:t})})},_0.default=RN;var AN,kN,F0=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},V_=(Object.defineProperty(S0,"__esModule",{value:!0}),S0.RoutingTable=S0.Rediscovery=void 0,F0(_0)),Y0=(S0.Rediscovery=V_.default,F0(cl)),q0=(S0.RoutingTable=Y0.default,S0.default=V_.default,r&&r.__extends||(AN=function(e,t){return(AN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}AN(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})),MN=r&&r.__assign||function(){return(MN=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},NN=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),xN=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),uy=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&NN(t,e,r);return xN(t,e),t},DN=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},UN=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},LN=r&&r.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},FN=r&&r.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),u=[];try{for(;(void 0===t||0<t--)&&!(n=i.next()).done;)u.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return u},X0=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},BN=(Object.defineProperty(w0,"__esModule",{value:!0}),e),WN=uy(S0),qN=yp,zN=X0(s_),qy=X0($f),VN=Ic,HN=ep,GN=Fy,YN=BN.error.SERVICE_UNAVAILABLE,KN=BN.error.SESSION_EXPIRED,ZN=BN.internal.bookmarks.Bookmarks,R0=BN.internal.constants,XN=R0.ACCESS_MODE_READ,QN=R0.ACCESS_MODE_WRITE,JN=R0.BOLT_PROTOCOL_V3,$N=R0.BOLT_PROTOCOL_V4_0,ex=R0.BOLT_PROTOCOL_V4_4,tx=R0.BOLT_PROTOCOL_V5_1,rx=null,nx=(0,BN.int)(3e4),sg=(kN=qy.default,q0(ox,kN),ox.prototype._createConnectionErrorHandler=function(){return new HN.ConnectionErrorHandler(KN)},ox.prototype._handleUnavailability=function(e,t,r){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(t," for database '").concat(r,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forget(t,r||rx),e},ox.prototype._handleSecurityError=function(e,t,r,n){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(t," for database '").concat(n,"' because of an error ").concat(e.code," '").concat(e.message,"'")),kN.prototype._handleSecurityError.call(this,e,t,r,n)},ox.prototype._handleWriteFailure=function(e,t,r){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(t," for database '").concat(r,"' because of an error ").concat(e.code," '").concat(e.message,"'")),this.forgetWriter(t,r||rx),(0,BN.newError)("No longer possible to write to server at "+t,KN,e)},ox.prototype.acquireConnection=function(e){var e=void 0===e?{}:e,s=e.accessMode,c=e.database,l=e.bookmarks,f=e.impersonatedUser,p=e.onDatabaseNameResolved,d=e.auth;return DN(this,void 0,void 0,function(){var t,r,n,o,i,u,a=this;return UN(this,function(e){switch(e.label){case 0:return n={database:c||rx},o=new HN.ConnectionErrorHandler(KN,function(e,t){return a._handleUnavailability(e,t,n.database)},function(e,t){return a._handleWriteFailure(e,t,n.database)},function(e,t,r){return a._handleSecurityError(e,t,r,n.database)}),[4,this._freshRoutingTable({accessMode:s,database:n.database,bookmarks:l,impersonatedUser:f,auth:d,onDatabaseNameResolved:function(e){n.database=n.database||e,p&&p(e)}})];case 1:if(u=e.sent(),s===XN)r=this._loadBalancingStrategy.selectReader(u.readers),t="read";else{if(s!==QN)throw(0,BN.newError)("Illegal mode "+s);r=this._loadBalancingStrategy.selectWriter(u.writers),t="write"}if(!r)throw(0,BN.newError)("Failed to obtain connection towards ".concat(t," server. Known routing table is: ").concat(u),KN);e.label=2;case 2:return e.trys.push([2,6,,7]),[4,this._connectionPool.acquire({auth:d},r)];case 3:return(i=e.sent(),d)?[4,this._verifyStickyConnection({auth:d,connection:i,address:r})]:[3,5];case 4:return e.sent(),[2,i];case 5:return[2,new HN.DelegateConnection(i,o)];case 6:throw u=e.sent(),o.handleAndTransformError(u,r);case 7:return[2]}})})},ox.prototype._hasProtocolVersion=function(u){return DN(this,void 0,void 0,function(){var t,r,n,o,i;return UN(this,function(e){switch(e.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:t=e.sent(),n=0,e.label=2;case 2:if(!(n<t.length))return[3,8];e.label=3;case 3:return e.trys.push([3,6,,7]),[4,this._createChannelConnection(t[n])];case 4:return i=e.sent(),o=i.protocol()?i.protocol().version:null,[4,i.close()];case 5:return e.sent(),o?[2,u(o)]:[2,!1];case 6:return i=e.sent(),r=i,[3,7];case 7:return n++,[3,2];case 8:if(r)throw r;return[2,!1]}})})},ox.prototype.supportsMultiDb=function(){return DN(this,void 0,void 0,function(){return UN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return $N<=e})];case 1:return[2,e.sent()]}})})},ox.prototype.supportsTransactionConfig=function(){return DN(this,void 0,void 0,function(){return UN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return JN<=e})];case 1:return[2,e.sent()]}})})},ox.prototype.supportsUserImpersonation=function(){return DN(this,void 0,void 0,function(){return UN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return ex<=e})];case 1:return[2,e.sent()]}})})},ox.prototype.supportsSessionAuth=function(){return DN(this,void 0,void 0,function(){return UN(this,function(e){switch(e.label){case 0:return[4,this._hasProtocolVersion(function(e){return tx<=e})];case 1:return[2,e.sent()]}})})},ox.prototype.getNegotiatedProtocolVersion=function(){var r=this;return new Promise(function(e,t){r._hasProtocolVersion(e).catch(t)})},ox.prototype.verifyAuthentication=function(e){var n=e.database,o=e.accessMode,i=e.auth;return DN(this,void 0,void 0,function(){var t=this;return UN(this,function(e){return[2,this._verifyAuthentication({auth:i,getAddress:function(){return DN(t,void 0,void 0,function(){var t,r;return UN(this,function(e){switch(e.label){case 0:return t={database:n||rx},[4,this._freshRoutingTable({accessMode:o,database:t.database,auth:i,onDatabaseNameResolved:function(e){t.database=t.database||e}})];case 1:if(r=e.sent(),0===(r=o===QN?r.writers:r.readers).length)throw(0,BN.newError)("No servers available for database '".concat(t.database,"' with access mode '").concat(o,"'"),YN);return[2,r[0]]}})})}})]})})},ox.prototype.verifyConnectivityAndGetServerInfo=function(e){var l=e.database,f=e.accessMode;return DN(this,void 0,void 0,function(){var t,r,n,o,i,u,a,s,c;return UN(this,function(e){switch(e.label){case 0:return t={database:l||rx},[4,this._freshRoutingTable({accessMode:f,database:t.database,onDatabaseNameResolved:function(e){t.database=t.database||e}})];case 1:r=e.sent(),r=f===QN?r.writers:r.readers,n=(0,BN.newError)("No servers available for database '".concat(t.database,"' with access mode '").concat(f,"'"),YN),e.label=2;case 2:e.trys.push([2,9,10,11]),o=LN(r),i=o.next(),e.label=3;case 3:if(i.done)return[3,8];u=i.value,e.label=4;case 4:return e.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:u})];case 5:return[2,e.sent()];case 6:return a=e.sent(),n=a,[3,7];case 7:return i=o.next(),[3,3];case 8:return[3,11];case 9:return a=e.sent(),s={error:a},[3,11];case 10:try{i&&!i.done&&(c=o.return)&&c.call(o)}finally{if(s)throw s.error}return[7];case 11:throw n}})})},ox.prototype.forget=function(t,e){this._routingTableRegistry.apply(e,{applyWhenExists:function(e){return e.forget(t)}}),this._connectionPool.purge(t).catch(function(){})},ox.prototype.forgetWriter=function(t,e){this._routingTableRegistry.apply(e,{applyWhenExists:function(e){return e.forgetWriter(t)}})},ox.prototype._freshRoutingTable=function(e){var e=void 0===e?{}:e,t=e.accessMode,r=e.database,n=e.bookmarks,o=e.impersonatedUser,i=e.onDatabaseNameResolved,e=e.auth,u=this._routingTableRegistry.get(r,function(){return new WN.RoutingTable({database:r})});return u.isStaleFor(t)?(this._log.info('Routing table is stale for database: "'.concat(r,'" and access mode: "').concat(t,'": ').concat(u)),this._refreshRoutingTable(u,n,o,e).then(function(e){return i(e.database),e})):u},ox.prototype._refreshRoutingTable=function(e,t,r,n){var o=e.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(o,e,t,r,n):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(o,e,t,r,n)},ox.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(u,a,s,c,l){return DN(this,void 0,void 0,function(){var t,r,n,o,i;return UN(this,function(e){switch(e.label){case 0:return t=[],[4,this._fetchRoutingTableUsingSeedRouter(t,this._seedRouter,a,s,c,l)];case 1:return(t=FN.apply(void 0,[e.sent(),2]),r=t[0],n=t[1],r)?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(u,a,s,c,l)];case 3:i=FN.apply(void 0,[e.sent(),2]),o=i[0],i=i[1],r=o,n=i||n,e.label=4;case 4:return[4,this._applyRoutingTableIfPossible(a,r,n)];case 5:return[2,e.sent()]}})})},ox.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(o,i,u,a,s){return DN(this,void 0,void 0,function(){var t,r,n;return UN(this,function(e){switch(e.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(o,i,u,a,s)];case 1:return r=FN.apply(void 0,[e.sent(),2]),t=r[0],r=r[1],t?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(o,this._seedRouter,i,u,a,s)];case 2:n=FN.apply(void 0,[e.sent(),2]),t=n[0],r=n[1],e.label=3;case 3:return[4,this._applyRoutingTableIfPossible(i,t,r)];case 4:return[2,e.sent()]}})})},ox.prototype._fetchRoutingTableUsingKnownRouters=function(n,o,i,u,a){return DN(this,void 0,void 0,function(){var t,r;return UN(this,function(e){switch(e.label){case 0:return[4,this._fetchRoutingTable(n,o,i,u,a)];case 1:return(t=FN.apply(void 0,[e.sent(),2]),r=t[0],t=t[1],r)?[2,[r,null]]:(r=n.length-1,ox._forgetRouter(o,n,r),[2,[null,t]])}})})},ox.prototype._fetchRoutingTableUsingSeedRouter=function(r,n,o,i,u,a){return DN(this,void 0,void 0,function(){var t;return UN(this,function(e){switch(e.label){case 0:return[4,this._resolveSeedRouter(n)];case 1:return t=e.sent(),t=t.filter(function(e){return r.indexOf(e)<0}),[4,this._fetchRoutingTable(t,o,i,u,a)];case 2:return[2,e.sent()]}})})},ox.prototype._resolveSeedRouter=function(n){return DN(this,void 0,void 0,function(){var t,r=this;return UN(this,function(e){switch(e.label){case 0:return[4,this._hostNameResolver.resolve(n)];case 1:return t=e.sent(),[4,Promise.all(t.map(function(e){return r._dnsResolver.resolve(e)}))];case 2:return t=e.sent(),[2,[].concat.apply([],t)]}})})},ox.prototype._fetchRoutingTable=function(s,c,l,f,p){return DN(this,void 0,void 0,function(){var t=this;return UN(this,function(e){return[2,s.reduce(function(i,u,a){return DN(t,void 0,void 0,function(){var t,r,n,o;return UN(this,function(e){switch(e.label){case 0:return[4,i];case 1:return(t=FN.apply(void 0,[e.sent(),1]),t=t[0])?[2,[t,null]]:(ox._forgetRouter(c,s,a-1),[4,this._createSessionForRediscovery(u,l,f,p)]);case 2:if(t=FN.apply(void 0,[e.sent(),2]),r=t[0],n=t[1],!r)return[3,8];e.label=3;case 3:return e.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(r,c.database,u,f)];case 4:return[2,[e.sent(),null]];case 5:return o=e.sent(),[2,this._handleRediscoveryError(o,u)];case 6:return r.close(),[7];case 7:return[3,9];case 8:return[2,[null,n]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},ox.prototype._createSessionForRediscovery=function(o,i,u,a){return DN(this,void 0,void 0,function(){var t,r,n=this;return UN(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:a},o)];case 1:return(t=e.sent(),a)?[4,this._verifyStickyConnection({auth:a,connection:t,address:o})]:[3,3];case 2:e.sent(),e.label=3;case 3:return r=HN.ConnectionErrorHandler.create({errorCode:KN,handleSecurityError:function(e,t,r){return n._handleSecurityError(e,t,r)}}),r=t._sticky?new HN.DelegateConnection(t):new HN.DelegateConnection(t,r),r=new zN.default(r),t.protocol().version<4?[2,[new BN.Session({mode:QN,bookmarks:ZN.empty(),connectionProvider:r}),null]]:[2,[new BN.Session({mode:XN,database:"system",bookmarks:i,connectionProvider:r,impersonatedUser:u}),null]];case 4:return r=e.sent(),[2,this._handleRediscoveryError(r,o)];case 5:return[2]}})})},ox.prototype._handleRediscoveryError=function(e,t){if(["Neo.ClientError.Database.DatabaseNotFound","Neo.ClientError.Transaction.InvalidBookmark","Neo.ClientError.Transaction.InvalidBookmarkMixture","Neo.ClientError.Statement.ArgumentError","Neo.ClientError.Request.Invalid","Neo.ClientError.Statement.TypeError","N/A"].includes(e.code)||(r=e).code.startsWith("Neo.ClientError.Security.")&&!["Neo.ClientError.Security.AuthorizationExpired"].includes(r.code))throw e;if("Neo.ClientError.Procedure.ProcedureNotFound"===e.code)throw(0,BN.newError)("Server at ".concat(t.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),YN,e);var r;return this._log.warn("unable to fetch routing table because of an error ".concat(e)),[null,e]},ox.prototype._applyRoutingTableIfPossible=function(t,r,n){return DN(this,void 0,void 0,function(){return UN(this,function(e){switch(e.label){case 0:if(r)return 0===r.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(r)];throw(0,BN.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(t),YN,n);case 1:return e.sent(),[2,r]}})})},ox.prototype._updateRoutingTable=function(t){return DN(this,void 0,void 0,function(){return UN(this,function(e){switch(e.label){case 0:return[4,this._connectionPool.keepAll(t.allServers())];case 1:return e.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(t),this._log.info("Updated routing table ".concat(t)),[2]}})})},ox._forgetRouter=function(e,t,r){t=t[r];e&&t&&e.forgetRouter(t)},ox);function ox(e){var t=e.id,r=e.address,n=e.routingContext,o=e.hostNameResolver,i=e.config,u=e.log,a=e.userAgent,s=e.boltAgent,c=e.authTokenManager,l=e.routingTablePurgeDelay,e=e.newPool,f=kN.call(this,{id:t,config:i,log:u,userAgent:a,boltAgent:s,authTokenManager:c,newPool:e},function(n){return DN(f,void 0,void 0,function(){var t,r;return UN(this,function(e){switch(e.label){case 0:return t=HN.createChannelConnection,r=[n,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,t.apply(void 0,r.concat([e.sent(),this._routingContext]))]}})})})||this;return f._routingContext=MN(MN({},n),{address:r.toString()}),f._seedRouter=r,f._rediscovery=new WN.default(f._routingContext),f._loadBalancingStrategy=new VN.LeastConnectedLoadBalancingStrategy(f._connectionPool),f._hostNameResolver=o,f._dnsResolver=new qN.HostNameResolver,f._log=u,f._useSeedRouter=!0,f._routingTableRegistry=new Ex(l?(0,BN.int)(l):nx),f._refreshRoutingTable=GN.functional.reuseOngoingRequest(f._refreshRoutingTable,f),f}w0.default=sg;Px.prototype.register=function(e){return this._tables.set(e.database,e),this},Px.prototype.apply=function(e,t){var t=void 0===t?{}:t,r=t.applyWhenExists,t=t.applyWhenDontExists,t=void 0===t?function(){}:t;return this._tables.has(e)?r(this._tables.get(e)):"string"==typeof e||null===e?t():this._forEach(r),this},Px.prototype.get=function(e,t){return this._tables.has(e)?this._tables.get(e):"function"==typeof t?t():t},Px.prototype.removeExpired=function(){var t=this;return this._removeIf(function(e){return e.isExpiredFor(t._routingTablePurgeDelay)})},Px.prototype._forEach=function(e){var t,r;try{for(var n=LN(this._tables),o=n.next();!o.done;o=n.next())e(FN(o.value,2)[1])}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this},Px.prototype._remove=function(e){return this._tables.delete(e),this},Px.prototype._removeIf=function(e){var t,r;try{for(var n=LN(this._tables),o=n.next();!o.done;o=n.next()){var i=FN(o.value,2),u=i[0];e(i[1])&&this._remove(u)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return this};var ix,ux,ax,sx,cx,lx,fx,px,dx,hx,bx,x,yx,_x,vx,mx,gx,Ox,wx,Ex=Px;function Px(e){this._tables=new Map,this._routingTablePurgeDelay=e}function Sx(e,t,r){void 0===r&&(r={}),vx(e,"Bolt URL");var n,o=Ox.parseDatabaseUrl(e),i=!1,u=!1;switch(o.scheme){case"bolt":break;case"bolt+s":u=!0,n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":u=!0,n="TRUST_ALL_CERTIFICATES";break;case"neo4j":i=!0;break;case"neo4j+s":n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",i=u=!0;break;case"neo4j+ssc":n="TRUST_ALL_CERTIFICATES",i=u=!0;break;default:throw new Error("Unknown scheme: ".concat(o.scheme))}if(u){if("encrypted"in r||"trust"in r)throw new Error("Encryption/trust can only be configured either through URL or config, not both");r.encrypted=_x,r.trust=n,r.clientCertificate=(0,x.resolveCertificateProvider)(r.clientCertificate)}var a=function(e){if("object"==typeof(t=e)&&null!=t&&"getToken"in t&&"handleSecurityException"in t&&"function"==typeof t.getToken&&"function"==typeof t.handleSecurityException)return e;var t=e;return(t=t||{}).scheme=t.scheme||"none",(0,x.staticAuthTokenManager)({authToken:t})}(t),s=(r.userAgent=r.userAgent||wx,r.boltAgent=x.internal.boltAgent.fromVersion(bx.default),gx.fromUrl(o.hostAndPort)),t={address:s,typename:i?"Routing":"Direct",routing:i};return new hx.Driver(t,r,function(){{if(i)return function(e,t,r,n){return new yx.RoutingConnectionProvider({id:e,config:t,log:r,hostNameResolver:n,authTokenManager:a,address:s,userAgent:t.userAgent,boltAgent:t.boltAgent,routingContext:o.query})};if(mx(o.query))return function(e,t,r){return new yx.DirectConnectionProvider({id:e,config:t,log:r,authTokenManager:a,address:s,userAgent:t.userAgent,boltAgent:t.boltAgent})};throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(e,"'"))}}())}function Tx(r,n){return px(this,void 0,void 0,function(){var t;return dx(this,function(e){switch(e.label){case 0:t=Sx(r,{scheme:"none",principal:"",credentials:""},n),e.label=1;case 1:return e.trys.push([1,,3,5]),[4,t.getNegotiatedProtocolVersion()];case 2:return e.sent(),[2,!0];case 3:return[4,t.close()];case 4:return e.sent(),[7];case 5:return[2]}})})}return dg=u_,ix=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(dg,"__esModule",{value:!0}),dg.RoutingConnectionProvider=dg.DirectConnectionProvider=dg.PooledConnectionProvider=dg.SingleConnectionProvider=void 0,ux=s_,Object.defineProperty(dg,"SingleConnectionProvider",{enumerable:!0,get:function(){return ix(ux).default}}),ax=$f,Object.defineProperty(dg,"PooledConnectionProvider",{enumerable:!0,get:function(){return ix(ax).default}}),sx=Wm,Object.defineProperty(dg,"DirectConnectionProvider",{enumerable:!0,get:function(){return ix(sx).default}}),cx=w0,Object.defineProperty(dg,"RoutingConnectionProvider",{enumerable:!0,get:function(){return ix(cx).default}}),Gh=i,lx=r&&r.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&("get"in o?t.__esModule:!o.writable&&!o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),fx=r&&r.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vl=r&&r.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&lx(t,e,r);return fx(t,e),t},Mc=r&&r.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||lx(t,e,r)},Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.packstream=Gh.channel=Gh.buf=Gh.bolt=Gh.loadBalancing=void 0,Gh.loadBalancing=vl(Ic),Gh.bolt=vl(w),Gh.buf=vl(Jp),Gh.channel=vl(yp),Gh.packstream=vl(z_),Mc(u_,Gh),n=F,px=r&&r.__awaiter||function(e,u,a,s){return new(a=a||Promise)(function(r,t){function n(e){try{i(s.next(e))}catch(e){t(e)}}function o(e){try{i(s.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,o)}i((s=s.apply(e,u||[])).next())})},dx=r&&r.__generator||function(n,o){var i,u,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function e(r){return function(e){var t=[r,e];if(i)throw new TypeError("Generator is already executing.");for(;s=c&&t[c=0]?0:s;)try{if(i=1,u&&(a=2&t[0]?u.return:t[0]?u.throw||((a=u.return)&&a.call(u),0):u.next)&&!(a=a.call(u,t[1])).done)return a;switch(u=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,u=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=o.call(n,s)}catch(e){t=[6,e],u=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},il=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(n,"__esModule",{value:!0}),n.UnboundRelationship=n.Relationship=n.Node=n.Record=n.ServerInfo=n.GqlStatusObject=n.Notification=n.QueryStatistics=n.ProfiledPlan=n.Plan=n.ResultSummary=n.RxResult=n.RxManagedTransaction=n.RxTransaction=n.RxSession=n.EagerResult=n.Result=n.ManagedTransaction=n.Transaction=n.Session=n.Driver=n.temporal=n.spatial=n.graph=n.error=n.routing=n.session=n.types=n.logging=n.auth=n.isRetryableError=n.Neo4jError=n.integer=n.isUnboundRelationship=n.isRelationship=n.isPathSegment=n.isPath=n.isNode=n.isDateTime=n.isLocalDateTime=n.isDate=n.isTime=n.isLocalTime=n.isDuration=n.isPoint=n.isInt=n.int=n.hasReachableServer=n.driver=n.authTokenManagers=void 0,n.clientCertificateProviders=n.notificationFilterMinimumSeverityLevel=n.notificationFilterDisabledClassification=n.notificationFilterDisabledCategory=n.notificationSeverityLevel=n.notificationClassification=n.notificationCategory=n.resultTransformers=n.bookmarkManager=n.DateTime=n.LocalDateTime=n.Date=n.Time=n.LocalTime=n.Duration=n.Integer=n.Point=n.PathSegment=n.Path=void 0,hx=B,Object.defineProperty(n,"Driver",{enumerable:!0,get:function(){return hx.Driver}}),bx=il(v),x=e,Object.defineProperty(n,"authTokenManagers",{enumerable:!0,get:function(){return x.authTokenManagers}}),Object.defineProperty(n,"Neo4jError",{enumerable:!0,get:function(){return x.Neo4jError}}),Object.defineProperty(n,"isRetryableError",{enumerable:!0,get:function(){return x.isRetryableError}}),Object.defineProperty(n,"error",{enumerable:!0,get:function(){return x.error}}),Object.defineProperty(n,"Integer",{enumerable:!0,get:function(){return x.Integer}}),Object.defineProperty(n,"int",{enumerable:!0,get:function(){return x.int}}),Object.defineProperty(n,"isInt",{enumerable:!0,get:function(){return x.isInt}}),Object.defineProperty(n,"isPoint",{enumerable:!0,get:function(){return x.isPoint}}),Object.defineProperty(n,"Point",{enumerable:!0,get:function(){return x.Point}}),Object.defineProperty(n,"Date",{enumerable:!0,get:function(){return x.Date}}),Object.defineProperty(n,"DateTime",{enumerable:!0,get:function(){return x.DateTime}}),Object.defineProperty(n,"Duration",{enumerable:!0,get:function(){return x.Duration}}),Object.defineProperty(n,"isDate",{enumerable:!0,get:function(){return x.isDate}}),Object.defineProperty(n,"isDateTime",{enumerable:!0,get:function(){return x.isDateTime}}),Object.defineProperty(n,"isDuration",{enumerable:!0,get:function(){return x.isDuration}}),Object.defineProperty(n,"isLocalDateTime",{enumerable:!0,get:function(){return x.isLocalDateTime}}),Object.defineProperty(n,"isLocalTime",{enumerable:!0,get:function(){return x.isLocalTime}}),Object.defineProperty(n,"isNode",{enumerable:!0,get:function(){return x.isNode}}),Object.defineProperty(n,"isPath",{enumerable:!0,get:function(){return x.isPath}}),Object.defineProperty(n,"isPathSegment",{enumerable:!0,get:function(){return x.isPathSegment}}),Object.defineProperty(n,"isRelationship",{enumerable:!0,get:function(){return x.isRelationship}}),Object.defineProperty(n,"isTime",{enumerable:!0,get:function(){return x.isTime}}),Object.defineProperty(n,"isUnboundRelationship",{enumerable:!0,get:function(){return x.isUnboundRelationship}}),Object.defineProperty(n,"LocalDateTime",{enumerable:!0,get:function(){return x.LocalDateTime}}),Object.defineProperty(n,"LocalTime",{enumerable:!0,get:function(){return x.LocalTime}}),Object.defineProperty(n,"Time",{enumerable:!0,get:function(){return x.Time}}),Object.defineProperty(n,"Node",{enumerable:!0,get:function(){return x.Node}}),Object.defineProperty(n,"Path",{enumerable:!0,get:function(){return x.Path}}),Object.defineProperty(n,"PathSegment",{enumerable:!0,get:function(){return x.PathSegment}}),Object.defineProperty(n,"Relationship",{enumerable:!0,get:function(){return x.Relationship}}),Object.defineProperty(n,"UnboundRelationship",{enumerable:!0,get:function(){return x.UnboundRelationship}}),Object.defineProperty(n,"Record",{enumerable:!0,get:function(){return x.Record}}),Object.defineProperty(n,"ResultSummary",{enumerable:!0,get:function(){return x.ResultSummary}}),Object.defineProperty(n,"Plan",{enumerable:!0,get:function(){return x.Plan}}),Object.defineProperty(n,"ProfiledPlan",{enumerable:!0,get:function(){return x.ProfiledPlan}}),Object.defineProperty(n,"QueryStatistics",{enumerable:!0,get:function(){return x.QueryStatistics}}),Object.defineProperty(n,"Notification",{enumerable:!0,get:function(){return x.Notification}}),Object.defineProperty(n,"GqlStatusObject",{enumerable:!0,get:function(){return x.GqlStatusObject}}),Object.defineProperty(n,"ServerInfo",{enumerable:!0,get:function(){return x.ServerInfo}}),Object.defineProperty(n,"Result",{enumerable:!0,get:function(){return x.Result}}),Object.defineProperty(n,"EagerResult",{enumerable:!0,get:function(){return x.EagerResult}}),Object.defineProperty(n,"auth",{enumerable:!0,get:function(){return x.auth}}),Object.defineProperty(n,"Session",{enumerable:!0,get:function(){return x.Session}}),Object.defineProperty(n,"Transaction",{enumerable:!0,get:function(){return x.Transaction}}),Object.defineProperty(n,"ManagedTransaction",{enumerable:!0,get:function(){return x.ManagedTransaction}}),Object.defineProperty(n,"bookmarkManager",{enumerable:!0,get:function(){return x.bookmarkManager}}),Object.defineProperty(n,"routing",{enumerable:!0,get:function(){return x.routing}}),Object.defineProperty(n,"resultTransformers",{enumerable:!0,get:function(){return x.resultTransformers}}),Object.defineProperty(n,"notificationCategory",{enumerable:!0,get:function(){return x.notificationCategory}}),Object.defineProperty(n,"notificationClassification",{enumerable:!0,get:function(){return x.notificationClassification}}),Object.defineProperty(n,"notificationSeverityLevel",{enumerable:!0,get:function(){return x.notificationSeverityLevel}}),Object.defineProperty(n,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return x.notificationFilterDisabledCategory}}),Object.defineProperty(n,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return x.notificationFilterDisabledClassification}}),Object.defineProperty(n,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return x.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(n,"clientCertificateProviders",{enumerable:!0,get:function(){return x.clientCertificateProviders}}),yx=i,og=il(Tr),n.RxSession=og.default,X=il(u),n.RxTransaction=X.default,m=il(g),n.RxManagedTransaction=m.default,il=il(s),n.RxResult=il.default,C=x.internal.util,_x=C.ENCRYPTION_ON,vx=C.assertString,mx=C.isEmptyObjectOrNull,gx=x.internal.serverAddress.ServerAddress,Ox=x.internal.urlUtil,wx="neo4j-javascript/"+bx.default,n.driver=Sx,n.hasReachableServer=Tx,C={console:function(e){return{level:e,logger:function(e,t){return console.log("".concat(r.Date.now()," ").concat(e.toUpperCase()," ").concat(t))}}}},n.logging=C,_={Node:x.Node,Relationship:x.Relationship,UnboundRelationship:x.UnboundRelationship,PathSegment:x.PathSegment,Path:x.Path,Result:x.Result,EagerResult:x.EagerResult,ResultSummary:x.ResultSummary,Record:x.Record,Point:x.Point,Date:x.Date,DateTime:x.DateTime,Duration:x.Duration,LocalDateTime:x.LocalDateTime,LocalTime:x.LocalTime,Time:x.Time,Integer:x.Integer},n.types=_,Xg={READ:hx.READ,WRITE:hx.WRITE},n.session=Xg,t={toNumber:x.toNumber,toString:x.toString,inSafeRange:x.inSafeRange},n.integer=t,qr={isPoint:x.isPoint},n.spatial=qr,Ig={isDuration:x.isDuration,isLocalTime:x.isLocalTime,isTime:x.isTime,isDate:x.isDate,isLocalDateTime:x.isLocalDateTime,isDateTime:x.isDateTime},n.temporal=Ig,P={isNode:x.isNode,isPath:x.isPath,isPathSegment:x.isPathSegment,isRelationship:x.isRelationship,isUnboundRelationship:x.isUnboundRelationship},n.graph=P,t={authTokenManagers:x.authTokenManagers,driver:Sx,hasReachableServer:Tx,int:x.int,isInt:x.isInt,isPoint:x.isPoint,isDuration:x.isDuration,isLocalTime:x.isLocalTime,isTime:x.isTime,isDate:x.isDate,isLocalDateTime:x.isLocalDateTime,isDateTime:x.isDateTime,isNode:x.isNode,isPath:x.isPath,isPathSegment:x.isPathSegment,isRelationship:x.isRelationship,isUnboundRelationship:x.isUnboundRelationship,integer:t,Neo4jError:x.Neo4jError,isRetryableError:x.isRetryableError,auth:x.auth,logging:C,types:_,session:Xg,routing:x.routing,error:x.error,graph:P,spatial:qr,temporal:Ig,Driver:hx.Driver,Session:x.Session,Transaction:x.Transaction,ManagedTransaction:x.ManagedTransaction,Result:x.Result,EagerResult:x.EagerResult,RxSession:og.default,RxTransaction:X.default,RxManagedTransaction:m.default,RxResult:il.default,ResultSummary:x.ResultSummary,Plan:x.Plan,ProfiledPlan:x.ProfiledPlan,QueryStatistics:x.QueryStatistics,Notification:x.Notification,GqlStatusObject:x.GqlStatusObject,ServerInfo:x.ServerInfo,Record:x.Record,Node:x.Node,Relationship:x.Relationship,UnboundRelationship:x.UnboundRelationship,Path:x.Path,PathSegment:x.PathSegment,Point:x.Point,Integer:x.Integer,Duration:x.Duration,LocalTime:x.LocalTime,Time:x.Time,Date:x.Date,LocalDateTime:x.LocalDateTime,DateTime:x.DateTime,bookmarkManager:x.bookmarkManager,resultTransformers:x.resultTransformers,notificationCategory:x.notificationCategory,notificationSeverityLevel:x.notificationSeverityLevel,notificationFilterDisabledCategory:x.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:x.notificationFilterMinimumSeverityLevel,clientCertificateProviders:x.clientCertificateProviders},n.default=t,D(F)});
>>>>>>> library-features
